import{S as t,i as e,s as n,e as s,c as a,a as c,d as i,b as o,f as r,D as l,A as d,az as u,aO as h,F as m}from"./vendor-d7518362.js";function p(t){let e;return{c(){e=s("div"),this.h()},l(t){e=a(t,"DIV",{class:!0}),c(e).forEach(i),this.h()},h(){o(e,"class","ripple svelte-1fw2y3i")},m(n,s){r(n,e,s),t[4](e)},p:l,i:l,o:l,d(n){n&&i(e),t[4](null)}}}function v(t,e){t.style.transform=e,t.style.webkitTransform=e}function f(t,e){t.style.opacity=e.toString()}const g=function(t,e){const n=["touchcancel","mouseleave","dragstart"];let s=e.currentTarget||e.target;if(s&&!s.classList.contains("ripple")&&(s=[].find.call(s.children,(t=>t.classList.contains("ripple")))),!s)return;const a=s.dataset.event;if(a&&a!==t)return;s.dataset.event=t;const c=document.createElement("span"),{radius:i,scale:o,x:r,y:l,centerX:d,centerY:u}=((t,e)=>{const n=e.getBoundingClientRect(),s=function(t){return"TouchEvent"===t.constructor.name}(t)?t.touches[t.touches.length-1]:t,a=s.clientX-n.left,c=s.clientY-n.top;let i=0,o=.3;const r=e.dataset.center;e.dataset.circle?(o=.15,i=e.clientWidth/2,i=r?i:i+Math.sqrt((a-i)**2+(c-i)**2)/4):i=Math.sqrt(e.clientWidth**2+e.clientHeight**2)/2;const l=(e.clientWidth-2*i)/2+"px",d=(e.clientHeight-2*i)/2+"px";return{radius:i,scale:o,x:r?l:a-i+"px",y:r?d:c-i+"px",centerX:l,centerY:d}})(e,s),h=s.dataset.color,m=2*i+"px";c.className="animation",c.style.width=m,c.style.height=m,c.style.background=h,c.classList.add("animation--enter"),c.classList.add("animation--visible"),v(c,`translate(${r}, ${l}) scale3d(${o},${o},${o})`),f(c,0),c.dataset.activated=String(performance.now()),s.appendChild(c),setTimeout((()=>{c.classList.remove("animation--enter"),c.classList.add("animation--in"),v(c,`translate(${d}, ${u}) scale3d(1,1,1)`),f(c,.25)}),0);const p="mousedown"===t?"mouseup":"touchend",g=function(){document.removeEventListener(p,g),n.forEach((t=>{document.removeEventListener(t,g)}));const t=performance.now()-Number(c.dataset.activated),e=Math.max(250-t,0);setTimeout((()=>{c.classList.remove("animation--in"),c.classList.add("animation--out"),f(c,0),setTimeout((()=>{c&&s.removeChild(c),0===s.children.length&&delete s.dataset.event}),300)}),e)};document.addEventListener(p,g),n.forEach((t=>{document.addEventListener(t,g,{passive:!0})}))},y=function(t){0===t.button&&g(t.type,t)},L=function(t){if(t.changedTouches)for(let e=0;e<t.changedTouches.length;++e)g(t.type,t.changedTouches[e])};function E(t,e,n){let s,a,{center:c=!1}=e,{circle:i=!1}=e,{color:o="var(--ripple-color, currentColor)"}=e;return d((async()=>{await u();try{c&&n(0,s.dataset.center="true",s),i&&n(0,s.dataset.circle="true",s),n(0,s.dataset.color=o,s),a=s.parentElement}catch(e){}if(!a)return void console.error("Ripple: Trigger element not found.");let t=window.getComputedStyle(a);0!==t.position.length&&"static"!==t.position||(a.style.position="relative"),a.addEventListener("touchstart",L,{passive:!0}),a.addEventListener("mousedown",y,{passive:!0})})),h((()=>{a&&(a.removeEventListener("mousedown",y),a.removeEventListener("touchstart",L))})),t.$$set=t=>{"center"in t&&n(1,c=t.center),"circle"in t&&n(2,i=t.circle),"color"in t&&n(3,o=t.color)},[s,c,i,o,function(t){m[t?"unshift":"push"]((()=>{s=t,n(0,s)}))}]}class w extends t{constructor(t){super(),e(this,t,E,p,n,{center:1,circle:2,color:3})}}export{w as R};
