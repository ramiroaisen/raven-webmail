import{S as e,i as t,s as n,e as a,c as s,a as r,d as l,b as o,f as c,D as i,E as $,F as f,j as m,m as u,o as d,x as p,u as h,v,k as g,t as w,n as _,g as x,G as y,H as b,I as k,J as E,r as D,w as I,h as V,K as T,L as C,M as R,N,O as j,P as O,Q as F,R as M,T as S,U as q,V as P,l as U,W as A,X as B,Y as X,Z as G,_ as W,$ as J,a0 as H,a1 as K,y as L,C as Q,a2 as Y,a3 as Z,a4 as z,a5 as ee,a6 as te,a7 as ne,a8 as ae,a9 as se,aa as re,ab as le,ac as oe,ad as ce,A as ie}from"../chunks/vendor-d7518362.js";import{m as $e,a as fe,i as me,b as ue,_ as de,c as pe,g as he,d as ve,e as ge,f as we,h as _e,j as xe,k as ye,s as be,w as ke,l as Ee,n as De}from"../chunks/util-304b2847.js";import{n as Ie,l as Ve,p as Te}from"../chunks/locale-0e600940.js";import{R as Ce}from"../chunks/Ripple-cf147083.js";import{P as Re,M as Ne,_ as je,d as Oe}from"../chunks/compose-a6c6b8f1.js";import{p as Fe,M as Me}from"../chunks/MenuItem-5cc5a14c.js";import{D as Se}from"../chunks/Dialog-0470cc74.js";import{T as qe}from"../chunks/TextField-a82e0ce7.js";import{F as Pe}from"../chunks/Formy-f4c8c049.js";import{C as Ue,E as Ae,a as Be}from"../chunks/events-5f4a58b6.js";import"../chunks/singletons-12a22614.js";import"../chunks/preload-helper-ec9aa979.js";function Xe(e){let t;return{c(){t=a("div"),this.h()},l(e){t=s(e,"DIV",{class:!0}),r(t).forEach(l),this.h()},h(){o(t,"class","navigating svelte-18sspyq")},m(n,a){c(n,t,a),e[2](t)},p:i,i:i,o:i,d(n){n&&l(t),e[2](null)}}}function Ge(e,t,n){let a,s,r;$(e,Ie,(e=>n(1,a=e)));let l=!!a;return e.$$.update=()=>{2&e.$$.dirty&&(e=>{if(null!=r&&l!==e)if(l=e,e){let e=.1;n(0,r.style.opacity="1",r),n(0,r.style.width=100*e+"%",r),s=requestAnimationFrame((function t(){const a=Math.min(e+.01,.9);a!==e&&(e=a,r&&n(0,r.style.width=100*e+"%",r),s=requestAnimationFrame(t))}))}else s&&cancelAnimationFrame(s),n(0,r.style.width="100%",r),n(0,r.style.opacity="0",r)})(!!a)},[r,a,function(e){f[e?"unshift":"push"]((()=>{r=e,n(0,r)}))}]}class We extends e{constructor(e){super(),t(this,e,Ge,Xe,n,{})}}function Je(e){let t,n,i,$,f=e[0].unseen+"";return{c(){t=a("div"),n=w(f),this.h()},l(e){t=s(e,"DIV",{class:!0});var a=r(t);n=x(a,f),a.forEach(l),this.h()},h(){o(t,"class","counter svelte-ck30k")},m(e,a){c(e,t,a),b(t,n),$=!0},p(e,t){(!$||1&t)&&f!==(f=e[0].unseen+"")&&V(n,f)},i(e){$||(e&&T((()=>{i||(i=C(t,M,{duration:200},!0)),i.run(1)})),$=!0)},o(e){e&&(i||(i=C(t,M,{duration:200},!1)),i.run(0)),$=!1},d(e){e&&l(t),e&&i&&i.end()}}}function He(e){let t,n,i,$,w,x,E,D,I,V,R,N,j,U;function A(t){e[19](t)}$=new S({}),x=new Ce({});let B={anchor:"top-left",$$slots:{default:[tt]},$$scope:{ctx:e}};return void 0!==e[2]&&(B.open=e[2]),I=new Re({props:B}),f.push((()=>O(I,"open",A))),{c(){t=a("div"),n=a("div"),i=a("div"),m($.$$.fragment),w=g(),m(x.$$.fragment),E=g(),D=a("div"),m(I.$$.fragment),this.h()},l(e){t=s(e,"DIV",{class:!0});var a=r(t);n=s(a,"DIV",{class:!0});var o=r(n);i=s(o,"DIV",{class:!0});var c=r(i);u($.$$.fragment,c),w=_(c),u(x.$$.fragment,c),c.forEach(l),E=_(o),D=s(o,"DIV",{class:!0});var f=r(D);u(I.$$.fragment,f),f.forEach(l),o.forEach(l),a.forEach(l),this.h()},h(){o(i,"class","menu-btn btn-dark svelte-ck30k"),y(i,"hover",e[2]),o(D,"class","anchor svelte-ck30k"),o(n,"class","menu-in svelte-ck30k"),o(t,"class","menu-out svelte-ck30k")},m(a,s){c(a,t,s),b(t,n),b(n,i),d($,i,null),b(i,w),d(x,i,null),b(n,E),b(n,D),d(I,D,null),N=!0,j||(U=k(i,"click",q(P(e[14]))),j=!0)},p(e,t){4&t&&y(i,"hover",e[2]);const n={};1073742041&t&&(n.$$scope={dirty:t,ctx:e}),!V&&4&t&&(V=!0,n.open=e[2],F((()=>V=!1))),I.$set(n)},i(e){N||(p($.$$.fragment,e),p(x.$$.fragment,e),p(I.$$.fragment,e),e&&T((()=>{R||(R=C(t,M,{duration:200},!0)),R.run(1)})),N=!0)},o(e){h($.$$.fragment,e),h(x.$$.fragment,e),h(I.$$.fragment,e),e&&(R||(R=C(t,M,{duration:200},!1)),R.run(0)),N=!1},d(e){e&&l(t),v($),v(x),v(I),e&&R&&R.end(),j=!1,U()}}}function Ke(e){let t,n;return t=new Me({props:{icon:A,$$slots:{default:[Qe]},$$scope:{ctx:e}}}),t.$on("click",e[18]),{c(){m(t.$$.fragment)},l(e){u(t.$$.fragment,e)},m(e,a){d(t,e,a),n=!0},p(e,n){const a={};1073741952&n&&(a.$$scope={dirty:n,ctx:e}),t.$set(a)},i(e){n||(p(t.$$.fragment,e),n=!0)},o(e){h(t.$$.fragment,e),n=!1},d(e){v(t,e)}}}function Le(e){let t,n,a,s,r,o;return t=new Me({props:{icon:B,$$slots:{default:[Ye]},$$scope:{ctx:e}}}),t.$on("click",e[15]),a=new Me({props:{icon:A,$$slots:{default:[Ze]},$$scope:{ctx:e}}}),a.$on("click",e[16]),r=new Me({props:{icon:X,$$slots:{default:[ze]},$$scope:{ctx:e}}}),r.$on("click",e[17]),{c(){m(t.$$.fragment),n=g(),m(a.$$.fragment),s=g(),m(r.$$.fragment)},l(e){u(t.$$.fragment,e),n=_(e),u(a.$$.fragment,e),s=_(e),u(r.$$.fragment,e)},m(e,l){d(t,e,l),c(e,n,l),d(a,e,l),c(e,s,l),d(r,e,l),o=!0},p(e,n){const s={};1073741952&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s);const l={};1073741952&n&&(l.$$scope={dirty:n,ctx:e}),a.$set(l);const o={};1073741952&n&&(o.$$scope={dirty:n,ctx:e}),r.$set(o)},i(e){o||(p(t.$$.fragment,e),p(a.$$.fragment,e),p(r.$$.fragment,e),o=!0)},o(e){h(t.$$.fragment,e),h(a.$$.fragment,e),h(r.$$.fragment,e),o=!1},d(e){v(t,e),e&&l(n),v(a,e),e&&l(s),v(r,e)}}}function Qe(e){let t,n=e[7].Delete_all_messages+"";return{c(){t=w(n)},l(e){t=x(e,n)},m(e,n){c(e,t,n)},p(e,a){128&a&&n!==(n=e[7].Delete_all_messages+"")&&V(t,n)},d(e){e&&l(t)}}}function Ye(e){let t,n=e[7].Rename_folder+"";return{c(){t=w(n)},l(e){t=x(e,n)},m(e,n){c(e,t,n)},p(e,a){128&a&&n!==(n=e[7].Rename_folder+"")&&V(t,n)},d(e){e&&l(t)}}}function Ze(e){let t,n=e[7].Delete_all_messages+"";return{c(){t=w(n)},l(e){t=x(e,n)},m(e,n){c(e,t,n)},p(e,a){128&a&&n!==(n=e[7].Delete_all_messages+"")&&V(t,n)},d(e){e&&l(t)}}}function ze(e){let t,n=e[7].Delete_folder+"";return{c(){t=w(n)},l(e){t=x(e,n)},m(e,n){c(e,t,n)},p(e,a){128&a&&n!==(n=e[7].Delete_folder+"")&&V(t,n)},d(e){e&&l(t)}}}function et(e){let t,n,a,s,r;const o=[Le,Ke],i=[];function $(e,n){return(null==t||1&n)&&(t=!!xe(e[0])),t?0:1}return n=$(e,-1),a=i[n]=o[n](e),{c(){a.c(),s=U()},l(e){a.l(e),s=U()},m(e,t){i[n].m(e,t),c(e,s,t),r=!0},p(e,t){let r=n;n=$(e,t),n===r?i[n].p(e,t):(D(),h(i[r],1,1,(()=>{i[r]=null})),I(),a=i[n],a?a.p(e,t):(a=i[n]=o[n](e),a.c()),p(a,1),a.m(s.parentNode,s))},i(e){r||(p(a),r=!0)},o(e){h(a),r=!1},d(e){i[n].d(e),e&&l(s)}}}function tt(e){let t,n;return t=new Ne({props:{$$slots:{default:[et]},$$scope:{ctx:e}}}),{c(){m(t.$$.fragment)},l(e){u(t.$$.fragment,e)},m(e,a){d(t,e,a),n=!0},p(e,n){const a={};1073742041&n&&(a.$$scope={dirty:n,ctx:e}),t.$set(a)},i(e){n||(p(t.$$.fragment,e),n=!0)},o(e){h(t.$$.fragment,e),n=!1},d(e){v(t,e)}}}function nt(e){let t,n;return t=new Se({props:{title:e[7].Delete_folder+" "+$e(e[0]),width:"550px",onClose:e[22],$$slots:{default:[at]},$$scope:{ctx:e}}}),{c(){m(t.$$.fragment)},l(e){u(t.$$.fragment,e)},m(e,a){d(t,e,a),n=!0},p(e,n){const a={};129&n&&(a.title=e[7].Delete_folder+" "+$e(e[0])),8&n&&(a.onClose=e[22]),1073741952&n&&(a.$$scope={dirty:n,ctx:e}),t.$set(a)},i(e){n||(p(t.$$.fragment,e),n=!0)},o(e){h(t.$$.fragment,e),n=!1},d(e){v(t,e)}}}function at(e){let t,n,i,$,f,m,u,d,p=e[7].This_action_is_permanent_all_messages_will_be_deleted+"",h=e[7].Delete_folder+"";return{c(){t=a("div"),n=a("div"),i=w(p),$=g(),f=a("button"),m=w(h),this.h()},l(e){t=s(e,"DIV",{class:!0});var a=r(t);n=s(a,"DIV",{class:!0});var o=r(n);i=x(o,p),o.forEach(l),$=_(a),f=s(a,"BUTTON",{class:!0});var c=r(f);m=x(c,h),c.forEach(l),a.forEach(l),this.h()},h(){o(n,"class","delete-label svelte-ck30k"),o(f,"class","delete-confirm btn-light btn-primary elev2 svelte-ck30k"),o(t,"class","delete-body svelte-ck30k")},m(a,s){c(a,t,s),b(t,n),b(n,i),b(t,$),b(t,f),b(f,m),u||(d=k(f,"click",e[11]),u=!0)},p(e,t){128&t&&p!==(p=e[7].This_action_is_permanent_all_messages_will_be_deleted+"")&&V(i,p),128&t&&h!==(h=e[7].Delete_folder+"")&&V(m,h)},d(e){e&&l(t),u=!1,d()}}}function st(e){let t,n;return t=new Se({props:{title:e[7].Rename_folder+" "+$e(e[0]),width:"550px",onClose:e[24],$$slots:{default:[rt]},$$scope:{ctx:e}}}),{c(){m(t.$$.fragment)},l(e){u(t.$$.fragment,e)},m(e,a){d(t,e,a),n=!0},p(e,n){const a={};129&n&&(a.title=e[7].Rename_folder+" "+$e(e[0])),16&n&&(a.onClose=e[24]),1073741984&n&&(a.$$scope={dirty:n,ctx:e}),t.$set(a)},i(e){n||(p(t.$$.fragment,e),n=!0)},o(e){h(t.$$.fragment,e),n=!1},d(e){v(t,e)}}}function rt(e){let t,n,i,$,y,E,D,I,T,C=e[7].Rename_folder+"";function R(t){e[23](t)}let N={validate:!0,required:!0,trim:!0};return void 0!==e[5]&&(N.value=e[5]),n=new qe({props:N}),f.push((()=>O(n,"value",R))),{c(){t=a("div"),m(n.$$.fragment),$=g(),y=a("button"),E=w(C),this.h()},l(e){t=s(e,"DIV",{class:!0});var a=r(t);u(n.$$.fragment,a),$=_(a),y=s(a,"BUTTON",{class:!0});var o=r(y);E=x(o,C),o.forEach(l),a.forEach(l),this.h()},h(){o(y,"class","rename-confirm btn-light btn-primary elev2 svelte-ck30k"),o(t,"class","rename-body svelte-ck30k")},m(a,s){c(a,t,s),d(n,t,null),b(t,$),b(t,y),b(y,E),D=!0,I||(T=k(y,"click",e[12]),I=!0)},p(e,t){const a={};!i&&32&t&&(i=!0,a.value=e[5],F((()=>i=!1))),n.$set(a),(!D||128&t)&&C!==(C=e[7].Rename_folder+"")&&V(E,C)},i(e){D||(p(n.$$.fragment,e),D=!0)},o(e){h(n.$$.fragment,e),D=!1},d(e){e&&l(t),v(n),I=!1,T()}}}function lt(e){let t,n;return t=new Se({props:{title:e[7].Delete_all_messages+" "+e[7].of+" "+$e(e[0]),width:"550px",onClose:e[25],$$slots:{default:[ot]},$$scope:{ctx:e}}}),{c(){m(t.$$.fragment)},l(e){u(t.$$.fragment,e)},m(e,a){d(t,e,a),n=!0},p(e,n){const a={};129&n&&(a.title=e[7].Delete_all_messages+" "+e[7].of+" "+$e(e[0])),64&n&&(a.onClose=e[25]),1073741952&n&&(a.$$scope={dirty:n,ctx:e}),t.$set(a)},i(e){n||(p(t.$$.fragment,e),n=!0)},o(e){h(t.$$.fragment,e),n=!1},d(e){v(t,e)}}}function ot(e){let t,n,i,$,f,m,u,d,p=e[7].This_action_will_delete_all_messages_in_the_folder+"",h=e[7].Delete_all_messages+"";return{c(){t=a("div"),n=a("div"),i=w(p),$=g(),f=a("button"),m=w(h),this.h()},l(e){t=s(e,"DIV",{class:!0});var a=r(t);n=s(a,"DIV",{class:!0});var o=r(n);i=x(o,p),o.forEach(l),$=_(a),f=s(a,"BUTTON",{class:!0});var c=r(f);m=x(c,h),c.forEach(l),a.forEach(l),this.h()},h(){o(n,"class","clear-label svelte-ck30k"),o(f,"class","clear-confirm btn-light btn-primary elev2 svelte-ck30k"),o(t,"class","clear-body svelte-ck30k")},m(a,s){c(a,t,s),b(t,n),b(n,i),b(t,$),b(t,f),b(f,m),u||(d=k(f,"click",e[13]),u=!0)},p(e,t){128&t&&p!==(p=e[7].This_action_will_delete_all_messages_in_the_folder+"")&&V(i,p),128&t&&h!==(h=e[7].Delete_all_messages+"")&&V(m,h)},d(e){e&&l(t),u=!1,d()}}}function ct(e){let t,n,i,$,f,j,O,F,M,S,q,P,U,A,B,X,G,W,J,H,K=$e(e[0])+"";var L=fe(e[0]);L&&(i=new L({}));const Q=[He,Je],Y=[];function Z(e,t){return e[1]||e[2]?0:e[0].unseen?1:-1}~(F=Z(e))&&(M=Y[F]=Q[F](e)),q=new Ce({});let z=e[3]&&nt(e),ee=e[4]&&st(e),te=e[6]&&lt(e);return{c(){t=a("a"),n=a("div"),i&&m(i.$$.fragment),$=g(),f=a("div"),j=w(K),O=g(),M&&M.c(),S=g(),m(q.$$.fragment),A=g(),B=a("div"),z&&z.c(),X=g(),ee&&ee.c(),G=g(),te&&te.c(),this.h()},l(e){t=s(e,"A",{href:!0,class:!0});var a=r(t);n=s(a,"DIV",{class:!0});var o=r(n);i&&u(i.$$.fragment,o),o.forEach(l),$=_(a),f=s(a,"DIV",{class:!0});var c=r(f);j=x(c,K),c.forEach(l),O=_(a),M&&M.l(a),S=_(a),u(q.$$.fragment,a),a.forEach(l),A=_(e),B=s(e,"DIV",{class:!0});var m=r(B);z&&z.l(m),X=_(m),ee&&ee.l(m),G=_(m),te&&te.l(m),m.forEach(l),this.h()},h(){o(n,"class","icon svelte-ck30k"),o(f,"class","name svelte-ck30k"),o(t,"href",P="/mailbox/"+e[0].id),o(t,"class","mailbox na btn-dark svelte-ck30k"),y(t,"current",e[8].path.startsWith(`/mailbox/${e[0].id}`)),y(t,"menu-open",e[2]),o(B,"class","portal svelte-ck30k")},m(a,s){c(a,t,s),b(t,n),i&&d(i,n,null),b(t,$),b(t,f),b(f,j),b(t,O),~F&&Y[F].m(t,null),b(t,S),d(q,t,null),c(a,A,s),c(a,B,s),z&&z.m(B,null),b(B,X),ee&&ee.m(B,null),b(B,G),te&&te.m(B,null),W=!0,J||(H=[k(t,"click",e[10]),k(t,"mouseenter",e[20]),k(t,"mouseleave",e[21]),E(Fe.call(null,B))],J=!0)},p(e,[a]){if(L!==(L=fe(e[0]))){if(i){D();const e=i;h(e.$$.fragment,1,0,(()=>{v(e,1)})),I()}L?(i=new L({}),m(i.$$.fragment),p(i.$$.fragment,1),d(i,n,null)):i=null}(!W||1&a)&&K!==(K=$e(e[0])+"")&&V(j,K);let s=F;F=Z(e),F===s?~F&&Y[F].p(e,a):(M&&(D(),h(Y[s],1,1,(()=>{Y[s]=null})),I()),~F?(M=Y[F],M?M.p(e,a):(M=Y[F]=Q[F](e),M.c()),p(M,1),M.m(t,S)):M=null),(!W||1&a&&P!==(P="/mailbox/"+e[0].id))&&o(t,"href",P),257&a&&y(t,"current",e[8].path.startsWith(`/mailbox/${e[0].id}`)),4&a&&y(t,"menu-open",e[2]),e[3]?z?(z.p(e,a),8&a&&p(z,1)):(z=nt(e),z.c(),p(z,1),z.m(B,X)):z&&(D(),h(z,1,1,(()=>{z=null})),I()),e[4]?ee?(ee.p(e,a),16&a&&p(ee,1)):(ee=st(e),ee.c(),p(ee,1),ee.m(B,G)):ee&&(D(),h(ee,1,1,(()=>{ee=null})),I()),e[6]?te?(te.p(e,a),64&a&&p(te,1)):(te=lt(e),te.c(),p(te,1),te.m(B,null)):te&&(D(),h(te,1,1,(()=>{te=null})),I())},i(e){W||(i&&p(i.$$.fragment,e),p(M),p(q.$$.fragment,e),e&&T((()=>{U||(U=C(t,R,{duration:200},!0)),U.run(1)})),p(z),p(ee),p(te),W=!0)},o(e){i&&h(i.$$.fragment,e),h(M),h(q.$$.fragment,e),e&&(U||(U=C(t,R,{duration:200},!1)),U.run(0)),h(z),h(ee),h(te),W=!1},d(e){e&&l(t),i&&v(i),~F&&Y[F].d(),v(q),e&&U&&U.end(),e&&l(A),e&&l(B),z&&z.d(),ee&&ee.d(),te&&te.d(),J=!1,N(H)}}}function it(e,t,n){let a,s,r;$(e,Ve,(e=>n(7,a=e))),$(e,Te,(e=>n(8,r=e)));var l=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(s,r){function l(e){try{c(a.next(e))}catch(t){r(t)}}function o(e){try{c(a.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}c((a=a.apply(e,t||[])).next())}))};let{mailbox:o}=t;const{reloadMailboxes:c,mailboxes:i,drawerOpen:{narrow:f}}=j("dash");$(e,i,(e=>n(26,s=e)));let m=!1,u=!1,d=!1;const p=ue((()=>l(void 0,void 0,void 0,(function*(){yield de(`/api/mailboxes/${o.id}`),n(3,d=!1),pe(a.notifier.Folder_deleted),r.params.mailbox===o.id&&he("/"),yield c()}))));let h=!1,v=o.path;const g=ue((()=>l(void 0,void 0,void 0,(function*(){yield ve(`/api/mailboxes/${o.id}`,{path:v}),pe(a.notifier.Folder_renamed),n(4,h=!1),yield c()}))));let w=!1;const _=ue((()=>l(void 0,void 0,void 0,(function*(){if(ge(o)||we(o))de(`/api/mailboxes/${o.id}/messages`).then((()=>{pe(a.notifier.All_messages_deleted)})).catch((e=>{_e(null==e?void 0:e.message)}));else{const e=s.find(ge);if(null==e)throw new Error("Cannot find Trash folder");ve(`/api/mailboxes/${o.id}/messages`,{message:`1:${Number.MAX_SAFE_INTEGER}`,moveTo:e.id}).then((()=>{pe(a.notifier.All_messages_deleted)})).catch((e=>{_e(null==e?void 0:e.message)}))}n(6,w=!1),o.total>50&&pe(a.notifier.Deleting_process)}))));return e.$$set=e=>{"mailbox"in e&&n(0,o=e.mailbox)},[o,m,u,d,h,v,w,a,r,i,()=>{me()&&f.set(!1)},p,g,_,()=>n(2,u=!u),()=>n(4,h=!0),()=>n(6,w=!0),()=>n(3,d=!0),()=>n(6,w=!0),function(e){u=e,n(2,u)},()=>n(1,m=!0),()=>n(1,m=!1),()=>n(3,d=!1),function(e){v=e,n(5,v)},()=>n(4,h=!1),()=>n(6,w=!1)]}class $t extends e{constructor(e){super(),t(this,e,it,ct,n,{mailbox:0})}}function ft(e,t,n){const a=e.slice();return a[24]=t[n],a}function mt(e,t){let n,a,s;return a=new $t({props:{mailbox:t[24]}}),{key:e,first:null,c(){n=U(),m(a.$$.fragment),this.h()},l(e){n=U(),u(a.$$.fragment,e),this.h()},h(){this.first=n},m(e,t){c(e,n,t),d(a,e,t),s=!0},p(e,n){t=e;const s={};8&n&&(s.mailbox=t[24]),a.$set(s)},i(e){s||(p(a.$$.fragment,e),s=!0)},o(e){h(a.$$.fragment,e),s=!1},d(e){e&&l(n),v(a,e)}}}function ut(e){let t,n;return t=new Se({props:{title:e[2].Create_new_folder,width:"500px",onClose:e[19],$$slots:{default:[pt]},$$scope:{ctx:e}}}),{c(){m(t.$$.fragment)},l(e){u(t.$$.fragment,e)},m(e,a){d(t,e,a),n=!0},p(e,n){const a={};4&n&&(a.title=e[2].Create_new_folder),1&n&&(a.onClose=e[19]),134217734&n&&(a.$$scope={dirty:n,ctx:e}),t.$set(a)},i(e){n||(p(t.$$.fragment,e),n=!0)},o(e){h(t.$$.fragment,e),n=!1},d(e){v(t,e)}}}function dt(e){let t,n,i,$,y,E,D,I,T,C,R,N,j=e[2].Create+"";function M(t){e[18](t)}let S={validate:!0,required:!0,trim:!0,label:e[2].Folder_name};return void 0!==e[1]&&(S.value=e[1]),i=new qe({props:S}),f.push((()=>O(i,"value",M))),T=new Ce({}),{c(){t=a("form"),n=a("div"),m(i.$$.fragment),y=g(),E=a("button"),D=w(j),I=g(),m(T.$$.fragment),this.h()},l(e){t=s(e,"FORM",{class:!0});var a=r(t);n=s(a,"DIV",{class:!0});var o=r(n);u(i.$$.fragment,o),o.forEach(l),y=_(a),E=s(a,"BUTTON",{type:!0,class:!0});var c=r(E);D=x(c,j),I=_(c),u(T.$$.fragment,c),c.forEach(l),a.forEach(l),this.h()},h(){o(n,"class","create-name svelte-atm9nl"),o(E,"type","submit"),o(E,"class","create-send elev2 btn-light btn-primary svelte-atm9nl"),o(t,"class","create-form svelte-atm9nl")},m(a,s){c(a,t,s),b(t,n),d(i,n,null),b(t,y),b(t,E),b(E,D),b(E,I),d(T,E,null),C=!0,R||(N=k(t,"submit",P((function(){Z(e[23])&&e[23].apply(this,arguments)}))),R=!0)},p(t,n){e=t;const a={};4&n&&(a.label=e[2].Folder_name),!$&&2&n&&($=!0,a.value=e[1],F((()=>$=!1))),i.$set(a),(!C||4&n)&&j!==(j=e[2].Create+"")&&V(D,j)},i(e){C||(p(i.$$.fragment,e),p(T.$$.fragment,e),C=!0)},o(e){h(i.$$.fragment,e),h(T.$$.fragment,e),C=!1},d(e){e&&l(t),v(i),v(T),R=!1,N()}}}function pt(e){let t,n;return t=new Pe({props:{action:e[14],$$slots:{default:[dt,({submit:e})=>({23:e}),({submit:e})=>e?8388608:0]},$$scope:{ctx:e}}}),{c(){m(t.$$.fragment)},l(e){u(t.$$.fragment,e)},m(e,a){d(t,e,a),n=!0},p(e,n){const a={};142606342&n&&(a.$$scope={dirty:n,ctx:e}),t.$set(a)},i(e){n||(p(t.$$.fragment,e),n=!0)},o(e){h(t.$$.fragment,e),n=!1},d(e){v(t,e)}}}function ht(e){let t,n,i,$,f,E,T,C,R,j,O,F,M,S,q,P,A,B,X,L,Q,Y,Z,z,ee,te,ne,ae,se,re,le,oe,ce,ie,$e,fe,me,ue,de=e[2].Raven+"",pe=e[2].Compose+"",he=[],ve=new Map,ge=e[2].Create_new_folder+"";E=new G({}),C=new Ce({}),P=new W({}),L=new Ce({});let we=e[3];const _e=e=>e[24].id;for(let a=0;a<we.length;a+=1){let t=ft(e,we,a),n=_e(t);ve.set(n,he[a]=mt(n,t))}se=new J({}),ce=new Ce({});let xe=e[0]&&ut(e);return{c(){t=a("div"),n=g(),i=a("div"),$=a("div"),f=a("div"),m(E.$$.fragment),T=g(),m(C.$$.fragment),R=g(),j=a("div"),O=w(de),F=g(),M=a("div"),S=a("button"),q=a("div"),m(P.$$.fragment),A=g(),B=w(pe),X=g(),m(L.$$.fragment),Q=g(),Y=a("div"),Z=a("div");for(let e=0;e<he.length;e+=1)he[e].c();z=g(),ee=a("div"),te=g(),ne=a("div"),ae=a("div"),m(se.$$.fragment),re=g(),le=w(ge),oe=g(),m(ce.$$.fragment),ie=g(),xe&&xe.c(),$e=U(),this.h()},l(e){t=s(e,"DIV",{class:!0}),r(t).forEach(l),n=_(e),i=s(e,"DIV",{class:!0});var a=r(i);$=s(a,"DIV",{class:!0});var o=r($);f=s(o,"DIV",{class:!0});var c=r(f);u(E.$$.fragment,c),T=_(c),u(C.$$.fragment,c),c.forEach(l),R=_(o),j=s(o,"DIV",{class:!0});var m=r(j);O=x(m,de),m.forEach(l),o.forEach(l),F=_(a),M=s(a,"DIV",{class:!0});var d=r(M);S=s(d,"BUTTON",{class:!0});var p=r(S);q=s(p,"DIV",{class:!0});var h=r(q);u(P.$$.fragment,h),h.forEach(l),A=_(p),B=x(p,pe),X=_(p),u(L.$$.fragment,p),p.forEach(l),d.forEach(l),Q=_(a),Y=s(a,"DIV",{class:!0});var v=r(Y);Z=s(v,"DIV",{class:!0});var g=r(Z);for(let t=0;t<he.length;t+=1)he[t].l(g);g.forEach(l),z=_(v),ee=s(v,"DIV",{class:!0}),r(ee).forEach(l),te=_(v),ne=s(v,"DIV",{class:!0});var w=r(ne);ae=s(w,"DIV",{class:!0});var y=r(ae);u(se.$$.fragment,y),y.forEach(l),re=_(w),le=x(w,ge),oe=_(w),u(ce.$$.fragment,w),w.forEach(l),v.forEach(l),a.forEach(l),ie=_(e),xe&&xe.l(e),$e=U(),this.h()},h(){o(t,"class","overlay only-narrow svelte-atm9nl"),y(t,"open",e[5]),o(f,"class","menu btn-dark svelte-atm9nl"),o(j,"class","logo svelte-atm9nl"),o($,"class","top only-narrow svelte-atm9nl"),o(q,"class","compose-icon svelte-atm9nl"),o(S,"class","compose svelte-atm9nl"),o(M,"class","compose-wrap svelte-atm9nl"),y(M,"scrolled",0!==e[4]),o(Z,"class","mailboxes"),o(ee,"class","sep svelte-atm9nl"),o(ae,"class","new-icon svelte-atm9nl"),o(ne,"class","new btn-dark svelte-atm9nl"),o(Y,"class","scroll thin-scroll svelte-atm9nl"),o(i,"class","drawer svelte-atm9nl"),y(i,"narrow-open",e[5]),y(i,"wide-open",e[6])},m(a,s){c(a,t,s),c(a,n,s),c(a,i,s),b(i,$),b($,f),d(E,f,null),b(f,T),d(C,f,null),b($,R),b($,j),b(j,O),b(i,F),b(i,M),b(M,S),b(S,q),d(P,q,null),b(S,A),b(S,B),b(S,X),d(L,S,null),b(i,Q),b(i,Y),b(Y,Z);for(let e=0;e<he.length;e+=1)he[e].m(Z,null);b(Y,z),b(Y,ee),b(Y,te),b(Y,ne),b(ne,ae),d(se,ae,null),b(ne,re),b(ne,le),b(ne,oe),d(ce,ne,null),c(a,ie,s),xe&&xe.m(a,s),c(a,$e,s),fe=!0,me||(ue=[k(t,"click",e[15]),k(f,"click",e[16]),k(S,"click",e[17]),k(ne,"click",e[13]),k(Y,"scroll",e[11])],me=!0)},p(e,[n]){32&n&&y(t,"open",e[5]),(!fe||4&n)&&de!==(de=e[2].Raven+"")&&V(O,de),(!fe||4&n)&&pe!==(pe=e[2].Compose+"")&&V(B,pe),16&n&&y(M,"scrolled",0!==e[4]),8&n&&(we=e[3],D(),he=H(he,n,_e,1,e,we,ve,Z,K,mt,null,ft),I()),(!fe||4&n)&&ge!==(ge=e[2].Create_new_folder+"")&&V(le,ge),32&n&&y(i,"narrow-open",e[5]),64&n&&y(i,"wide-open",e[6]),e[0]?xe?(xe.p(e,n),1&n&&p(xe,1)):(xe=ut(e),xe.c(),p(xe,1),xe.m($e.parentNode,$e)):xe&&(D(),h(xe,1,1,(()=>{xe=null})),I())},i(e){if(!fe){p(E.$$.fragment,e),p(C.$$.fragment,e),p(P.$$.fragment,e),p(L.$$.fragment,e);for(let e=0;e<we.length;e+=1)p(he[e]);p(se.$$.fragment,e),p(ce.$$.fragment,e),p(xe),fe=!0}},o(e){h(E.$$.fragment,e),h(C.$$.fragment,e),h(P.$$.fragment,e),h(L.$$.fragment,e);for(let t=0;t<he.length;t+=1)h(he[t]);h(se.$$.fragment,e),h(ce.$$.fragment,e),h(xe),fe=!1},d(e){e&&l(t),e&&l(n),e&&l(i),v(E),v(C),v(P),v(L);for(let t=0;t<he.length;t+=1)he[t].d();v(se),v(ce),e&&l(ie),xe&&xe.d(e),e&&l($e),me=!1,N(ue)}}}function vt(e,t,n){let a,s,r,l,o;$(e,Ve,(e=>n(2,a=e)));var c=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(s,r){function l(e){try{c(a.next(e))}catch(t){r(t)}}function o(e){try{c(a.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}c((a=a.apply(e,t||[])).next())}))};const{mailboxes:i,reloadMailboxes:f,drawerOpen:{wide:m,narrow:u}}=j("dash");$(e,i,(e=>n(3,s=e))),$(e,m,(e=>n(6,o=e))),$(e,u,(e=>n(5,l=e)));const d=Q(0);$(e,d,(e=>n(4,r=e))),L("drawer",{scrollTop:d});const p=ue((()=>c(void 0,void 0,void 0,(function*(){yield je(s.find(we))}))));let h=!1,v="";const g=ue((()=>c(void 0,void 0,void 0,(function*(){yield ye("/api/mailboxes",{path:v}),n(0,h=!1),pe(a.notifier.New_folder_created),yield f()}))));return[h,v,a,s,r,l,o,i,m,u,d,e=>{const t=e.target;Y(d,r=t.scrollTop,r)},p,()=>n(0,h=!0),g,()=>me()?u.set(!1):m.set(!1),()=>u.set(!1),()=>{u.set(!1),p()},function(e){v=e,n(1,v)},()=>n(0,h=!1)]}class gt extends e{constructor(e){super(),t(this,e,vt,ht,n,{})}}function wt(e){let t,n=e[2].My_account+"";return{c(){t=w(n)},l(e){t=x(e,n)},m(e,n){c(e,t,n)},p(e,a){4&a&&n!==(n=e[2].My_account+"")&&V(t,n)},d(e){e&&l(t)}}}function _t(e){let t,n=e[2].Sign_out+"";return{c(){t=w(n)},l(e){t=x(e,n)},m(e,n){c(e,t,n)},p(e,a){4&a&&n!==(n=e[2].Sign_out+"")&&V(t,n)},d(e){e&&l(t)}}}function xt(e){let t,n,a,s;return t=new Me({props:{icon:z,href:"/me",$$slots:{default:[wt]},$$scope:{ctx:e}}}),a=new Me({props:{icon:ee,$$slots:{default:[_t]},$$scope:{ctx:e}}}),a.$on("click",e[3]),{c(){m(t.$$.fragment),n=g(),m(a.$$.fragment)},l(e){u(t.$$.fragment,e),n=_(e),u(a.$$.fragment,e)},m(e,r){d(t,e,r),c(e,n,r),d(a,e,r),s=!0},p(e,n){const s={};132&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s);const r={};132&n&&(r.$$scope={dirty:n,ctx:e}),a.$set(r)},i(e){s||(p(t.$$.fragment,e),p(a.$$.fragment,e),s=!0)},o(e){h(t.$$.fragment,e),h(a.$$.fragment,e),s=!1},d(e){v(t,e),e&&l(n),v(a,e)}}}function yt(e){let t,n;return t=new Ne({props:{$$slots:{default:[xt]},$$scope:{ctx:e}}}),{c(){m(t.$$.fragment)},l(e){u(t.$$.fragment,e)},m(e,a){d(t,e,a),n=!0},p(e,n){const a={};132&n&&(a.$$scope={dirty:n,ctx:e}),t.$set(a)},i(e){n||(p(t.$$.fragment,e),n=!0)},o(e){h(t.$$.fragment,e),n=!1},d(e){v(t,e)}}}function bt(e){let t,n,i,$,E,D,I,T,C,R,N,j;function M(t){e[5](t)}E=new Ce({});let S={anchor:"top-right",$$slots:{default:[yt]},$$scope:{ctx:e}};return void 0!==e[0]&&(S.open=e[0]),T=new Re({props:S}),f.push((()=>O(T,"open",M))),{c(){t=a("div"),n=a("div"),i=w(e[1]),$=g(),m(E.$$.fragment),D=g(),I=a("div"),m(T.$$.fragment),this.h()},l(a){t=s(a,"DIV",{class:!0});var o=r(t);n=s(o,"DIV",{class:!0});var c=r(n);i=x(c,e[1]),$=_(c),u(E.$$.fragment,c),c.forEach(l),D=_(o),I=s(o,"DIV",{class:!0});var f=r(I);u(T.$$.fragment,f),f.forEach(l),o.forEach(l),this.h()},h(){o(n,"class","btn-dark account-btn svelte-o8d2c1"),y(n,"hover",e[0]),o(I,"class","anchor svelte-o8d2c1"),o(t,"class","wrap svelte-o8d2c1")},m(a,s){c(a,t,s),b(t,n),b(n,i),b(n,$),d(E,n,null),b(t,D),b(t,I),d(T,I,null),R=!0,N||(j=k(n,"click",e[4]),N=!0)},p(e,[t]){(!R||2&t)&&V(i,e[1]),1&t&&y(n,"hover",e[0]);const a={};132&t&&(a.$$scope={dirty:t,ctx:e}),!C&&1&t&&(C=!0,a.open=e[0],F((()=>C=!1))),T.$set(a)},i(e){R||(p(E.$$.fragment,e),p(T.$$.fragment,e),R=!0)},o(e){h(E.$$.fragment,e),h(T.$$.fragment,e),R=!1},d(e){e&&l(t),v(E),v(T),N=!1,j()}}}function kt(e,t,n){let a;$(e,Ve,(e=>n(2,a=e)));var s=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(s,r){function l(e){try{c(a.next(e))}catch(t){r(t)}}function o(e){try{c(a.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}c((a=a.apply(e,t||[])).next())}))};let{username:r}=t,{open:l=!1}=t;const o=ue((()=>s(void 0,void 0,void 0,(function*(){yield ye("/api/logout",{}),he("/login")}))));return e.$$set=e=>{"username"in e&&n(1,r=e.username),"open"in e&&n(0,l=e.open)},[l,r,a,o,()=>n(0,l=!l),function(e){l=e,n(0,l)}]}class Et extends e{constructor(e){super(),t(this,e,kt,bt,n,{username:1,open:0})}}function Dt(e){let t,n,i,$,f,y,E,D,I,T,C,R,j,O,F,M,S,q,P,U,A,B=e[2].Raven+"";return i=new G({}),f=new Ce({}),j=new te({}),q=new Et({props:{username:e[0]}}),{c(){t=a("div"),n=a("div"),m(i.$$.fragment),$=g(),m(f.$$.fragment),y=g(),E=a("div"),D=w(B),I=g(),T=a("div"),C=a("div"),R=a("div"),m(j.$$.fragment),O=g(),F=a("input"),S=g(),m(q.$$.fragment),this.h()},l(e){t=s(e,"DIV",{class:!0});var a=r(t);n=s(a,"DIV",{class:!0});var o=r(n);u(i.$$.fragment,o),$=_(o),u(f.$$.fragment,o),o.forEach(l),y=_(a),E=s(a,"DIV",{class:!0});var c=r(E);D=x(c,B),c.forEach(l),I=_(a),T=s(a,"DIV",{class:!0});var m=r(T);C=s(m,"DIV",{class:!0});var d=r(C);R=s(d,"DIV",{class:!0});var p=r(R);u(j.$$.fragment,p),p.forEach(l),O=_(d),F=s(d,"INPUT",{type:!0,class:!0,placeholder:!0}),d.forEach(l),m.forEach(l),S=_(a),u(q.$$.fragment,a),a.forEach(l),this.h()},h(){o(n,"class","menu btn-light svelte-1faf6u5"),o(E,"class","logo svelte-1faf6u5"),o(R,"class","search-icon svelte-1faf6u5"),o(F,"type","text"),o(F,"class","q svelte-1faf6u5"),o(F,"placeholder",M=e[2]["Search..."]),o(C,"class","q-wrap svelte-1faf6u5"),o(T,"class","q-wrap-wrap svelte-1faf6u5"),o(t,"class","top svelte-1faf6u5")},m(a,s){c(a,t,s),b(t,n),d(i,n,null),b(n,$),d(f,n,null),b(t,y),b(t,E),b(E,D),b(t,I),b(t,T),b(T,C),b(C,R),d(j,R,null),b(C,O),b(C,F),ne(F,e[1]),b(t,S),d(q,t,null),P=!0,U||(A=[k(n,"click",e[3]),k(F,"keypress",e[4]),k(F,"input",e[5])],U=!0)},p(e,[t]){(!P||4&t)&&B!==(B=e[2].Raven+"")&&V(D,B),(!P||4&t&&M!==(M=e[2]["Search..."]))&&o(F,"placeholder",M),2&t&&F.value!==e[1]&&ne(F,e[1]);const n={};1&t&&(n.username=e[0]),q.$set(n)},i(e){P||(p(i.$$.fragment,e),p(f.$$.fragment,e),p(j.$$.fragment,e),p(q.$$.fragment,e),P=!0)},o(e){h(i.$$.fragment,e),h(f.$$.fragment,e),h(j.$$.fragment,e),h(q.$$.fragment,e),P=!1},d(e){e&&l(t),v(i),v(f),v(j),v(q),U=!1,N(A)}}}function It(e,t,n){let a,s;$(e,Te,(e=>n(7,a=e))),$(e,Ve,(e=>n(2,s=e)));var r=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(s,r){function l(e){try{c(a.next(e))}catch(t){r(t)}}function o(e){try{c(a.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}c((a=a.apply(e,t||[])).next())}))};let{username:l}=t,o="/search"===a.path&&a.query.get("query")||"";const{toggle:c}=j("dash");return e.$$set=e=>{"username"in e&&n(0,l=e.username)},[l,o,s,c,e=>r(void 0,void 0,void 0,(function*(){if("Enter"===e.key){let e=o.trim();if(e)try{yield he(`/search?query=${encodeURIComponent(e)}`,{keepfocus:!0,replaceState:"/search"===location.pathname})}finally{}}})),function(){o=this.value,n(1,o)}]}class Vt extends e{constructor(e){super(),t(this,e,It,Dt,n,{username:0})}}function Tt(e){let t,n,i,$,f,w,x,y,k,E,D;n=new We({}),$=new Vt({props:{username:e[0]}}),x=new gt({});const I=e[5].default,V=ae(I,e,e[4],null);return{c(){t=a("div"),m(n.$$.fragment),i=g(),m($.$$.fragment),f=g(),w=a("div"),m(x.$$.fragment),y=g(),k=a("div"),V&&V.c(),this.h()},l(e){t=s(e,"DIV",{class:!0});var a=r(t);u(n.$$.fragment,a),i=_(a),u($.$$.fragment,a),f=_(a),w=s(a,"DIV",{class:!0});var o=r(w);u(x.$$.fragment,o),y=_(o),k=s(o,"DIV",{class:!0});var c=r(k);V&&V.l(c),c.forEach(l),o.forEach(l),a.forEach(l),this.h()},h(){o(k,"class","page svelte-1rrn44b"),o(w,"class","main svelte-1rrn44b"),o(t,"class","dashboard svelte-1rrn44b")},m(e,a){c(e,t,a),d(n,t,null),b(t,i),d($,t,null),b(t,f),b(t,w),d(x,w,null),b(w,y),b(w,k),V&&V.m(k,null),D=!0},p(e,[t]){const n={};1&t&&(n.username=e[0]),$.$set(n),V&&V.p&&(!D||16&t)&&se(V,I,e,e[4],D?le(I,e[4],t,null):re(e[4]),null)},i(e){D||(p(n.$$.fragment,e),p($.$$.fragment,e),p(x.$$.fragment,e),p(V,e),e&&(E||T((()=>{E=oe(t,ce,{duration:400,y:-25}),E.start()}))),D=!0)},o(e){h(n.$$.fragment,e),h($.$$.fragment,e),h(x.$$.fragment,e),h(V,e),D=!1},d(e){e&&l(t),v(n),v($),v(x),V&&V.d(e)}}}function Ct(e,t,n){let a,{$$slots:s={},$$scope:r}=t;var l=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(s,r){function l(e){try{c(a.next(e))}catch(t){r(t)}}function o(e){try{c(a.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}c((a=a.apply(e,t||[])).next())}))};let{user:o}=t,{username:c}=t,{mailboxes:i}=t;const f=Q(be(i));$(e,f,(e=>n(6,a=e)));const m={drawerOpen:{narrow:Q(!1),wide:Q(!0)},user:o,toggle:()=>{me()?m.drawerOpen.narrow.update((e=>!e)):m.drawerOpen.wide.update((e=>!e))},mailboxes:f,reloadMailboxes:()=>l(void 0,void 0,void 0,(function*(){const e=yield Ee("/api/mailboxes");Y(f,a=be(e.results),a)}))};return L("dash",m),ie((()=>{const e=new EventSource("/api/updates");e.onmessage=e=>{const t=JSON.parse(e.data);console.log(t),"COUNTERS"===t.command?Ue.dispatch(t):"EXISTS"===t.command?Ae.dispatch(t):"EXPUNGE"===t.command&&Be.dispatch(t)};const t=[Ue.on((e=>{const t=a.find((t=>t.id===e.mailbox));t&&(t.total=e.total,t.unseen=e.unseen,f.set(a))})),ke(c),()=>e.close(),()=>Oe()];return()=>{N(t)}})),e.$$set=e=>{"user"in e&&n(2,o=e.user),"username"in e&&n(0,c=e.username),"mailboxes"in e&&n(3,i=e.mailboxes),"$$scope"in e&&n(4,r=e.$$scope)},[c,f,o,i,r,s]}class Rt extends e{constructor(e){super(),t(this,e,Ct,Tt,n,{user:2,username:0,mailboxes:3})}}function Nt(e){let t;const n=e[3].default,a=ae(n,e,e[7],null);return{c(){a&&a.c()},l(e){a&&a.l(e)},m(e,n){a&&a.m(e,n),t=!0},p(e,s){a&&a.p&&(!t||128&s)&&se(a,n,e,e[7],t?le(n,e[7],s,null):re(e[7]),null)},i(e){t||(p(a,e),t=!0)},o(e){h(a,e),t=!1},d(e){a&&a.d(e)}}}function jt(e){let t,n,a,s,r;function l(t){e[4](t)}function o(t){e[5](t)}function c(t){e[6](t)}let i={$$slots:{default:[Nt]},$$scope:{ctx:e}};return void 0!==e[1]&&(i.username=e[1]),void 0!==e[0]&&(i.user=e[0]),void 0!==e[2]&&(i.mailboxes=e[2]),t=new Rt({props:i}),f.push((()=>O(t,"username",l))),f.push((()=>O(t,"user",o))),f.push((()=>O(t,"mailboxes",c))),{c(){m(t.$$.fragment)},l(e){u(t.$$.fragment,e)},m(e,n){d(t,e,n),r=!0},p(e,[r]){const l={};128&r&&(l.$$scope={dirty:r,ctx:e}),!n&&2&r&&(n=!0,l.username=e[1],F((()=>n=!1))),!a&&1&r&&(a=!0,l.user=e[0],F((()=>a=!1))),!s&&4&r&&(s=!0,l.mailboxes=e[2],F((()=>s=!1))),t.$set(l)},i(e){r||(p(t.$$.fragment,e),r=!0)},o(e){h(t.$$.fragment,e),r=!1},d(e){v(t,e)}}}var Ot=function(e,t,n,a){return new(n||(n=Promise))((function(s,r){function l(e){try{c(a.next(e))}catch(t){r(t)}}function o(e){try{c(a.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}c((a=a.apply(e,t||[])).next())}))};const Ft=({fetch:e,session:t})=>Ot(void 0,void 0,void 0,(function*(){return yield De({page:"/api/pages/layout",fetch:e,session:t})}));function Mt(e,t,n){let{$$slots:a={},$$scope:s}=t;this&&this.__awaiter;let{user:r}=t,{username:l}=t,{mailboxes:o}=t;return e.$$set=e=>{"user"in e&&n(0,r=e.user),"username"in e&&n(1,l=e.username),"mailboxes"in e&&n(2,o=e.mailboxes),"$$scope"in e&&n(7,s=e.$$scope)},[r,l,o,a,function(e){l=e,n(1,l)},function(e){r=e,n(0,r)},function(e){o=e,n(2,o)},s]}class St extends e{constructor(e){super(),t(this,e,Mt,jt,n,{user:0,username:1,mailboxes:2})}}export{St as default,Ft as load};
