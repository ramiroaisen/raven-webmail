import{S as e,a as s,s as a,T as t,h as l,j as n,D as o,m as r,k as c,E as i,l as u,c as m,d as f,e as p,o as d,p as $,F as v,w as h,A as g,y as w,f as b,B as y,G as j,H as x,I as P}from"./main-9f15064e.js";import{P as S}from"./Password-80815570.js";function D(e){let s,a=e[0].action+"";return{c(){s=i(a)},m(e,a){f(e,s,a)},p(e,t){1&t&&a!==(a=e[0].action+"")&&v(s,a)},d(e){e&&b(s)}}}function E(e){let s,a,j,x,P,E,O,T,k,A,B,F,G,H,I,J=e[0].title+"";function N(s){e[6].call(null,s)}document.title=s=e[0].title;let q={name:"username",label:e[0].labels.username};void 0!==e[1]&&(q.value=e[1]);const z=new t({props:q});function C(s){e[7].call(null,s)}l.push(()=>n(z,"value",N));let K={name:"password",label:e[0].labels.password};void 0!==e[2]&&(K.value=e[2]);const L=new S({props:K});l.push(()=>n(L,"value",C));const M=new o({props:{color:"var(--pc)",raised:!0,$$slots:{default:[D]},$$scope:{ctx:e}}});return{c(){a=r(),j=c("h1"),x=i(J),P=r(),E=c("form"),O=c("div"),u(z.$$.fragment),k=r(),A=c("div"),u(L.$$.fragment),F=r(),G=c("div"),u(M.$$.fragment),m(j,"class","svelte-10shc8e"),m(O,"class","field svelte-10shc8e"),m(A,"class","field svelte-10shc8e"),m(G,"class","button svelte-10shc8e"),m(E,"action","#!/login"),m(E,"method","post"),m(E,"class","svelte-10shc8e")},m(s,t,l){f(s,a,t),f(s,j,t),p(j,x),f(s,P,t),f(s,E,t),p(E,O),d(z,O,null),p(E,k),p(E,A),d(L,A,null),p(E,F),p(E,G),d(M,G,null),H=!0,l&&I(),I=$(E,"submit",e[3])},p(e,[a]){(!H||1&a)&&s!==(s=e[0].title)&&(document.title=s),(!H||1&a)&&J!==(J=e[0].title+"")&&v(x,J);const t={};1&a&&(t.label=e[0].labels.username),!T&&2&a&&(T=!0,t.value=e[1],h(()=>T=!1)),z.$set(t);const l={};1&a&&(l.label=e[0].labels.password),!B&&4&a&&(B=!0,l.value=e[2],h(()=>B=!1)),L.$set(l);const n={};257&a&&(n.$$scope={dirty:a,ctx:e}),M.$set(n)},i(e){H||(g(z.$$.fragment,e),g(L.$$.fragment,e),g(M.$$.fragment,e),H=!0)},o(e){w(z.$$.fragment,e),w(L.$$.fragment,e),w(M.$$.fragment,e),H=!1},d(e){e&&b(a),e&&b(j),e&&b(P),e&&b(E),y(z),y(L),y(M),I()}}}function O(e,s,a){let t,l="",n="";const{locale:o}=j("app");x(e,o,e=>a(5,t=e));let{locale:r=t.login}=s;return e.$set=e=>{"locale"in e&&a(0,r=e.locale)},[r,l,n,async e=>{e.preventDefault();try{const e=await fetch("/login",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({username:l,password:n})}).then(e=>e.json());if(e.error)throw new Error(e.error.message);location.href="/"}catch(e){P().add({variant:"error",text:e.message})}},o,t,function(e){l=e,a(1,l)},function(e){n=e,a(2,n)}]}export default class extends e{constructor(e){super(),s(this,e,O,E,a,{locale:0})}}
//# sourceMappingURL=Login-22b1850b.js.map
