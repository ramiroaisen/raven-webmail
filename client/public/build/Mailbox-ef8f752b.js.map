{"version":3,"file":"Mailbox-ef8f752b.js","sources":["../../src/lib/selection.js","../../node_modules/svelte-material-icons/StarOutline.svelte","../../node_modules/svelte-material-icons/Star.svelte","../../node_modules/svelte-material-icons/CheckboxBlankOutline.svelte","../../node_modules/svelte-material-icons/CheckboxMarked.svelte","../../src/lib/formatter.js","../../src/comp/Pages/Mailbox/MailboxMessage.svelte","../../node_modules/svelte-material-icons/Refresh.svelte","../../node_modules/svelte-material-icons/CheckboxIntermediate.svelte","../../node_modules/svelte-material-icons/CheckCircle.svelte","../../node_modules/svelte-material-icons/Check.svelte","../../node_modules/svelte-material-icons/Plus.svelte","../../src/comp/Pages/Mailbox/Mailbox.svelte","../../src/lib/router/routes/Mailbox.svelte"],"sourcesContent":["import { writable } from \"./store\";\nexport const createSelection = (items = []) => {\n    const selection = writable(items);\n    const clear = () => selection.set([]);\n    const add = (...args) => {\n        const helper = selection.get().slice();\n        for (const item of args) {\n            if (!helper.includes(item)) {\n                helper.push(item);\n            }\n            selection.set(helper);\n        }\n    };\n    const remove = (...args) => selection.update($selection => $selection.filter(i => !args.includes(i)));\n    const has = (item) => selection.get().includes(item);\n    const toggle = (item) => {\n        has(item) ? remove(item) : add(item);\n    };\n    const isSelected = writable(has);\n    selection.subscribe(isSelected.invalidate);\n    return { ...selection, clear, add, remove, toggle, isSelected };\n};\n","<script>\n  export let size = \"1em\";\n  export let width = size;\n  export let height = size;\n  export let color = \"currentColor\";\n  export let viewBox = \"0 0 24 24\";\n</script>\n\n<svg width=\"{width}\" height=\"{height}\" viewBox=\"{viewBox}\"><path d=\"M12,15.39L8.24,17.66L9.23,13.38L5.91,10.5L10.29,10.13L12,6.09L13.71,10.13L18.09,10.5L14.77,13.38L15.76,17.66M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z\" fill=\"{color}\"/></svg>","<script>\n  export let size = \"1em\";\n  export let width = size;\n  export let height = size;\n  export let color = \"currentColor\";\n  export let viewBox = \"0 0 24 24\";\n</script>\n\n<svg width=\"{width}\" height=\"{height}\" viewBox=\"{viewBox}\"><path d=\"M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z\" fill=\"{color}\"/></svg>","<script>\n  export let size = \"1em\";\n  export let width = size;\n  export let height = size;\n  export let color = \"currentColor\";\n  export let viewBox = \"0 0 24 24\";\n</script>\n\n<svg width=\"{width}\" height=\"{height}\" viewBox=\"{viewBox}\"><path d=\"M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z\" fill=\"{color}\"/></svg>","<script>\n  export let size = \"1em\";\n  export let width = size;\n  export let height = size;\n  export let color = \"currentColor\";\n  export let viewBox = \"0 0 24 24\";\n</script>\n\n<svg width=\"{width}\" height=\"{height}\" viewBox=\"{viewBox}\"><path d=\"M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z\" fill=\"{color}\"/></svg>","//const months = [\"ene\", \"feb\", \"mar\", \"abr\", \"may\", \"jun\", \"jul\", \"ago\", \"sep\", \"oct\", \"nov\", \"dic\"]\n//const days = [\"dom\", \"lun\", \"mar\", \"mie\", \"jue\", \"vie\", \"sab\"]\nconst pad = (n) => n.toString().padStart(2, \"0\");\nexport const date = (str, locale) => {\n    const now = new Date();\n    const date = new Date(str);\n    if (now.getFullYear() !== date.getFullYear())\n        return `${locale.months[date.getMonth()]} ${date.getFullYear()}`;\n    if (now.getMonth() !== date.getMonth())\n        return `${date.getDate()} ${locale.months[date.getMonth()]}`;\n    if (now.getDate() !== date.getDate()) {\n        return `${locale.weekDays[date.getDay()]} ${date.getDate()}`;\n    }\n    return `${date.getHours()}:${pad(date.getMinutes())}`;\n};\n","<style>\n  .message {\n    font: inherit;\n    text-decoration: none;\n    flex: none;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    border-top:#d8dcdf 1px solid;\n    padding: 0.25em 1em;\n  }\n\n  .show-hover {\n    display: none !important;\n  }\n\n  .message:hover .show-hover {\n    display: flex !important;\n  }\n\n  .message:hover .hide-hover {\n    display: none;\n  }\n\n\n\n  .message:last-of-type {\n    border-bottom: #d8dcdf 1px solid;\n  }\n  \n  .message:last-of-type.selected {\n    border-bottom-color: #a5bad9;\n  }\n\n  .message:first-child {\n    border-top: none;\n  }\n  \n  .selected {\n    background-color: #c2dbff;\n    border-bottom-color: #a5bad9; \n    border-top-color: #a5bad9; \n  }\n\n  .selected + .message {\n    border-top-color: #a5bad9;\n  }\n\n  x-cell {\n    flex: 1;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n\n  .icon {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex: none;\n    width: 2em;\n    height: 2em;\n    font-size: 1.25em;\n    cursor: pointer;\n    border-radius: 50%;\n    transition: color 200ms ease;\n  }\n\n  .icon > :global(svg) {\n    position: absolute;\n  }\n\n  .flagged {\n    color: #e3c066;\n  }\n  \n  .from {\n    padding: 0 1em;\n    flex: 2;\n  }\n\n  .subject-intro {\n    flex: 6;\n  }\n\n  .intro {\n    opacity: 0.5;\n    margin-inline-start: 0.5em;\n  }\n\n  .date {\n    text-align: end;\n    opacity: 0.5;\n    /*text-transform: capitalize;*/\n    flex: none;\n    margin-inline-start: 1em;\n    font-size: 0.8em;\n  }\n\n  .unseen {\n    font-weight: 700;\n  }\n\n  .from-subject-date {\n    flex: 1;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n  }\n\n  @media screen and (max-width: 700px) {\n\n    .message {\n      padding-inline-start: 0.45em;\n    }\n\n    .cell-selected {\n      margin-inline-end: -0.45em;\n    }\n\n    .from-subject-date {\n      flex-direction: column;\n      overflow: hidden;\n      margin-inline-start: 0.5em;\n      padding-top: 0.25em;\n      padding-bottom: 0.25em;\n    }\n\n   .from-subject-date > x-cell{\n      padding: 0;\n    }\n\n    .from-subject-date > x-cell + x-cell{\n      margin-top: 0.35em;\n    }\n\n    .from {\n      align-self: flex-start;\n      margin: 0;\n    }\n\n    .subject-intro {\n      align-self: flex-start;\n      flex: none;\n      width: 100%;\n    }\n\n    .date {\n      align-self: flex-start;\n      margin: 0;\n    }\n  }\n</style>\n\n<script>\n  import {writable} from \"lib@store.js\";\n  import {slide, fly} from \"svelte/transition\";\n\n  import UnFlagged from \"svelte-material-icons/StarOutline.svelte\";\n  import Flagged from \"svelte-material-icons/Star.svelte\";\n\n  import On from \"svelte-material-icons/CheckboxBlankOutline.svelte\";\n  import Off from \"svelte-material-icons/CheckboxMarked.svelte\";\n\n  import {Ripple} from \"svelte-mui\";\n\n  import {getContext, onDestroy} from \"svelte\";\n  const selection = getContext(\"mailbox-selection\");\n  const {isSelected, add, remove, toggle} = selection;\n\n  import {create} from \"comp@Compose/compose.js\";\n\n  import {drafts, sent} from \"lib@client/mailboxes.js\";\n  import * as mess from \"lib@client/messages.js\";\n\n  export let message;\n  export let mailbox;\n\n  let isDraft, isSent, selected;\n  $: isDraft = mailbox === drafts;\n  $: isSent = mailbox === sent;\n  $: selected = $isSelected(message);\n\n  const flag = e => {\n    mess.flag($mailbox.id, [$message.id], !$message.flagged);\n    message.update(m => ({...m, flagged: !m.flagged}))\n  }\n\n  let unsub;\n\n  const click = async e => {\n    if (isDraft) {\n      e.preventDefault();\n      if ( !$message.seen ) {\n        //mess.updateSeen($mailbox.id, [$message.id], true)\n        message.update(m => ({...m, seen: true}));\n      }\n      \n      const $draft = await mess.getDraft($message.id);\n      const draft = writable($draft);\n      unsub = draft.subscribe(d => {\n        message.update(m => ({...m, ...d}))\n      })\n      \n      create(draft)\n    }\n  }\n\n  onDestroy(() => unsub && unsub())\n\n  import {date} from \"lib@formatter.js\";\n\n  const {locale: l} = getContext(\"app\");\n  export let locale = $l;\n</script>\n\n<a href=\"#!/mailbox/{$mailbox.id}/message/{$message.id}\" class=\"na message\" class:selected class:unseen={!$message.seen} on:click={click}>\n  <x-cell class=\"btn-dark icon cell-selected\" on:click|preventDefault|stopPropagation={() => toggle(message)}>\n    {#if selected}\n      <Off />\n    {:else}\n      <On />\n    {/if}\n    <Ripple />\n  </x-cell>\n\n\n  <x-cell class=\"btn-dark icon\" class:flagged={$message.flagged} on:click|preventDefault|stopPropagation={flag}>\n    {#if $message.flagged}\n      <Flagged />\n    {:else}\n      <UnFlagged />\n    {/if}\n    <Ripple />\n  </x-cell>\n\n  <x-cell-group class=\"from-subject-date\">\n    <x-cell class=\"from\">\n      {#if isSent || isDraft}\n        <span class=\"for\">{locale.mailboxMessage.to} </span>{($message.to || []).map(to => to.name || to.address).filter(Boolean).join(\", \")}\n      {:else}\n        {$message.from.name || $message.from.address || \"\"}\n      {/if}\n    </x-cell>\n\n\n    <x-cell class=\"subject-intro\">\n      <span class=\"subject\">{$message.subject || \"\"}</span>\n      <span class=\"intro\">{$message.intro || \"\"}</span>\n    </x-cell>\n\n\n    <x-cell class=\"date\">\n      {$message.date && date($message.date, locale)}\n    </x-cell>\n  </x-cell-group>\n</a>","<script>\n  export let size = \"1em\";\n  export let width = size;\n  export let height = size;\n  export let color = \"currentColor\";\n  export let viewBox = \"0 0 24 24\";\n</script>\n\n<svg width=\"{width}\" height=\"{height}\" viewBox=\"{viewBox}\"><path d=\"M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z\" fill=\"{color}\"/></svg>","<script>\n  export let size = \"1em\";\n  export let width = size;\n  export let height = size;\n  export let color = \"currentColor\";\n  export let viewBox = \"0 0 24 24\";\n</script>\n\n<svg width=\"{width}\" height=\"{height}\" viewBox=\"{viewBox}\"><path d=\"M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M19,19H5V5H19V19M17,17H7V7H17V17Z\" fill=\"{color}\"/></svg>","<script>\n  export let size = \"1em\";\n  export let width = size;\n  export let height = size;\n  export let color = \"currentColor\";\n  export let viewBox = \"0 0 24 24\";\n</script>\n\n<svg width=\"{width}\" height=\"{height}\" viewBox=\"{viewBox}\"><path d=\"M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z\" fill=\"{color}\"/></svg>","<script>\n  export let size = \"1em\";\n  export let width = size;\n  export let height = size;\n  export let color = \"currentColor\";\n  export let viewBox = \"0 0 24 24\";\n</script>\n\n<svg width=\"{width}\" height=\"{height}\" viewBox=\"{viewBox}\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\" fill=\"{color}\"/></svg>","<script>\n  export let size = \"1em\";\n  export let width = size;\n  export let height = size;\n  export let color = \"currentColor\";\n  export let viewBox = \"0 0 24 24\";\n</script>\n\n<svg width=\"{width}\" height=\"{height}\" viewBox=\"{viewBox}\"><path d=\"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z\" fill=\"{color}\"/></svg>","<style>\n  x-tab-content {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    overflow: auto;\n    padding-bottom: 3em;\n  }\n\n  x-mailbox-empty {\n    flex: none;\n    margin: 2em auto;\n    text-align: center;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    color: #333;\n    font-size: 1.1em;\n  }\n\n  .label {\n    font-weight: 500;\n    margin-top: 1em;\n  }\n\n  .select {\n    margin-inline-start: -0.15em;\n  }\n\n  .only-when-selection{\n    flex: 1;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n  }\n\n  x-selection-info {\n    display: flex;\n    flex: none;\n    flex-direction: row-reverse;\n    align-items: center;\n    margin-inline-start: auto;\n    background: #c2dbff;\n    padding: 0.4em 0.5em;\n    border-radius: 100px;\n    color: #555;\n  }\n  \n  x-selection-info > :global(svg) {\n    font-size: 1.1em;\n  }\n\n  x-selection-info > span {\n    font-size: 0.8em;\n    margin: 0 0.5em;\n  }\n\n  x-loadmore {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: var(--pc);\n    padding: 0.5em;\n    font-size: 2.5em;\n    min-height: auto;\n  }\n\n  x-loadmore-loading, x-loadmore-button {\n    display: flex;\n    flex: none;\n    width: 1em;\n    height: 1em;\n    align-items: center;\n    justify-content: center;\n  }\n\n  x-loadmore-button {\n    cursor: pointer;\n    border-radius: 50%;\n  }\n\n  x-mailbox-message {\n    position: relative;\n    z-index: 2;\n    display: flex;\n    flex-direction: column;\n    flex: none;\n    justify-items: stretch;\n    align-items: stretch;\n    background: #fff;\n    transition: opacity 150ms ease, margin 150ms ease;\n  }\n\n  x-tab-content > :global(.removed) {\n    z-index: 1;\n    margin-block-end: -3.0625rem;\n    opacity: 0;\n  }\n</style>\n\n<script>\n  import {getContext, setContext, onMount} from \"svelte\";\n  import {fade} from \"svelte/transition\";\n  import {flip} from \"svelte/animate\";\n\n  import {writable} from \"../../../lib/store\";\n\n  import Item from \"./MailboxMessage.svelte\";\n  import Tab from \"../Main.svelte\";\n  import Topbar from \"../ActionBar.svelte\";\n\n  //import EmptyFolder from \"svelte-material-icons/FolderOpenOutline.svelte\";\n\n  import Refresh from \"svelte-material-icons/Refresh.svelte\";\n  import Delete from \"svelte-material-icons/DeleteOutline.svelte\";\n  import MarkUnSeen from \"svelte-material-icons/EmailOutline.svelte\";\n  import MarkSeen from \"svelte-material-icons/EmailOpenOutline.svelte\";\n  import MarkSpam from \"svelte-material-icons/AlertDecagramOutline.svelte\";\n  import UnMarkSpam from \"svelte-material-icons/EmailCheckOutline.svelte\";\n  import Resend from \"svelte-material-icons/EmailSendOutline.svelte\";\n  import Reply from \"svelte-material-icons/EmailReceiveOutline.svelte\";\n  //import MoveTo from \"svelte-material-icons/FolderMoveOutline.svelte\";\n  //import GoBack from \"svelte-material-icons/ArrowLeft.svelte\";  \n  import CheckAll from \"svelte-material-icons/CheckboxMarked.svelte\";\n  import CheckNone from \"svelte-material-icons/CheckboxBlankOutline.svelte\";\n  import CheckSome from \"svelte-material-icons/CheckboxIntermediate.svelte\";\n\n  import CheckCircle from \"svelte-material-icons/CheckCircle.svelte\";\n  import Check from \"svelte-material-icons/Check.svelte\";\n\n  import More from \"svelte-material-icons/Plus.svelte\";\n  import CircularProgress from \"../../CircularProgress.svelte\";\n\n  import {Ripple} from \"svelte-mui\";\n  import MoveTo from \"../MoveTo.svelte\";\n\n  export let mailbox;\n  export let messages;\n  export let next;\n  export let prev;\n  export let selection;\n  export let scroll;\n\n  setContext(\"mailbox-selection\", selection);\n\n  import {junk, trash, drafts, sent} from \"../../../lib/client/mailboxes\";\n  import * as mess from \"../../../lib/client/messages\";\n\n  let isJunk, isTrash, isDraft, isSent;\n  $: isJunk = mailbox === junk;\n  $: isTrash = mailbox === trash;\n  $: isDraft = mailbox === drafts;\n  $: isSent = mailbox === sent;\n\n  const handleSelection = () => {\n    selection.update($sel => {\n      if($selection.length !== $messages.length) {\n        return $messages.slice();\n      } else {\n        return [];\n      }\n    })\n  }\n\n  const onSelectionMoved = () => {\n    const selected = selection.get();\n    messages.update(ms => ms.filter(m => !selected.includes(m)));\n    selection.clear();\n    if(messages.get().length < 10) {\n      loadMore();\n    }\n  } \n  \n\n  const updateSeen = async (seen) => {\n    if($selection.length) {\n      $selection.forEach(m => m.update(m => ({...m, seen})))\n      selection.invalidate();\n      await mess.updateSeen($mailbox.id, $selection.map(i => i.get().id), seen)\n    }\n  }\n\n  const markAsSpam = async (value) => {\n    mess.markAsSpam($mailbox.id, $selection.map(i => i.get().id), value);\n    onSelectionMoved();\n  }\n\n  const del = async () => {\n    mess.del($mailbox.id, $selection.map(i => i.get().id));\n    onSelectionMoved();\n  }\n\n  import {list} from \"lib@client/messages.js\";\n  \n  let reloading = false;\n  let reloadTimes = 0;\n  const reload = async () => {\n    if (reloading)\n      return;\n    reloadTimes++;\n    reloading = true;\n    const json = await list($mailbox.id);\n    messages.set(json.messages.map(m => writable(m)))\n    prev.set(json.prev);\n    next.set(json.next);\n    selection.clear();\n    reloading = false;\n  }\n\n  let loadingMore = false;\n  const loadMore = async () => {\n    if ( !$next )\n      return;\n    \n    loadingMore = true;\n    const res = await mess.next($mailbox.id, $next);\n    messages.update(m => [...m, ...res.messages.map(m => writable(m))])\n    next.set(res.next);\n    prev.set(res.prev);\n    loadingMore = false;\n  }\n\n  import {quadOut} from \"svelte/easing\";\n  const flyInsert = (node, params) => {\n    node.classList.add(\"removed\");\n    node.style.zIndex = \"1\";\n    setTimeout(() => node.classList.remove(\"removed\"), 1);\n    setTimeout(() => node.style.zIndex = null, 150)\n    return {duration: 150}\n    /*\n    return {\n      easing: quadOut,\n      ...params,\n      css: (t, u) => `z-index: 1; opacity: ${t}; margin-block-end: -${u * h}px;`\n    }\n    */\n  }\n\n  const flyRemove = (node) => {\n    node.classList.add(\"removed\");\n    return {duration: 150}\n  }\n\n  const {locale: l, trans} = getContext(\"app\");\n  export let locale = $l;\n\n  import {mailboxMeta} from \"../../../lib/util\";\n  let meta;\n  $: meta = mailboxMeta($mailbox, locale.mailbox.title);\n</script>\n\n<svelte:head>\n  <title>{$mailbox.unseen ? `(${$mailbox.unseen}) ` : \"\"}{meta.label}</title>\n</svelte:head>\n\n<Tab>\n  <Topbar scrolled={$scroll !== 0}>\n\n    <x-action-group class=\"select\">\n      <x-action class=\"btn-dark\" data-tooltip={locale.actions.select} on:click={handleSelection}>\n        <Ripple />\n        {#if $selection.length === 0}\n          <CheckNone />\n        {:else if $selection.length === $messages.length}\n          <CheckAll />\n        {:else}\n          <CheckSome />\n        {/if}\n      </x-action>\n\n      <x-action class=\"btn-dark reload\" data-tooltip={locale.actions.reload} on:click={reload}>\n        <div style=\"display: flex; transition: transform 300ms ease; transform: rotate({360 * reloadTimes}deg)\">\n          <Refresh  />\n        </div>\n        <Ripple />\n      </x-action>\n    </x-action-group>\n\n    {#if $selection.length !== 0}\n      <div class=\"only-when-selection\" transition:fade|local={{duration: 150}}>\n        <x-action-group>\n          {#if $selection.every(m => !m.get().seen)}\n            <x-action  class=\"btn-dark\" data-tooltip={locale.actions.markAsRead} on:click={() => updateSeen(true)}>\n              <MarkSeen />\n              <Ripple />\n            </x-action>\n          {:else}\n            <x-action class=\"btn-dark\" data-tooltip={locale.actions.markAsUnread} on:click={() => updateSeen(false)}>\n              <MarkUnSeen />\n              <Ripple />\n            </x-action>\n          {/if}\n\n          {#if isJunk}\n            <x-action class=\"btn-dark\" data-tooltip={locale.actions.unMarkAsSpam} on:click={() => markAsSpam(false)}>\n              <UnMarkSpam />\n              <Ripple />\n            </x-action>\n          {:else if !isDraft && !isSent && !isTrash}\n            <x-action class=\"btn-dark\" data-tooltip={locale.actions.markAsSpam} on:click={() => markAsSpam(true)}>\n              <MarkSpam />\n              <Ripple />\n            </x-action>\n          {/if}\n\n          <x-action class=\"btn-dark\" data-tooltip={\n              isTrash ? locale.actions.deletePermanently :\n              isDraft ? locale.actions.discardDrafts :\n              locale.actions.delete\n          } on:click={() => del()}>\n            <Delete />\n            <Ripple />\n          </x-action>\n        </x-action-group>\n\n\n        <x-action-group>\n          <MoveTo {mailbox} {selection} on:moved={onSelectionMoved}/>\n        </x-action-group>\n  \n        <x-selection-info>\n          <Check />\n          <span>{$trans(\"selection.title\", {n: $selection.length})}</span>\n        </x-selection-info>\n      </div>\n    {/if}\n\n  </Topbar>\n  \n  <x-tab-content on:scroll={event => $scroll = event.target.scrollTop}>\n    {#each $messages as message (`${$mailbox.id}-${message.get().id}`)}\n        <x-mailbox-message out:flyRemove|local={{}} in:flyInsert|local={{duration: 150}}>\n          <Item {message} {mailbox} />\n        </x-mailbox-message>\n    {:else}\n      {#if !loadingMore}\n        <x-mailbox-empty>\n          <span class=\"label\">{locale.mailbox.empty}</span>\n        </x-mailbox-empty>\n      {/if}\n    {/each}\n    \n    {#if loadingMore || $next}\n      <x-loadmore>\n        {#if loadingMore}\n          <x-loadmore-loading in:fade|local={{delay: 150, duration: 150}}>\n            <CircularProgress size=\"0.75em\"/>\n          </x-loadmore-loading>\n        {:else if $next}\n          <x-loadmore-button in:fade|local={{delay: 150, duration: 150}} class=\"btn-dark\" on:click={loadMore}>\n            <More />\n            <Ripple />\n          </x-loadmore-button>\n        {/if}\n      </x-loadmore>\n    {/if}\n  </x-tab-content>\n</Tab>","<script context=\"module\">\n  import {user} from  \"../../client/client\";\n  import {get} from \"../../client/mailboxes\";\n  import {list} from \"../../client/messages\";\n  import {createSelection} from \"../../selection\";\n\n  export async function preload($page, {client}){\n    \n    if ( !user.get() ) {\n      return this.redirect(\"#!/login\");\n    }\n\n    const mailbox = get($page.params.mailbox);\n    if (mailbox == null ) {\n      return this.error({code: 404, message: \"La pÃ¡gina no existe\"})\n    } else {\n      const json = await list($page.params.mailbox)\n      \n      const messages = writable(json.messages.map(m => writable(m)));\n      const next = writable(json.next);\n      const prev = writable(json.prev);\n      const selection = createSelection();\n      const scroll = writable(0);\n\n      return {mailbox, messages, prev, next, selection, scroll};\n    }\n  }\n</script>\n\n<script>\n  import {writable} from \"../../store\";\n  import Mailbox from \"../../../comp/Pages/Mailbox/Mailbox.svelte\";\n  \n  // stores;\n  export let mailbox \n  export let messages;\n  export let prev;\n  export let next;\n  export let selection;\n  export let scroll;\n</script>\n\n<Mailbox {mailbox} {messages} {prev} {next} {selection} {scroll} />"],"names":["flag","mess.flag","mess.getDraft","messages","next","updateSeen","mess.updateSeen","markAsSpam","mess.markAsSpam","mess.del","mess.next","get"],"mappings":"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"}