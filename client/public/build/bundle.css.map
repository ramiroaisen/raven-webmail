{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "Attachments.svelte",
    "Button.svelte",
    "CircularProgress.svelte",
    "AddrInput.svelte",
    "Compose.svelte",
    "Tabs.svelte",
    "AccountButton.svelte",
    "Dashboard.svelte",
    "Drawer.svelte",
    "DrawerActions.svelte",
    "DrawerItem.svelte",
    "MailboxItem.svelte",
    "MailboxList.svelte",
    "MenuButton.svelte",
    "Topbar.svelte",
    "Confirm.svelte",
    "Dialog.svelte",
    "Dialog2.svelte",
    "Prompt.svelte",
    "Color.svelte",
    "ColorCell.svelte",
    "ColorGroup.svelte",
    "Editor.svelte",
    "FontFamily.svelte",
    "FontSize.svelte",
    "Menu.svelte",
    "MenuItem.svelte",
    "Notify.svelte",
    "Account.svelte",
    "ActionBar.svelte",
    "Filters.svelte",
    "Mailbox.svelte",
    "MailboxMessage.svelte",
    "Main.svelte",
    "Message.svelte",
    "MoveTo.svelte",
    "Password.svelte",
    "Popup.svelte",
    "ProgressButton.svelte",
    "TextField.svelte",
    "FileItem.svelte",
    "Upload.svelte",
    "Preloading.svelte",
    "Login.svelte"
  ],
  "sourcesContent": [
    "<style>\n  .anchor {\n    position: absolute;\n    left: 0;\n    bottom: 0;\n    font-size: 1rem;\n  }\n\n  x-count {\n    position: absolute;\n    top: 0;\n    right: 0;\n    font-size: 0.6em;\n    color: #fff;\n    background: var(--pc);\n    border-radius: 50%;\n    width: 1.4em;\n    height: 1.4em;\n    line-height: 1.4em;\n    text-align: center;\n  }\n\n  .item {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    position: relative;\n  }\n\n  img {\n    flex: none;\n    height: 1.5em;\n    width: 1.5em;\n    margin-inline-end: 1em;\n    pointer-events: none;\n    position: absolute;\n    left: 0.5em;\n    top: calc(50% - 0.75em);\n  }\n</style>\n\n<script>\n  export let mailbox;\n  export let message;\n  export let attachments;\n\n  import Paperclip from \"svelte-material-icons/Paperclip.svelte\";\n  import {Ripple} from \"svelte-mui\";\n  import {url} from \"lib@fileIcons.js\";\n\n  import {getContext} from \"svelte\";\n  const {locale: l} = getContext(\"app\");\n  export let locale = $l;\n\n  import Popup from \"comp@Popup.svelte\";\n  import Menu from \"comp@Menu/Menu.svelte\";\n  import MenuItem from \"comp@Menu/MenuItem.svelte\";\n\n  export let menuOpen = false;\n  const toggle = () => menuOpen = !menuOpen;\n</script>\n\n  <x-action class=\"btn-dark\" class:hover={menuOpen} data-tooltip={locale.actions.attachments} on:click={toggle}>\n    <Paperclip/>\n    <Ripple/>\n    {#if attachments.length}\n      <x-count>{attachments.length}</x-count>\n    {/if}\n    <div class=\"anchor\">\n      <Popup anchor=\"top-left\" bind:open={menuOpen}>\n        <Menu>\n          {#each attachments as file}\n            <div class=\"item\">\n              <MenuItem href=\"/download/{$mailbox.id}/{$message.id}/{file.id}?filename={encodeURIComponent(file.filename)}\" target=\"_blank\">\n                {file.filename}\n              </MenuItem>\n              <img src={url(file.filename)} alt=\"\">\n            </div>\n          {/each}\n        </Menu>\n      </Popup>\n    </div>\n  </x-action>",
    "<style>\n  a{\n    text-decoration: inherit;\n    color: inherit;\n  }\n\n  button,\n  input {\n    font: inherit;\n    appearance: none;\n    -webkit-appearance: none;\n    border: 0;\n    padding: 0;\n    margin: 0;\n    background: transparent;\n  }\n\n  .button {\n    display: inline-flex;\n    cursor: pointer;\n    transition: background-color ease 300ms;\n    padding: 0.7em 0.9em;\n    border-radius: 4px;\n    outline: none;\n    color: currentColor;\n  }\n\n  .fixedsize > .button-in {\n    width: 100%;\n    height: 100%;\n  }\n\n  a.disabled {\n    pointer-events: none;\n  }\n\n  .button:hover {\n    background: rgba(0, 0, 0, 0.15);\n  }\n\n  .button:active {\n    background: rgba(0, 0, 0, 0.25);\n  }\n\n  .rounded {\n    border-radius: 1000px; /*ensure circular*/\n    padding-left: 1.25em;\n    padding-right: 1.25em;\n  }\n\n  .button-in {\n    flex: none;\n    margin: auto;\n    display: flex;\n    flex-direction: row;\n    height: 100%;\n    width: 100%;\n  }\n\n  .button-in :global(.icon) {\n    width: 1.1em;\n    height: 1.1em;\n  }\n\n  .button-in :global(.icon):first-child {\n    margin-right: 0.75em;\n  }\n\n  .button-in :global(.icon):last-child {\n    margin-left: 0.75em;\n  }\n\n  .button-in :global(.icon):only-child {\n    margin: auto;\n    height: 1.5em;\n    width: 1.5em;\n  }\n\n  .primary,\n  .secondary,\n  .add,\n  .remove {\n    color: #fff;\n    box-shadow: inset rgba(0, 0, 0, 0.1) 0 0 1px 1px,\n      0px 1px 5px 0px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14),\n      0px 3px 1px -2px rgba(0, 0, 0, 0.12);\n  }\n\n  .primary {\n    background-color: var(--pc);\n  }\n\n  .primary:hover {\n    background: rgba(var(--pc-rgb), 0.9);\n  }\n\n  .primary:active {\n    background: rgba(var(--pc-rgb), 0.8)\n  }\n\n  .add {\n    background-color: #43a047;\n  }\n\n  .add:hover {\n    background-color: darken(#43a047, 10%);\n  }\n\n  .add:active {\n    background-color: darken(#43a047, 25%);\n  }\n\n  .remove {\n    background-color: #d32f2f;\n  }\n\n  .remove:hover {\n    background-color: darken(#d32f2f, 10%);\n  }\n\n  .remove:active {\n    background-color: darken(#d32f2f, 25%);\n  }\n\n  .disabled,\n  .disabled:hover,\n  .disabled:active {\n    color: rgba(0, 0, 0, 0.26);\n    background-color: rgba(0, 0, 0, 0.12);\n    box-shadow: none;\n    cursor: default;\n  }\n\n  .fab {\n    box-shadow: none;\n  }\n</style>\n\n<script>\n  let className = \"\";\n  export { className as class };\n  export let href = null;\n  export let type = null;\n  export let value = null;\n  export let tabindex = null;\n  export let variant = \"normal\"; // normal primary secondary add remove\n  export let disabled = false;\n  export let rounded = false;\n  export let fab = false;\n  //export let fixedsize = false;\n  export let rel = null;\n\n  $: cls = `button ${variant} ${className}`;\n</script>\n\n{#if href != null}\n  <a\n    class={cls}\n    class:disabled\n    class:rounded\n    class:fab\n    href={!disabled && href}\n    {rel}\n    {tabindex}\n    on:click\n    on:focus\n    on:blur\n    on:change>\n    <span class=\"button-in\">\n      <slot />\n    </span>\n  </a>\n{:else if type === 'submit'}\n  <input\n    type=\"submit\"\n    class={cls}\n    class:disabled\n    class:rounded\n    class:fab\n    {value}\n    {disabled}\n    {tabindex}\n    on:click\n    on:focus\n    on:blur\n    on:change />\n{:else}\n  <button\n    class={cls}\n    class:disabled\n    class:rounded\n    class:fab\n    {disabled}\n    {tabindex}\n    on:click\n    on:focus\n    on:blur\n    on:change>\n    <span class=\"button-in\">\n      <slot />\n    </span>\n  </button>\n{/if}\n",
    "<style>\n@keyframes CircularProgressCircleIndeterminate{\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0px;\n  }\n\n  50% {\n      stroke-dasharray: 100px, 200px;\n      stroke-dashoffset: -15px;\n  }\n\n  100% {\n      stroke-dasharray: 100px, 200px;\n      stroke-dashoffset: -125px;\n  }\n}\n\n@keyframes CircularProgressRotate{\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n.circular-progress{\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--pc);\n  animation: CircularProgressRotate 1.4s linear infinite;\n}\n\n.circle.indeterminate{\n  animation: CircularProgressCircleIndeterminate 1.4s ease-in-out infinite;\n  stroke-dasharray: 80px, 200px;\n  stroke-dashoffset: 0px;\n}\n</style>\n\n<script>\n\nlet className = \"\";\nexport {className as class};\n\nexport let style = \"\";\nexport let value = null;\nexport let variant = \"indeterminate\"; // \"static\", \"determinate\"\n//export let color = null;\nexport let size = \"1em\";\n\n$: if(value != null && variant === \"indeterminate\") variant = \"static\";\n</script>\n\n<div class=\"circular-progress {variant} {className}\" {style}>\n  <svg viewBox=\"22 22 44 44\" height={size} width={size}>\n    <circle class=\"circle indeterminate\" cx=\"44\" cy=\"44\" r=\"20.2\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"3.6\"></circle>\n  </svg>\n</div>",
    "<style>\n  .addr-input {\n    flex: 1;\n    display: flex; \n    flex-direction: row;\n    flex-wrap: wrap;\n    align-items: center;\n  }\n\n  x-addr {\n    font-size: 0.8em;\n    white-space: nowrap;\n    flex: none;\n    height: 2em;\n    line-height: 2em;\n    padding-inline-start: 0.75em;\n    margin-inline-start: 0.5em;\n    margin-top: 0.5em;\n    margin-bottom: 0.25em;\n    border-radius: 1em;\n    background: #eee;\n\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n  }\n\n  x-addr:first-child{\n    margin-inline-start: 0.75em;\n  }\n\n  x-addr-close {\n    width: 1.5em;\n    height: 1.5em;\n    margin: 0.25em 0.25em 0.25em 0;\n    cursor: pointer;\n    border-radius: 50%;\n    flex: none;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    user-select: none;\n\n  }\n\n  input {\n    flex: 1;\n    padding: 0.5em;\n    margin: 0;\n    outline: 0;\n    border: 0;\n    font-size: inherit;\n    font-family: inherit;\n    min-width: 12em;\n  }\n\n</style>\n\n<script>\n  import Close from \"svelte-material-icons/Close.svelte\";\n\n  export let name = \"\";\n  export let id = \"\"\n  export let addrs = []; // {name, address}[]\n\n  export let value = \"\";\n  export let input = null;\n\n  const add = () => {\n    const address = value.trim();\n    if( address ) {\n      if (!addrs.some(a => a.address === address)) {\n        addrs = [...addrs, {address, name: \"\"}];\n        value = \"\";\n      }\n    }\n  }\n\n  const keypress = (event) => {\n    if(event.key === \"Enter\") {\n      add();\n    }\n  }\n\n\n  const keydown = (event) => {\n    if ( event.key === \"Backspace\" ) {\n      if ( addrs.length ) {\n        if ( input.selectionStart === input.selectionEnd && input.selectionStart === 0 ) {\n          addrs = addrs.slice(0, addrs.length - 1);\n        }\n      }\n    }\n  }\n\n  const blur = add;\n   \n  const remove = i => {\n    const helper = addrs.slice();\n    helper.splice(i, 1);\n    addrs = helper;\n  }\n\n  \n</script>\n\n<label class=\"addr-input\">\n  {#each addrs as addr, i}\n    <x-addr>\n      {addr.address}\n      <x-addr-close on:click={() => remove(i)} >\n        <Close />\n      </x-addr-close>\n    </x-addr>\n  {/each}\n  <input type=\"text\" autocomplete=\"off\" bind:this={input} name={name} id={id} on:keypress={keypress} on:blur={blur} on:keydown={keydown} bind:value on:input />\n</label>\n",
    "<style>\n  x-popup {\n    position: fixed;\n    z-index: 200;\n    height: 90%;\n    width: 90%;\n    top: 5%;\n    left: 5%;\n    display: flex;\n    flex-direction: column;\n    box-shadow: 0 8px 10px 1px rgba(0,0,0,0.14), 0 3px 14px 2px rgba(0,0,0,0.12), 0 5px 5px -3px rgba(0,0,0,0.2);\n    border-radius: 0.5em 0.5em  0.25em 0.25em;\n  }\n\n  x-topbar {\n    border-radius: 0.5em 0.5em 0 0;\n    background-color: #404040;\n    flex: none;\n    height: 2.5rem;\n    display: flex;\n    flex-direction: row-reverse;\n    align-items: center;\n    cursor: pointer;\n  }\n\n  x-topbar-button {\n    display: flex;\n    flex: none;\n    height: 2rem;\n    width: 2rem;\n    margin-inline-end: 0.25rem;\n    font-size: 1.25em;\n    cursor: pointer;\n    color: rgba(255,255,255,0.75);\n    align-items: center;\n    justify-content: center;\n    transition: background-color 150ms ease, color 150ms ease;\n    border-radius: 0.25rem;\n    user-select: none;\n  }\n\n  x-topbar-button.min {\n    font-size: 0.8em;\n  }\n\n  x-topbar-button:hover{\n    background: rgba(255,255,255,0.15);\n    color: #fff;\n  }\n\n  x-topbar-button:active{\n    background: rgba(255,255,255,0.25);\n    color: #fff;\n  }\n\n  x-compose {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    background: #fff;\n    position: relative;\n  }\n\n  x-send {\n    position: absolute;\n    display: flex;\n    white-space: nowrap;\n    right: 1.2em;\n    bottom: 1.2em;\n    color: #fff;\n    background-color: #1a73e8;\n    font-weight: 600;\n    border-radius: 0.25em;\n    overflow: hidden;\n    user-select: none;\n    cursor: pointer;\n    transition: box-shadow 200ms ease;\n  }\n\n  x-send:hover {\n    box-shadow: 0 1px 2px 0 rgba(26,115,232,0.451), 0 1px 3px 1px rgba(26,115,232,0.302);\n  }\n\n  x-send > span {\n    padding: 0.6em 1.15em;\n    border: 1px solid rgba(0,0,0,0.2);\n  }\n\n  x-metadata {\n    display: flex;\n    flex: none;\n    flex-direction: column;\n  }\n\n  .label-input {\n    position: relative;\n    border-bottom: #eee 1px solid;\n    display: flex;\n    flex-direction: row;\n    flex: none;\n    min-height: 2em;\n    align-items: center;\n    padding: 0.25em 0.5em;\n    margin: 0 0.5em;\n    cursor: text;\n  }\n\n  x-label {\n    color: #777;\n    align-self: flex-start;\n    line-height: 2.25em;\n    height: 2.25em;\n    cursor: default;\n    user-select: none;\n  }\n\n  input {\n    padding: 0 0.5em;\n    height: 100%;\n    border: 0;\n    margin: 0;\n    outline: 0;\n    flex: 1;\n    font-size: inherit;\n    font-family: inherit;\n  }\n\n  x-toggle-cc {\n    position: absolute;\n    right: 0.5em;\n    top: 0.5em;\n    display: flex;\n    flex-direction: row;\n    align-items: center; \n  }\n\n  x-toggle-cc > span {\n    padding: 0.25em;\n    cursor: pointer;\n    color: #777;\n  }\n\n  x-toggle-cc > span:hover {\n    text-decoration: underline;\n  }\n\n  x-quill {\n    flex: 1;\n    display: flex;\n    flex-direction: column-reverse;\n  }\n\n  x-editor {\n    flex: 1;\n    border: none !important;\n  }\n\n  :global(.ql-editor) {\n    flex: 1;\n    font-size: 15px;\n    padding: 1rem 1.5rem !important; \n    border: none;\n  }\n\n  :global(.ql-editor::-webkit-scrollbar) {\n    width: 0.6rem;\n    height: 0.6rem;\n    cursor: default;\n  }\n\n  :global(.ql-editor::-webkit-scrollbar-button) {\n    width: 0;\n    height: 0;\n    display: none;\n  }\n\n  :global(.ql-editor::-webkit-scrollbar-corner) {\n    background-color: transparent;\n  }\n\n  :global(.ql-editor::-webkit-scrollbar-thumb) {\n    background-color: rgba(0,0,0,0.2);\n    box-shadow: inset 1px 1px 0 rgba(0,0,0,0.10), inset 0 -1px 0 rgba(0,0,0,0.07);\n  }\n\n  :global(.ql-toolbar) {\n    font-family: sans-serif !important;\n    flex: none;\n    margin: 1em;\n    margin-right: 7.45em;\n    border-radius: 3px;\n    background: #fff !important;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    align-self: start;\n    z-index: 1;\n    padding: 0.25em;\n  }\n\n  :global(.ql-formats) {\n    margin: 0.25em 0 !important;\n  }\n\n  :global(.ql-formats:not(:last-child)) {\n    margin-inline-end: 0.5em !important;\n  }\n\n  :global(.ql-snow .ql-picker.ql-expanded .ql-picker-options) {\n    top: 0 !important;\n    transform: translate(0, -100%);\n  }\n\n  :global(polygon.ql-stroke:first-child) {\n    transform: translate(0, -0.2em);\n   }\n\n   :global(polygon.ql-stroke:last-child) {\n    display: none;\n   }\n\n   x-send-button {\n     position: absolute;\n     bottom: 1em;\n     right: 1em;\n     font-weight: 600;\n   }\n\n   x-center {\n     flex: 1;\n     display: flex;\n     align-content: stretch;\n     justify-content: stretch;\n   }\n</style>\n\n<script>\n  import {sanitize} from \"../../lib/sanitize\"; \n\n  import { onMount, onDestroy, setContext } from \"svelte\";\n  import { fade } from \"svelte/transition\";\n\n  import Close from \"svelte-material-icons/WindowClose.svelte\";\n  import Minimize from \"svelte-material-icons/ColorHelper.svelte\";\n\n  import AddrInput from \"./AddrInput.svelte\";\n\n  import deepClone from \"clone-deep\";\n  import deepEqual from \"deep-equal\";\n  //import deepDiff from \"deep-diff\";\n\n  import {current, wins, send, receive} from \"./compose\";\n\n  import {createPostableDraft} from \"lib@client/messages.js\";\n\n  export let self;\n  setContext(\"compose\", {key: self})\n\n  //let html = sanitize($self.html);\n  //let saved = clone($self);\n  //saved.html = \n\n  let saved = createPostableDraft($self);\n  export let saving = false;\n\n  let ms = 3000;\n  let timer;\n  \n  const saveIf = async () => {\n    let current = createPostableDraft($self);\n    if (!deepEqual(saved, current)) {\n      saving = true;\n      const id = await saveDraft($self);\n      $self.id = id;\n      saved = current;\n      saving = false;\n    }\n  }\n\n  let currentSaving;\n\n  onMount(async () => {\n\n    if(!$self.id) {\n      $self.id = await saveDraft($self);\n    }\n\n    timer = setTimeout(async function fn(){\n      currentSaving = saveIf()\n      await currentSaving;\n      timer = setTimeout(fn, ms);\n    }, ms);\n  })\n\n  onDestroy(() => {\n    clearTimeout(timer);\n    saveIf();\n  })\n\n  export let showCc = !!$self.cc.length;\n  export let showBcc = !!$self.bcc.length;\n  let cc, bcc; // DOM\n  let editor; // Component \n\n  export const minimize = () => current.set(null);\n\n  export let close = () => {\n    wins.update(w => w.filter(w => w !== self));\n    current.set(null);\n  }\n\n  import Editor from \"../Editor/Editor.svelte\";\n  import {getNotifier} from \"comp@Notify/notify.js\";\n  import {submitDraft, saveDraft} from \"lib@client/messages.js\";\n\n\n  import {getContext} from \"svelte\";\n  const {locale: l} = getContext(\"app\");\n  export let locale = $l;\n\n  let sending = false;\n\n  const sendMessage = async () => {\n    if(sending)\n      return;\n\n    sending = true;\n    await currentSaving;\n    await saveIf();\n  \n    try {\n      await submitDraft($self.id);\n      getNotifier().add({variant: \"success\", text: locale.notifier.messageSent});\n      close();\n    } catch(e) {\n      getNotifier().add({variant: \"error\", text: e.message});\n    } finally {\n      sending = false;\n      afterSave = null;\n    }\n  }\n\n</script>\n\n{#if self === $current}\n\n  <x-popup in:receive={{key: self}} out:send={{key: self}} >\n    <x-topbar on:click={minimize}>\n      <x-topbar-button on:click|stopPropagation={close}>\n        <Close />\n      </x-topbar-button>\n      <x-topbar-button class=\"min\" on:click|stopPropagation={minimize}>\n        <Minimize />\n      </x-topbar-button>\n    </x-topbar>\n    \n    <x-compose>\n      \n      <x-metadata>\n        <label class=\"label-input\">\n          <x-label>{locale.compose.labels.to}</x-label>\n          <AddrInput name=\"to\" bind:addrs={$self.to} />\n          <x-toggle-cc>\n            {#if !showCc}\n              <span on:click|preventDefault={() => {\n                showCc = true;\n                setTimeout(() => {\n                  cc && cc.focus()\n                }, 1)\n              }}>{locale.compose.labels.cc}</span>\n            {/if}\n            {#if !showBcc}\n              <span on:click|preventDefault={() => {\n                  showBcc = true;\n                  setTimeout(() => {\n                    bcc && bcc.focus()\n                  }, 1)\n              }}>{locale.compose.labels.bcc}</span>\n            {/if}\n          </x-toggle-cc>\n        </label>\n        {#if showCc}\n          <label class=\"label-input\">\n            <x-label>{locale.compose.labels.cc}</x-label>\n            <AddrInput name=\"cc\" bind:addrs={$self.cc} bind:input={cc} />\n          </label>  \n        {/if}\n        {#if showBcc}\n          <label class=\"label-input\">\n            <x-label>{locale.compose.labels.bcc}</x-label>\n            <AddrInput name=\"bcc\" bind:addrs={$self.bcc} bind:input={bcc} />\n          </label>  \n        {/if}\n        <label class=\"label-input\" for=\"subject\">\n          <x-label>{locale.compose.labels.subject}</x-label>\n          <input type=\"text\" name=\"subject\" id=\"subject\" autocomplete=\"off\" bind:value={$self.subject}>\n        </label>\n      </x-metadata>\n      \n      <x-center>\n        <Editor\n          locale={locale.editor}\n          bind:this={editor}\n          bind:html={$self.html}\n          bind:text={$self.text}\n          {sending}\n          on:send={sendMessage}\n          bind:files={$self.files}\n        />\n      </x-center>\n\n    </x-compose>\n  </x-popup>\n{/if}",
    "<style>\n  x-tabs {\n    position: fixed;\n    z-index: 110;\n    right: 0;\n    bottom: 0;\n    margin-right: 8em; \n    display: flex;\n    flex-direction: row-reverse;\n    flex-wrap: wrap-reverse;\n  }\n\n  x-tab {\n    position: relative;\n    display: flex;\n    width: 14em;\n    height: 2.25em;\n    background: #404040;\n    color: #fff;\n    margin-inline-end: 1em;\n    margin-top: 1em;\n    cursor: pointer;\n    user-select: none;\n    border-color: rgba(0,0,0,0.2);\n    border-style: solid;\n    border-width: 1px 1px 0 1px;\n    border-radius: 0.4em 0.4em 0 0;\n    font-weight: 600;\n    align-items: center;\n    max-width: calc(100vw - 8em - 2em)\n  }\n\n  .current {\n    visibility: hidden;\n  }\n\n  x-tab-crossfade {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    pointer-events: none;\n    z-index: -1;\n  }\n\n  x-tab-title {\n    flex: 1;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    margin: 0 0.5em;\n  }\n\n  x-tab-close {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 1.5em;\n    height: 1.5em;\n    margin-inline-end: 0.25em;\n    transition: background-color 150ms ease;\n    border-radius: 2px;\n  }\n\n  x-tab-close:hover {\n    background-color: rgba(255,255,255,0.15);\n  } \n\n  x-tab-close:active {\n    background-color: rgba(255,255,255,0.25);\n  }\n</style>\n\n<script>\n  import {fade} from \"svelte/transition\";\n  import {flip} from \"svelte/animate\";\n  import Compose from \"./Compose.svelte\";\n  import {wins, current, send, receive} from \"./compose\";\n  import Close from \"svelte-material-icons/Close.svelte\";\n  \n  const open = self => current.set(self);\n  \n  const close = self => {\n    if ( self === $current ) {\n      current.set(null);\n    }\n    wins.update(w => w.filter(w => w !== self)); \n  }\n  \n  let minimize = () => current.set(null);\n\n  import {getContext} from \"svelte\";\n  const {locale: l} = getContext(\"app\");\n  export let locale = $l.compose.tabs;\n</script>\n\n{#if $wins.length}\n  <x-tabs>\n    {#each $wins as self (self)}\n      <x-tab class:current={self === $current} transition:fade={{duration: 300}} animate:flip={{duration: 300}} on:click={() => open(self)}>\n        <x-tab-title>{locale.newMessageTitle}</x-tab-title>\n        <x-tab-close on:click|stopPropagation={() => close(self)}>\n          <Close />\n        </x-tab-close>\n        {#if $current !== self}\n          <x-tab-crossfade in:receive|local={{key: self}} out:send|local={{key: self}}></x-tab-crossfade>\n        {/if}\n      </x-tab>\n    {/each}\n  </x-tabs>\n\n  {#if $current}\n    <x-overlay transition:fade={{duration: 300}} on:click={minimize}></x-overlay>\n  {/if}\n\n  {#each $wins as self (self)}\n    <Compose {self} />\n  {/each}\n{/if}",
    "<style>\n  .account-button {\n    position: relative;\n    display: flex;\n    z-index: 100;\n    flex: none;\n  }\n\n  .anchor {\n    position: absolute;\n    right: 0;\n    bottom: 0;\n  }\n\n  .button{\n    letter-spacing: 0.75px;\n    font-weight: 500;\n    padding: 0.65em 1em;\n    display: flex;\n    white-space: nowrap;\n    cursor: pointer;\n    user-select: none;\n    border-radius: 0.25em;\n  }\n</style>\n\n<script>\n  export let user;\n\n  import {getContext} from \"svelte\";\n  const {locale: l} = getContext(\"app\");\n  export let locale = $l.accountButton;\n\n  import Account from \"svelte-material-icons/AccountEditOutline.svelte\";\n  import Logout from \"svelte-material-icons/Logout.svelte\";\n  import Filters from \"svelte-material-icons/FilterOutline.svelte\";\n\n  import {Ripple} from \"svelte-mui\";\n  import Popup from \"comp@Popup.svelte\";\n  import Menu from \"comp@Menu/Menu.svelte\";\n  import MenuItem from \"comp@Menu/MenuItem.svelte\";\n\n  export let menuOpen = false;\n  const toggle = () => menuOpen = !menuOpen;\n</script>\n\n<div class=\"account-button\">\n  <div class=\"button btn-light\" class:hover={menuOpen} on:click={toggle}>\n    {user.address}\n    <Ripple />\n  </div>\n  <div class=\"anchor\">\n      <Popup anchor=\"top-right\" bind:open={menuOpen} >\n        <Menu>\n          <MenuItem href=\"#!/account\" icon={Account}>\n            {locale.myAccount}\n          </MenuItem>\n\n          <MenuItem href=\"#!/filters\" icon={Filters}>\n            {locale.filters}\n          </MenuItem>\n\n          <MenuItem on:click={() => location.replace(\"/logout\")} icon={Logout}>\n            {locale.logout}\n          </MenuItem>\n        </Menu>\n      </Popup>\n  </div>\n</div>",
    "<style>\n  x-dashboard {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n  }\n\n  x-center {\n    flex: 1;\n    display: flex;\n    flex-direction: row;\n  }\n\n  x-main {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n  } \n\n  x-fab {\n    position: fixed;\n    z-index: 50;\n    right: 2em;\n    bottom: 1.5em;\n  }\n\n  x-fab > :global(button) {\n    background-color: var(--pc) !important;\n    color: #fff !important;\n  }\n</style>\n\n<script>\n  import {getContext, setContext} from \"svelte\";\n  import {writable} from \"../../lib/store\";\n  import {derived} from \"svelte/store\";\n\n  import Topbar from \"./Topbar.svelte\";\n  import Drawer from \"./Drawer.svelte\";\n\n  import Tabs from \"../Compose/Tabs.svelte\";\n\n  const drawerOpenMobile = writable(false);\n  const drawerOpenDesktop = writable(true);\n\n  const media = matchMedia(\"screen and (max-width: 768px)\")\n  const isMobile = writable(media.matches);\n  media.onchange = () => { isMobile.set(media.matches) }\n\n  const toggleDrawer = () => {\n    if($isMobile) {\n      if ($drawerOpenMobile) {\n        $drawerOpenMobile = false;\n      } else {\n        $drawerOpenMobile = true;\n        $drawerOpenDesktop = true;\n      }\n    } else {\n      if ( $drawerOpenDesktop ) {\n        $drawerOpenDesktop = false;\n        $drawerOpenMobile = false;\n      } else {\n        $drawerOpenDesktop = true;\n      }\n    }\n  }\n\n  import {scale, fade} from \"svelte/transition\";\n  import {quadOut} from \"svelte/easing\";\n\n  const custom = (node, {duration = 400}) => {\n    return {\n      duration,\n      easing: quadOut,\n      css: (t, u) => `\\\n        transform: scale(${0.95 + t * 0.05});\\\n        opacity: ${t};\\\n        `\n    }\n  }\n\n  const {page} = getContext(\"router\");\n  const hasDrawer = derived(page, page => page.path !== \"/login\");\n\n  setContext(\"dash\", {toggleDrawer, isMobile, drawerOpenMobile, drawerOpenDesktop, hasDrawer});\n\n  import {Button, Icon} from \"svelte-mui\";\n  import Compose from \"svelte-material-icons/EmailEditOutline.svelte\";\n  import {create} from \"comp@Compose/compose.js\";\n  import {createDraft} from \"lib@client/messages.js\"; \n</script>\n\n<x-dashboard in:fade={{duration: 300}}>\n  <Topbar />\n  <x-center>\n    <Drawer />\n    <x-main>\n      <slot />\n    </x-main>\n  </x-center>\n</x-dashboard>\n\n<Tabs/>\n\n{#if $page.path !== \"/login\"}\n  <x-fab transition:scale={{duration: 400}} on:click={async () => create()}>\n    <Button icon fab>\n      <Icon>\n        <Compose />\n      </Icon>\n    </Button>\n  </x-fab>\n{/if}",
    "<style>\n\n  x-drawer {\n    transition: box-shadow 200ms ease, margin 200ms ease;\n    width: 15em;\n    background: #fff;\n    flex: none;\n    overflow-x: hidden;\n    overflow-y: auto;\n    position: relative;\n    z-index: 10;\n  }\n\n  x-overlay {\n    visibility: hidden;\n  }\n\n  @media not all and (max-width: 768px) {\n    x-drawer {\n      margin-inline-start: -15em;\n    }\n\n    x-drawer.desktop-open {\n      border-inline-end: var(--border-gray) 1px solid;\n      margin-inline-start: 0;\n    }\n\n    .title {\n      display: none;\n    }\n  }\n\n  @media screen and (max-width: 768px) {\n    \n    .menu {\n      font-size: 1.25em;\n    }\n\n    .title {\n      border-bottom: var(--border-gray) 1px solid;\n      flex: none;\n      height: var(--topbar-height);\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      cursor: default;\n      user-select: none;\n    }\n\n    .label {\n      font-size: 1.4em;\n      font-weight: 600;\n    }\n\n    x-drawer {\n      margin-inline-start: 0;\n      position: fixed;\n      z-index: 101;\n      height: 100%;\n      left: 0;\n      top: 0;\n      margin-inline-start: -15em;\n    } \n\n    x-drawer.mobile-open {\n      margin-inline-start: 0;\n      box-shadow: 0 8px 10px -5px rgba(0,0,0,.2), 0 16px 24px 2px rgba(0,0,0,.14), 0 6px 30px 5px rgba(0,0,0,.12);\n    }\n\n    x-overlay {\n      visibility: visible;\n    }\n  }\n\n  .actions {\n    margin-top: auto;\n  }\n</style>\n\n<script>\n  import {getContext} from \"svelte\";\n  import {fade} from \"svelte/transition\";\n  import MailboxList from \"./MailboxList/MailboxList.svelte\";\n  import MenuButton from \"./MenuButton.svelte\";\n  import Menu from \"svelte-material-icons/Menu.svelte\";\n  import DrawerItem from \"./DrawerItem.svelte\";\n\n  const {hasDrawer, toggleDrawer, isMobile, drawerOpenMobile, drawerOpenDesktop} = getContext(\"dash\");\n\n  import DrawerActions from \"./DrawerActions.svelte\"\n</script>\n\n{#if $hasDrawer}\n  {#if $drawerOpenMobile}\n    <x-overlay transition:fade={{duration: 300}} on:click={() => drawerOpenMobile.set(false)} />\n  {/if}\n\n  <x-drawer class:mobile-open={$drawerOpenMobile} class:desktop-open={$drawerOpenDesktop}>\n    <div class=\"title\">\n      <MenuButton dark />\n      <span class=\"label\">\n        Raven\n      </span>\n    </div>\n\n    <MailboxList />\n\n    <div class=\"actions\">\n      <DrawerActions />\n    </div>\n\n  </x-drawer>\n{/if}\n",
    "<script>\n    import DrawerItem from \"./DrawerItem.svelte\";\n    import Add from \"svelte-material-icons/FolderPlusOutline.svelte\";\n    import {getNotifier} from \"comp@Notify/notify.js\";\n    import {createMailbox} from \"lib@client/mailboxes.js\";\n    import {getContext} from \"svelte\";\n\n    const {locale: l, trans} = getContext(\"app\");\n    export let locale = $l;\n\n    import {prompt} from \"comp@Dialog/dialog.js\";\n    const createFolder = async () => {\n        let path = await prompt(locale.dialogs.createMailbox);\n        if(path && (path = path.trim())) {\n            try {\n                await createMailbox(path);\n                getNotifier().add({variant: \"success\", text: $trans(\"drawerActions.createMailbox.success\", {n: path})});\n            } catch(e) {\n                getNotifier().add({variant: \"error\", text: e.message});\n            }\n        }\n    }\n</script>\n\n<style>\n    x-drawer-actions {\n        display: flex;\n        flex-direction: column;\n    }\n</style>\n\n<x-drawer-actions>\n    <DrawerItem label={locale.drawerActions.createMailbox.label} icon={Add} on:click={createFolder}/>\n</x-drawer-actions>\n\n\n",
    "<style>\n    .item {\n        display: flex;\n        flex-direction: row;\n        align-items: center;\n        padding: 0.25em 0 0.25em 0.25em;\n        background: #fff;\n        cursor: pointer;\n        user-select: none;\n    }\n\n    .current:after {\n        background-color: rgba(var(--pc-rgb), 0.15);\n    }\n\n    .icon {\n        display: flex;\n        padding: 0.5em;\n        font-size: 1.25em;\n    }\n\n    .label {\n        flex: 1;\n    }\n\n    .count-menu {\n        position: relative;\n        z-index: 1;\n    }\n\n    .menu-open .count-menu {\n        z-index: 2;\n    }\n\n    .menu {\n        position: fixed;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        opacity: 0;\n        transition: opacity 300ms ease;\n        transform: translate(-100%, -50%);\n    }\n\n    .menu-open .menu {\n        z-index: 1;\n    }\n\n\n    .menu > :global([slot=menu]) {\n        position: relative;\n    }\n\n    .counter {\n        position: absolute;\n        right: 0;\n        top: 50%;\n        font-size: 0.85em;\n        transform: translateY(-50%);\n        margin-inline-end: 1em;\n        transition: opacity 300ms ease;\n        pointer-events: none;\n    }\n\n    .item:hover .menu + .counter,\n    .menu-open .menu + .counter {\n        opacity: 0;\n    }\n\n    .item:hover .menu,\n    .menu-open .menu {\n        opacity: 1;\n    }\n</style>\n\n<script>\n    import {getContext} from \"svelte\";\n    import {scale} from \"svelte/transition\";\n    import {Ripple} from \"svelte-mui\";\n\n    const {drawerOpenMobile} = getContext(\"dash\")\n\n    export let href;\n    export let label;\n    export let icon;\n    export let counter = null;\n    export let current = false;\n    export let menu = false;\n    export let menuOpen = false;\n\n    const prevent = event => {\n        event.preventDefault();\n        event.stopPropagation()\n    }\n\n    const click = event => {\n        drawerOpenMobile.set(false);\n        console.log(event.defaultPrevented);\n    }\n</script>\n\n<a {href} class=\"na item btn-dark\" class:current class:menu-open={menuOpen} on:click on:click={click}>\n    <span class=\"icon\">\n        <svelte:component this={icon} />\n    </span>\n    <span class=\"label\">{label}</span>\n    <div class=\"count-menu\">\n        {#if menu}\n            <div class=\"menu\" on:click={prevent}>\n                <slot name=\"menu\"></slot>\n            </div>\n        {/if}\n        {#if counter}\n            <span class=\"counter\" transition:scale={{duration: 200}}>{counter}</span>\n        {/if}\n    </div>\n    <Ripple />\n</a>",
    "<style>\n  .menu {\n    position: relative;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 50%;\n    width: 2.5em;\n    height: 2.5em;\n  }\n\n  .menu > :global(svg) {\n    width: 70%;\n    height: 70%;\n    color: #666;\n  }\n\n  .anchor {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n  }\n</style>\n\n<script>\n  import {getContext} from \"svelte\";\n\n  import {mailboxMeta} from \"../../../lib/util\";\n  export let mailbox;\n  export let menuOpen = false;\n\n  const {page} = getContext(\"router\");\n  const {locale, trans} = getContext(\"app\");\n\n  let current, meta;\n  $: current = $page.params.mailbox === $mailbox.id;\n  $: meta = mailboxMeta($mailbox, $locale.mailbox.title);\n\n  import DrawerItem from \"../DrawerItem.svelte\"\n\n  import {others} from \"lib@client/mailboxes.js\";\n  let menu;\n  $: menu = $others.includes(mailbox);\n\n  import DotsVertical from \"svelte-material-icons/DotsVertical.svelte\";\n  import Popup from \"comp@Popup.svelte\";\n  import Menu from \"comp@Menu/Menu.svelte\";\n  import MenuItem from \"comp@Menu/MenuItem.svelte\";\n  import Delete from \"svelte-material-icons/TrashCanOutline.svelte\"\n\n  import {confirm} from \"comp@Dialog/dialog.js\";\n  import {del} from \"lib@client/mailboxes.js\";\n  import {getNotifier} from \"comp@Notify/notify.js\";\n\n  const deleteMailbox = async (event) => {\n    event.preventDefault();\n    event.stopPropagation();\n    const args = {...$locale.dialogs.deleteMailbox, title: $trans(\"dialogs.deleteMailbox.title\", {mailbox: $mailbox.path})};\n    if(await confirm(args)) {\n      try {\n        await del($mailbox.id);\n        getNotifier().add({variant: \"success\", text: $locale.notifier.mailboxDeleted});\n      } catch(e) {\n        getNotifier.add({variant: \"error\", text: e.message});\n      }\n    }\n  }\n</script>\n\n<DrawerItem href=\"#!/mailbox/{$mailbox.id}\" {menu} {menuOpen} {current} icon={meta.icon} label={meta.label} counter={$mailbox.unseen}>\n  <div slot=\"menu\">\n    {#if menu}\n      <div class=\"menu btn-dark\" class:hover={menuOpen} class:menu-open={menuOpen} on:click={() => menuOpen = !menuOpen}>\n        <DotsVertical />\n        <div class=\"anchor\" on:click|stopPropagation>\n          <Popup anchor=\"top-left\" bind:open={menuOpen}>\n            <Menu>\n              <MenuItem icon={Delete} on:click={deleteMailbox}>{$locale.mailbox.delete}</MenuItem>\n            </Menu>\n          </Popup>\n        </div>\n      </div>\n    {/if}\n  </div>\n</DrawerItem>\n",
    "<style>\n  x-mailbox-list {\n    display: flex;\n    flex-direction: column;\n    padding-top: 0.5em;\n    overflow-y: auto;\n    overflow-x: hidden;\n  }\n</style>\n\n<script>\n  import {inbox, sent, drafts, junk, trash, others} from \"../../../lib/client/mailboxes\";\n  import MailboxItem from \"./MailboxItem.svelte\"\n</script>\n\n<x-mailbox-list>\n  {#if $inbox}\n    <MailboxItem mailbox={inbox} />\n  {/if}\n  {#each $others as mailbox} \n    <MailboxItem {mailbox} />\n  {/each}\n  {#if $sent}\n    <MailboxItem mailbox={sent} />\n  {/if}\n  {#if $drafts}\n    <MailboxItem mailbox={drafts} />\n  {/if}\n  {#if $junk}\n    <MailboxItem mailbox={junk} />\n  {/if}\n  {#if $trash}\n    <MailboxItem mailbox={trash} />\n  {/if}\n</x-mailbox-list>",
    "<style>\n  x-menu-button {\n    display: flex;\n    padding: 0.75rem;\n    margin: 0 0.5rem;\n    align-items: center;\n    justify-content: center;\n    font-size: 1.75rem;\n    border-radius: 50%;\n    transition: margin 200ms ease;\n  }\n\n  .hidden {\n    margin-inline-start: -3em;\n    margin-inline-end: 2em;\n  }\n</style>\n\n<script>\n  import {getContext} from \"svelte\";\n  import Menu from \"svelte-material-icons/Menu.svelte\";\n  import {Ripple} from \"svelte-mui\";\n  const {toggleDrawer} = getContext(\"dash\");\n\n  export let light;\n  export let dark;\n  export let hidden;\n</script>\n\n<x-menu-button class:hidden class:btn-light={light} class:btn-dark={dark} on:click={toggleDrawer}>\n  <Menu />\n  <Ripple />\n</x-menu-button>\n",
    "<style>\n  x-topbar {\n    height: var(--topbar-height);\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    background: var(--pc);\n    color: #fff;\n    position: relative;\n    /*z-index: 100;*/\n  }\n\n  x-logo {\n    font-weight: 600;\n    font-size: 1.4em;\n  }\n\n  .account-button {\n    margin-inline-start: auto;\n    margin-inline-end: 0.5em;\n  }\n</style>\n\n<script>\n  import {getContext} from \"svelte\";\n\n  const {toggleDrawer, hasDrawer} = getContext(\"dash\");\n\n  import {user} from \"../../lib/client/client\";\n\n  import MenuButton from \"./MenuButton.svelte\";\n  import AccountButton from \"./AccountButton.svelte\";\n  import Menu from \"svelte-material-icons/Menu.svelte\";\n  import Close from \"svelte-material-icons/Close.svelte\";\n</script>\n\n<x-topbar>\n  <MenuButton light hidden={!$hasDrawer} />\n  <x-logo>Raven</x-logo>\n  {#if $user}\n    <div class=\"account-button\">\n      <AccountButton user={$user} dark />\n    </div>\n  {/if}\n</x-topbar>",
    "<script>\n    import Dialog from \"./Dialog.svelte\";\n\n    // @args\n    // title: string\n    // desc: string\n    // accept: string\n    // cancel: string\n    let args = {};\n\n    let accept;\n    let cancel;\n\n    let dialog;\n\n    export const open = async (_args) => {\n\n        return new Promise(resolve => {\n\n            const close = dialog.open({\n                title: _args.title,\n                modal: false,\n                onClose: () => {\n                    console.log(\"onClose\");\n                    resolve(false);\n                }\n            });\n\n            args = _args;\n\n            accept = () => {\n                close();\n                resolve(true);\n            }\n\n            cancel = () => {\n                close();\n                resolve(false)\n            }\n        })\n    }\n\n    import {Button} from \"svelte-mui\";\n    import TextField from \"comp@TextField.svelte\";\n</script>\n\n<style>\n    .body {\n        padding: 1.5em;\n    }\n\n    .actions {\n        display: flex;\n        flex-direction: row-reverse;\n        padding: 1.5em;\n        padding-top: 0;\n    }\n\n    .actions > :global(.cancel) {\n        margin-inline-end: 1.5em;\n    }\n</style>\n\n<Dialog bind:this={dialog} title={args.title}>\n    <div class=\"body\">\n        {args.desc}\n    </div>\n    <div class=\"actions\">\n        <Button class=\"accept\" on:click={accept} raised color=\"var(--pc)\">{args.accept}</Button>\n        <Button class=\"cancel\" on:click={cancel}>{args.cancel}</Button>\n    </div>\n</Dialog>",
    "\n<style>\n    x-overlay {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        z-index: 300;\n    }\n\n    x-overlay.modal {\n        cursor: default;\n    }\n\n    x-dialog {\n        max-width: 90%;\n        width: 30em;\n        background: #fff;\n        border-right: 0.25em;\n        display: flex;\n        flex-direction: column;\n        border-radius: 0.25em;\n        overflow: hidden;\n    }\n\n    x-title {\n        font-size: 1.25em;\n        font-weight: 600;\n        padding: 1em;\n        background: rgba(0,0,0,0.1dialog);\n    }\n</style>\n\n<script>\n    import {fade} from \"svelte/transition\";\n\n    import {onceBackButton} from \"lib@onceBackButton.js\";\n    import {once} from \"lib@util.js\";\n\n    let isOpen = false;\n    let title = null;\n    let modal = false;\n\n    // args:\n    // title: string\n    // onClose: function (if modal)\n    // modal: boolean (false)\n\n    export const open = (args = {}) => {\n        title = args.title || title;\n        modal = modal || false;\n        isOpen = true;\n\n        let trigger = true;\n\n        let remove;\n\n        const _close = () => {\n            modal = false;\n            title = null;\n            isOpen = false;\n            remove && remove();\n            trigger && args.onClose && args.onClose();\n        }\n\n        if(!modal) {\n            remove = onceBackButton(_close);\n            close = once(() => history.back())\n        } else {\n            close = once(_close);\n        }\n\n        return () => {\n            trigger = false;\n            close();\n        }\n    }\n\n    const keydown = event => {\n        if(isOpen && !modal && event.key === \"Escape\") {\n            close();\n        }\n    }\n\n</script>\n\n<svelte:window on:keydown|capture={keydown} />\n\n{#if isOpen}\n    <x-overlay class:modal transition:fade={{duration: 200}} on:click={() => !modal && close()}>\n        <x-dialog class=\"elevation-4\" on:click|stopPropagation>\n            {#if title != null}\n                <x-title>{title}</x-title>\n            {/if}\n            <slot/>\n        </x-dialog>\n    </x-overlay>\n{/if}\n",
    "\n<style>\n    x-overlay {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        z-index: 300;\n    }\n\n    x-overlay.modal {\n        cursor: default;\n    }\n\n    x-dialog {\n        max-width: 90%;\n        width: 30em;\n        background: #fff;\n        border-right: 0.25em;\n        display: flex;\n        flex-direction: column;\n        border-radius: 0.25em;\n        overflow: hidden;\n    }\n\n    x-title {\n        font-size: 1.25em;\n        font-weight: 600;\n        padding: 1em;\n        background: rgba(0,0,0,0.1dialog);\n    }\n</style>\n\n<script>\n    import {fade} from \"svelte/transition\";\n\n    import {onceBackButton} from \"lib@onceBackButton.js\";\n    import {once} from \"lib@util.js\";\n\n    export let open;\n    export let title = null;\n    export let modal = false;\n    \n    const keydown = event => {\n        if(open && !modal && event.key === \"Escape\") {\n            open = false;\n        }\n    }\n\n</script>\n\n<svelte:window on:keydown|capture={keydown} />\n\n<x-overlay class:modal transition:fade={{duration: 200}} on:click={() => !modal && (open = false)}>\n    <x-dialog class=\"elevation-4\" on:click|stopPropagation>\n        {#if title != null}\n            <x-title>{title}</x-title>\n        {/if}\n        <slot/>\n    </x-dialog>\n</x-overlay>\n",
    "\n<style>\n    .body {\n        padding: 1.5em;\n    }\n\n    .actions {\n        display: flex;\n        flex-direction: row-reverse;\n        padding: 1.5em;\n        padding-top: 0;\n    }\n\n    .actions > :global(.cancel) {\n        margin-inline-end: 1.5em;\n    }\n</style>\n\n<script>\n    import Dialog from \"./Dialog.svelte\";\n    import {writable} from \"lib@store.js\";\n\n    // @args\n    // title: string\n    // label: string\n    // accept: string\n    // cancel: string\n    // value: string = \"\";\n    let args = {};\n\n    let accept;\n    let cancel;\n\n    const keydown =  event => {\n        if (accept && event.key === \"Enter\")\n            accept();\n    };\n\n    let value = \"\";\n\n    let dialog;\n\n    export const open = async (_args) => {\n\n        args = _args\n\n        if(value != null) {\n            value = _args.value;\n        }\n\n        return new Promise(resolve => {\n\n            const close = dialog.open({\n                title: args.title,\n                modal: false,\n                onClose: () => resolve(false)\n            });\n\n            accept = () => {\n                close();\n                resolve(value);\n            }\n\n            cancel = () => {\n                close();\n                resolve(false)\n            }\n        })\n    }\n\n    import {Button} from \"svelte-mui\";\n    import TextField from \"comp@TextField.svelte\";\n\n</script>\n\n<Dialog bind:this={dialog} title={args.title}>\n    <div class=\"body\">\n        <TextField label={args.label} bind:value={value} on:keydown={keydown}/>\n    </div>\n    <div class=\"actions\">\n        <Button class=\"accept\" on:click={accept} raised color=\"var(--pc)\">{args.accept}</Button>\n        <Button class=\"cancel\" on:click={cancel}>{args.cancel}</Button>\n    </div>\n</Dialog>",
    "<style>\n  x-color{\n    display: flex;\n    flex-direction: row;\n  }\n\n  .anchor {\n    position: absolute;\n    top: 0;\n    left: 50%;\n  }\n</style>\n\n<script>\n  import {getContext} from \"svelte\";\n  const {cmd, has} = getContext(\"editor\");\n\n  import Fill from \"svelte-material-icons/FormatColorFill.svelte\"\n  import ColorGroup from \"./ColorGroup.svelte\";\n\n  export let locale;\n\n  export let open = false;\n  const toggle = () => open = !open;\n\n  import Popup from \"comp@Popup.svelte\";\n</script>\n\n<x-command-group>\n  <x-command class=\"multiple\" class:hover={open} data-tooltip={open ? null : locale.tooltip} on:click={toggle}>\n    <Fill />\n    <div class=\"anchor\">\n      <Popup anchor=\"bottom-center\" bind:open>\n        <x-color>\n          {#if has(\"foreColor\")}\n            <ColorGroup variant=\"foreColor\" label={locale.foreColor} />\n          {/if}\n          {#if has(\"backColor\")}\n            <ColorGroup variant=\"backColor\" label={locale.backColor} />\n          {/if}\n        </x-color>\n      </Popup>\n    </div>\n  </x-command>\n</x-command-group>",
    "<style>\n  x-color-cell {\n    width: 1.125em;\n    height: 1.125em;\n    margin: 2px;\n    cursor: pointer;\n    user-select: none;\n  }\n</style>\n\n<script>\n  import {getContext} from \"svelte\";\n  const {cmd} = getContext(\"editor\"); \n  \n  export let variant;\n  export let color;\n</script>\n\n<x-color-cell\n  style=\"background-color: {color}\"\n  on:click={() => cmd(variant, color)}\n>\n</x-color-cell>\n",
    "<script context=\"module\">\n/*\nconst red = {\"50\":\"#ffebee\",\"100\":\"#ffcdd2\",\"200\":\"#ef9a9a\",\"300\":\"#e57373\",\"400\":\"#ef5350\",\"500\":\"#f44336\",\"600\":\"#e53935\",\"700\":\"#d32f2f\",\"800\":\"#c62828\",\"900\":\"#b71c1c\",\"a100\":\"#ff8a80\",\"a200\":\"#ff5252\",\"a400\":\"#ff1744\",\"a700\":\"#d50000\"};\nconst pink = {\"50\":\"#fce4ec\",\"100\":\"#f8bbd0\",\"200\":\"#f48fb1\",\"300\":\"#f06292\",\"400\":\"#ec407a\",\"500\":\"#e91e63\",\"600\":\"#d81b60\",\"700\":\"#c2185b\",\"800\":\"#ad1457\",\"900\":\"#880e4f\",\"a100\":\"#ff80ab\",\"a200\":\"#ff4081\",\"a400\":\"#f50057\",\"a700\":\"#c51162\"};\nconst purple = {\"50\":\"#f3e5f5\",\"100\":\"#e1bee7\",\"200\":\"#ce93d8\",\"300\":\"#ba68c8\",\"400\":\"#ab47bc\",\"500\":\"#9c27b0\",\"600\":\"#8e24aa\",\"700\":\"#7b1fa2\",\"800\":\"#6a1b9a\",\"900\":\"#4a148c\",\"a100\":\"#ea80fc\",\"a200\":\"#e040fb\",\"a400\":\"#d500f9\",\"a700\":\"#aa00ff\"};\nconst deepPurple = {\"50\":\"#ede7f6\",\"100\":\"#d1c4e9\",\"200\":\"#b39ddb\",\"300\":\"#9575cd\",\"400\":\"#7e57c2\",\"500\":\"#673ab7\",\"600\":\"#5e35b1\",\"700\":\"#512da8\",\"800\":\"#4527a0\",\"900\":\"#311b92\",\"a100\":\"#b388ff\",\"a200\":\"#7c4dff\",\"a400\":\"#651fff\",\"a700\":\"#6200ea\"};\nconst indigo = {\"50\":\"#e8eaf6\",\"100\":\"#c5cae9\",\"200\":\"#9fa8da\",\"300\":\"#7986cb\",\"400\":\"#5c6bc0\",\"500\":\"#3f51b5\",\"600\":\"#3949ab\",\"700\":\"#303f9f\",\"800\":\"#283593\",\"900\":\"#1a237e\",\"a100\":\"#8c9eff\",\"a200\":\"#536dfe\",\"a400\":\"#3d5afe\",\"a700\":\"#304ffe\"};\nconst blue = {\"50\":\"#e3f2fd\",\"100\":\"#bbdefb\",\"200\":\"#90caf9\",\"300\":\"#64b5f6\",\"400\":\"#42a5f5\",\"500\":\"#2196f3\",\"600\":\"#1e88e5\",\"700\":\"#1976d2\",\"800\":\"#1565c0\",\"900\":\"#0d47a1\",\"a100\":\"#82b1ff\",\"a200\":\"#448aff\",\"a400\":\"#2979ff\",\"a700\":\"#2962ff\"};\nconst lightBlue = {\"50\":\"#e1f5fe\",\"100\":\"#b3e5fc\",\"200\":\"#81d4fa\",\"300\":\"#4fc3f7\",\"400\":\"#29b6f6\",\"500\":\"#03a9f4\",\"600\":\"#039be5\",\"700\":\"#0288d1\",\"800\":\"#0277bd\",\"900\":\"#01579b\",\"a100\":\"#80d8ff\",\"a200\":\"#40c4ff\",\"a400\":\"#00b0ff\",\"a700\":\"#0091ea\"};\nconst cyan = {\"50\":\"#e0f7fa\",\"100\":\"#b2ebf2\",\"200\":\"#80deea\",\"300\":\"#4dd0e1\",\"400\":\"#26c6da\",\"500\":\"#00bcd4\",\"600\":\"#00acc1\",\"700\":\"#0097a7\",\"800\":\"#00838f\",\"900\":\"#006064\",\"a100\":\"#84ffff\",\"a200\":\"#18ffff\",\"a400\":\"#00e5ff\",\"a700\":\"#00b8d4\"};\nconst teal = {\"50\":\"#e0f2f1\",\"100\":\"#b2dfdb\",\"200\":\"#80cbc4\",\"300\":\"#4db6ac\",\"400\":\"#26a69a\",\"500\":\"#009688\",\"600\":\"#00897b\",\"700\":\"#00796b\",\"800\":\"#00695c\",\"900\":\"#004d40\",\"a100\":\"#a7ffeb\",\"a200\":\"#64ffda\",\"a400\":\"#1de9b6\",\"a700\":\"#00bfa5\"};\nconst green = {\"50\":\"#e8f5e9\",\"100\":\"#c8e6c9\",\"200\":\"#a5d6a7\",\"300\":\"#81c784\",\"400\":\"#66bb6a\",\"500\":\"#4caf50\",\"600\":\"#43a047\",\"700\":\"#388e3c\",\"800\":\"#2e7d32\",\"900\":\"#1b5e20\",\"a100\":\"#b9f6ca\",\"a200\":\"#69f0ae\",\"a400\":\"#00e676\",\"a700\":\"#00c853\"};\nconst lightGreen = {\"50\":\"#f1f8e9\",\"100\":\"#dcedc8\",\"200\":\"#c5e1a5\",\"300\":\"#aed581\",\"400\":\"#9ccc65\",\"500\":\"#8bc34a\",\"600\":\"#7cb342\",\"700\":\"#689f38\",\"800\":\"#558b2f\",\"900\":\"#33691e\",\"a100\":\"#ccff90\",\"a200\":\"#b2ff59\",\"a400\":\"#76ff03\",\"a700\":\"#64dd17\"};\nconst lime = {\"50\":\"#f9fbe7\",\"100\":\"#f0f4c3\",\"200\":\"#e6ee9c\",\"300\":\"#dce775\",\"400\":\"#d4e157\",\"500\":\"#cddc39\",\"600\":\"#c0ca33\",\"700\":\"#afb42b\",\"800\":\"#9e9d24\",\"900\":\"#827717\",\"a100\":\"#f4ff81\",\"a200\":\"#eeff41\",\"a400\":\"#c6ff00\",\"a700\":\"#aeea00\"};\nconst yellow = {\"50\":\"#fffde7\",\"100\":\"#fff9c4\",\"200\":\"#fff59d\",\"300\":\"#fff176\",\"400\":\"#ffee58\",\"500\":\"#ffeb3b\",\"600\":\"#fdd835\",\"700\":\"#fbc02d\",\"800\":\"#f9a825\",\"900\":\"#f57f17\",\"a100\":\"#ffff8d\",\"a200\":\"#ffff00\",\"a400\":\"#ffea00\",\"a700\":\"#ffd600\"};\nconst amber = {\"50\":\"#fff8e1\",\"100\":\"#ffecb3\",\"200\":\"#ffe082\",\"300\":\"#ffd54f\",\"400\":\"#ffca28\",\"500\":\"#ffc107\",\"600\":\"#ffb300\",\"700\":\"#ffa000\",\"800\":\"#ff8f00\",\"900\":\"#ff6f00\",\"a100\":\"#ffe57f\",\"a200\":\"#ffd740\",\"a400\":\"#ffc400\",\"a700\":\"#ffab00\"};\nconst orange = {\"50\":\"#fff3e0\",\"100\":\"#ffe0b2\",\"200\":\"#ffcc80\",\"300\":\"#ffb74d\",\"400\":\"#ffa726\",\"500\":\"#ff9800\",\"600\":\"#fb8c00\",\"700\":\"#f57c00\",\"800\":\"#ef6c00\",\"900\":\"#e65100\",\"a100\":\"#ffd180\",\"a200\":\"#ffab40\",\"a400\":\"#ff9100\",\"a700\":\"#ff6d00\"};\nconst deepOrange = {\"50\":\"#fbe9e7\",\"100\":\"#ffccbc\",\"200\":\"#ffab91\",\"300\":\"#ff8a65\",\"400\":\"#ff7043\",\"500\":\"#ff5722\",\"600\":\"#f4511e\",\"700\":\"#e64a19\",\"800\":\"#d84315\",\"900\":\"#bf360c\",\"a100\":\"#ff9e80\",\"a200\":\"#ff6e40\",\"a400\":\"#ff3d00\",\"a700\":\"#dd2c00\"};\nconst brown = {\"50\":\"#efebe9\",\"100\":\"#d7ccc8\",\"200\":\"#bcaaa4\",\"300\":\"#a1887f\",\"400\":\"#8d6e63\",\"500\":\"#795548\",\"600\":\"#6d4c41\",\"700\":\"#5d4037\",\"800\":\"#4e342e\",\"900\":\"#3e2723\"};\nconst grey = {\"50\":\"#fafafa\",\"100\":\"#f5f5f5\",\"200\":\"#eeeeee\",\"300\":\"#e0e0e0\",\"400\":\"#bdbdbd\",\"500\":\"#9e9e9e\",\"600\":\"#757575\",\"700\":\"#616161\",\"800\":\"#424242\",\"900\":\"#212121\"};\nconst blueGrey = {\"50\":\"#eceff1\",\"100\":\"#cfd8dc\",\"200\":\"#b0bec5\",\"300\":\"#90a4ae\",\"400\":\"#78909c\",\"500\":\"#607d8b\",\"600\":\"#546e7a\",\"700\":\"#455a64\",\"800\":\"#37474f\",\"900\":\"#263238\"};\nconst black = \"#000000\";\nconst white = \"#ffffff\";\nconst darkText = {\"primary\":\"rgba(0, 0, 0, 0.87)\",\"secondary\":\"rgba(0, 0, 0, 0.54)\",\"disabled\":\"rgba(0, 0, 0, 0.38)\",\"dividers\":\"rgba(0, 0, 0, 0.12)\"};\nconst lightText = {\"primary\":\"rgba(255, 255, 255, 1)\",\"secondary\":\"rgba(255, 255, 255, 0.7)\",\"disabled\":\"rgba(255, 255, 255, 0.5)\",\"dividers\":\"rgba(255, 255, 255, 0.12)\"};\nconst darkIcons = {\"active\":\"rgba(0, 0, 0, 0.54)\",\"inactive\":\"rgba(0, 0, 0, 0.38)\"};\nconst lightIcons = {\"active\":\"rgba(255, 255, 255, 1)\",\"inactive\":\"rgba(255, 255, 255, 0.5)\"};\n*/\n\nimport {white, black, grey, red, orange, yellow, green, cyan, blue, deepPurple, purple} from \"material-colors/dist/colors.es2015.js\";\n\nconst defaultColors = (() => {\n  return [\n    [\n      white, \n        grey[200], grey[300], grey[400],\n        grey[500], grey[600], grey[700], grey[800], \n      black\n    ],\n    \n    ...[red, orange, yellow, green, cyan, blue, deepPurple, purple].map(c => {\n      return [\n        c[100], c[200], c[300],\n        c[400], c[500], c[600], c[700],\n        c[800], c[900]\n      ]\n    })\n\n  ]\n})();\n</script>\n\n<style>\n  x-color-group {\n    display: flex;\n    flex-direction: column;\n    padding: 0.5em;\n  }\n\n  x-title {\n    text-align: center;\n    font-size: 0.8em;\n    font-weight: 600;\n    margin-bottom: 0.5em;\n  }\n\n  x-colors {\n    display: flex;\n    flex-direction: column;\n  }\n\n  x-row{\n    display: flex;\n    flex-direction: row-reverse;\n  }\n</style>\n\n<script>\n  import Cell from \"./ColorCell.svelte\";\n\n  export let label;\n  export let colors = defaultColors;\n  export let variant; //\"foreColor\" || \"backColor\"\n</script>\n\n\n<x-color-group>\n  <x-title>{label}</x-title>\n  <x-colors>\n    {#each colors as row}\n      <x-row>\n        {#each row as color}\n          <Cell {color} {variant}/>\n        {/each}\n      </x-row>\n    {/each}\n  </x-colors>\n</x-color-group>",
    "<style>\n  x-editor {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    --tooltip-bg: rgba(0,0,0,0.8);\n  }\n\n  x-editable {\n    overflow: auto;\n    flex: 1;\n    padding: 1em 1.5em;\n    font-family: sans-serif;\n  }\n\n  x-editable::-webkit-scrollbar {\n    width: 0.6rem;\n    height: 0.6rem;\n    cursor: default;\n  }\n\n  x-editable::-webkit-scrollbar-button {\n    width: 0;\n    height: 0;\n    display: none;\n  }\n\n  x-editable::-webkit-scrollbar-corner {\n    background-color: transparent;\n  }\n\n  x-editable::-webkit-scrollbar-thumb {\n    background-color: rgba(0,0,0,0.2);\n    box-shadow: inset 1px 1px 0 rgba(0,0,0,0.10), inset 0 -1px 0 rgba(0,0,0,0.07);\n  }\n\n  x-bar {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n    padding: 1em;\n  }\n\n  x-toolbar {\n    display: flex;\n    flex-direction: row;\n    padding: 0.5em;\n    border-radius: 3px;\n    align-items: center;\n    justify-self: flex-start;\n    flex-wrap: wrap;\n    margin-inline-end: 1em;\n  }\n\n  x-toolbar :global(x-command-group) {\n    display: flex;\n    align-items: center;\n    flex-direction: row;\n    padding: 0 0.25em;\n    flex: none;\n  }\n\n  x-toolbar :global(x-command) {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 0.1em;\n    user-select: none;\n    cursor: pointer;\n    color: #444;\n    transition: background-color 300ms ease, color 300ms ease;\n    border-radius: 3px;\n    position: relative;\n    flex: none;\n  }\n\n  x-toolbar :global(x-command:hover),\n  x-toolbar :global(x-command.hover) {\n    color: #111;\n    background-color: rgba(0,0,0,0.15);\n  }\n\n  x-toolbar :global(x-command:active) {\n    background-color: rgba(0,0,0,0.25);\n  }\n\n  x-toolbar :global(x-command.multiple:after) {\n    content: \"▼\";\n    transform: scaleY(0.6); \n    font-size: 0.8em;\n  }\n\n  /*\n  x-toolbar :global(x-command-group + x-command-group) {\n    border-inline-start: rgba(0,0,0,0.1) 1px solid;\n  }\n  */\n\n  x-toolbar :global(x-command-group:empty) {\n    display: none;\n  }\n\n  x-toolbar :global(x-command > svg) {\n    font-size: 1.4em;\n  }\n\n  x-end {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    min-width: auto;\n  }\n\n  x-send {\n    min-width: auto;\n    margin-inline-start: 1em;\n  }\n</style>\n\n<script>\n  import {setContext, getContext, createEventDispatcher} from \"svelte\";\n  const dispatch = createEventDispatcher();\n\n  export let html = \"\";\n  export let text = \"\";\n  export let sending = false;\n  export let files;\n\n  const has = (cmd) => document.queryCommandSupported(cmd);\n  const cmd = (key, value) => document.execCommand(key, null, value);\n  const any = (...cmds) => cmds.some(c => has(c));\n  const all = (...cmds) => cmds.every(c => has(c));\n  \n  setContext(\"editor\", {has, cmd, any, all});\n\n  import Bold from \"svelte-material-icons/FormatBold.svelte\";\n  import Underline from \"svelte-material-icons/FormatUnderline.svelte\";\n  import Italic from \"svelte-material-icons/FormatItalic.svelte\";\n  import JustifyLeft from \"svelte-material-icons/FormatAlignLeft.svelte\";\n  import JustifyRight from \"svelte-material-icons/FormatAlignRight.svelte\";\n  import JustifyCenter from \"svelte-material-icons/FormatAlignCenter.svelte\";\n  import ListBulleted from \"svelte-material-icons/FormatListBulleted.svelte\";\n  import ListNumbered from \"svelte-material-icons/FormatListNumbered.svelte\";\n  import Undo from \"svelte-material-icons/Undo.svelte\";\n  import Redo from \"svelte-material-icons/Redo.svelte\";\n  import Quote from \"svelte-material-icons/FormatQuoteClose.svelte\";\n  import Size from \"svelte-material-icons/FormatSize.svelte\";\n  import RemoveFormat from \"svelte-material-icons/FormatClear.svelte\";\n\n  import FontSize from \"./FontSize.svelte\";\n  import FontFamily from \"./FontFamily.svelte\";\n  import Color from \"./Color.svelte\";\n  import Upload from \"../Upload/Upload.svelte\";\n\n  //import {Button} from \"svelte-mui\";\n  import {getNotifier} from \"comp@Notify/notify.js\";\n  import ProgressButton from \"comp@ProgressButton.svelte\";\n\n  const {locale: l} = getContext(\"app\");\n  export let locale = $l.editor;\n</script>\n\n<x-editor>\n  <x-editable contenteditable bind:textContent={text} bind:innerHTML={html}>\n  </x-editable>\n  <x-bar>\n    <x-toolbar class=\"elevation-4\">\n\n      {#if all(\"undo\", \"redo\")}\n      <x-command-group>\n        <x-command data-tooltip={locale.cmd.undo} on:click={() => cmd(\"undo\")}>\n          <Undo />\n        </x-command>\n        <x-command data-tooltip={locale.cmd.redo} on:click={() => cmd(\"redo\")}>\n          <Redo />\n        </x-command>\n      </x-command-group>\n      {/if}\n\n      {#if has(\"fontName\")}\n        <x-command-group>\n          <FontFamily tooltip={locale.cmd.fontName} />\n        </x-command-group>\n      {/if}\n\n      {#if has(\"fontSize\")}\n        <x-command-group>\n          <FontSize tooltip={locale.cmd.fontSize}/>\n        </x-command-group>\n      {/if}\n      \n      {#if any(\"bold\", \"italic\", \"underline\")}\n        <x-command-group>\n          {#if has(\"bold\")}\n            <x-command data-tooltip={locale.cmd.bold} on:click={() => cmd(\"bold\")}>\n              <Bold />\n            </x-command>\n          {/if}\n\n          {#if has(\"italic\")}\n            <x-command data-tooltip={locale.cmd.italic} on:click={() => cmd(\"italic\")}>\n              <Italic />\n            </x-command>\n          {/if}\n\n          {#if has(\"underline\")}\n            <x-command data-tooltip={locale.cmd.underline} on:click={() => cmd(\"underline\")}>\n              <Underline />\n            </x-command>\n          {/if}\n        </x-command-group>\n      {/if}\n\n      {#if any(\"foreColor\", \"backColor\")}\n        <Color locale={locale.color} />\n      {/if}\n\n      {#if any(\"justifyLeft\", \"justifyCenter\", \"justifyRight\")}\n        <x-command-group>\n          {#if has(\"justifyLeft\")}\n            <x-command data-tooltip={locale.cmd.justifyLeft} on:click={() => cmd(\"justifyLeft\")}>\n              <JustifyLeft />\n            </x-command>\n          {/if}\n          {#if has(\"justifyCenter\")}\n            <x-command data-tooltip={locale.cmd.justifyCenter} on:click={() => cmd(\"justifyCenter\")}>\n              <JustifyCenter />\n            </x-command>\n          {/if}\n          {#if has(\"justifyRight\")}\n            <x-command data-tooltip={locale.cmd.justifyRight} on:click={() => cmd(\"justifyRight\")}>\n              <JustifyRight />\n            </x-command>\n          {/if}\n        </x-command-group>\n      {/if}\n\n      {#if any(\"insertUnorderedList\", \"insertOrderedList\")}\n        <x-command-group>\n          {#if has(\"insertUnorderedList\")}\n            <x-command data-tooltip={locale.cmd.insertUnorderedList} on:click={() => cmd(\"insertUnorderedList\")}>\n              <ListBulleted />\n            </x-command>\n          {/if}\n          {#if has(\"insertOrderedList\")}\n            <x-command data-tooltip={locale.cmd.insertOrderedList} on:click={() => cmd(\"insertOrderedList\")}>\n              <ListNumbered />\n            </x-command>\n          {/if}\n        </x-command-group>\n      {/if}\n\n      {#if has(\"removeFormat\")}\n        <x-command-group>\n          <x-command data-tooltip={locale.cmd.removeFormat} on:click={() => cmd(\"removeFormat\")}>\n            <RemoveFormat />\n          </x-command>\n        </x-command-group>\n      {/if}\n    </x-toolbar>\n  \n    <x-end>\n      <Upload locale={locale.upload} bind:files/>\n      <x-send>\n        <ProgressButton color=\"#4273e8\" progress={{size: \"1.5em\"}} raised inprogress={sending} on:click={() => dispatch(\"send\")}>\n          <span style=\"text-transform: none; font-size:1.1em\">{locale.send}</span>\n        </ProgressButton>\n      </x-send>\n    </x-end>\n  </x-bar>\n</x-editor>",
    "<style>\n  .anchor {\n    position: absolute;\n    top: 0;\n    left: 0;\n  }\n</style>\n\n<script>\n  import {getContext} from \"svelte\";\n  const {cmd} = getContext(\"editor\");\n\n  import FontFamily from \"svelte-material-icons/FormatFont.svelte\";\n\n  export let tooltip;\n  export let open = false;\n  const toggle = () => open = !open;\n\n  import Popup from \"comp@Popup.svelte\";\n  import Menu from \"comp@Menu/Menu.svelte\"\n  import MenuItem from \"comp@Menu/MenuItem.svelte\"\n</script>\n\n<x-command class=\"multiple\" class:hover={open} data-tooltip={open ? null : tooltip} on:click={toggle}>\n  <FontFamily />\n  <div class=\"anchor\">\n    <Popup anchor=\"bottom-left\" bind:open>\n      <Menu>\n        <MenuItem on:click={() => cmd(\"fontName\", \"sans-serif\")} iconPlaceholder={false}>\n          <span style=\"font-family: sans-serif\">Sans Serif</span>\n        </MenuItem>\n        <MenuItem on:click={() => cmd(\"fontName\", \"serif\")} iconPlaceholder={false}>\n          <span style=\"font-family: serif\">Serif</span>\n        </MenuItem>\n        <MenuItem on:click={() => cmd(\"fontName\", \"monospace\")} iconPlaceholder={false}>\n          <span style=\"font-family: monospace\">Monospace</span>\n        </MenuItem>\n      </Menu>\n    </Popup>\n  </div>\n</x-command>\n",
    "<style>\n  .anchor {\n    position: absolute;\n    top: 0;\n    left: 0;\n  }\n\n  .size {\n    display: flex;\n    align-items: center;\n  }\n</style>\n\n<script>\n\n  export let tooltip;\n\n  import Size from \"svelte-material-icons/FormatSize.svelte\";\n\n  export let open = false;\n  const toggle = () => open = !open;\n\n  import Popup from \"comp@Popup.svelte\";\n  import Menu from \"comp@Menu/Menu.svelte\"\n  import MenuItem from \"comp@Menu/MenuItem.svelte\"\n</script>\n\n\n<x-command class=\"multiple\" class:hover={open} data-tooltip={open ? null : tooltip} on:click={toggle}>\n    <Size />\n    <div class=\"anchor\">\n      <Popup anchor=\"bottom-left\" bind:open>\n        <Menu>\n          <MenuItem on:click={() => document.execCommand(\"fontSize\", null, \"1\")} iconPlaceholder={false}>\n            <div class=\"size\" style=\"font-size: 0.75em; height: 2.75em;\">Pequeño</div>\n          </MenuItem>\n\n          <MenuItem on:click={() => document.execCommand(\"fontSize\", null, \"3\")} iconPlaceholder={false}>\n            Normal\n          </MenuItem>\n\n          <MenuItem on:click={() => document.execCommand(\"fontSize\", null, \"5\")} iconPlaceholder={false}>\n            <div class=\"size\" style=\"font-size: 1.5em; height: 2em;\">Grande</div>\n          </MenuItem>\n\n          <MenuItem on:click={() => document.execCommand(\"fontSize\", null, \"7\")} iconPlaceholder={false}>\n            <div class=\"size\" style=\"font-size: 2em; height: 1.5em;\">Gigante</div>\n          </MenuItem>\n        </Menu>\n      </Popup>\n    </div>\n</x-command>",
    "<style>\n    .menu{\n        padding: 0.5em 0;\n        display: flex;\n        flex-direction: column;\n    }\n</style>\n\n<div class=\"menu\">\n    <slot />\n</div>",
    "<style>\n    .menu-item {\n        display: flex;\n        flex-direction: row;\n        min-height: 2.5em;\n        align-items: center;\n        color: #333;\n        padding-inline-end: 1em;\n    }\n\n    .noplaceholder {\n        padding-inline-start: 1em;\n    }\n\n    .icon {\n        flex: none;\n        width: 2.5em;\n        height: 2.5em;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    }\n\n    .icon > :global(svg) {\n        font-size: 1.25em;\n    }\n</style>\n\n<script>\n    export let icon;\n    export let href = null;\n    export let iconPlaceholder = true;\n    import {Ripple} from \"svelte-mui\";\n</script>\n\n<a class=\"menu-item na btn-dark\" class:noplaceholder={!iconPlaceholder} {href} on:click>\n    {#if icon || iconPlaceholder}\n        <div class=\"icon\">\n            {#if icon}\n                <svelte:component this={icon} />\n            {/if}\n        </div>\n    {/if}\n    <slot/>\n    <Ripple />\n</a>\n",
    "<svelte:options accessors={true}/>\n\n<style>\n  .messenger{\n    position: fixed;\n    z-index: 1210;\n    bottom: 0.5em;\n    left: 0.5em;\n    display: flex;\n    flex-direction: column-reverse;\n    max-width: 80%;\n  }\n\n  .message{\n    --icon-size: 1.25em;\n    min-width: 250px;\n    max-width: 400px;\n    display: flex;\n    flex-direction: row;\n    padding: 0.5em 0.5em 0.5em 1em;\n    color: #fff;\n    background-color: rgb(50, 50, 50);\n    box-shadow: 0px 3px 5px -1px rgba(0,0,0,0.2), 0px 6px 10px 0px rgba(0,0,0,0.14), 0px 1px 18px 0px rgba(0,0,0,0.12);\n    margin: 0.5em;\n    border-radius: 0.25em;\n  }\n\n  .success{\n    background-color: #43a047;\n  }\n\n  .error{\n    background-color: #d32f2f;\n  }\n\n  .info{\n    background-color: #1976d2;\n  }\n\n  .warning{\n    background-color: #ffa000;\n  }\n\n  .message-icon{\n    display: flex;\n    flex: none;\n    margin: auto 0;\n    font-size: 1.5em;\n    align-items: center;\n    justify-content: center;\n    height: 22px;\n    width: 22px;\n  }\n\n  .message-content{\n    padding: .25em 3em .25em 1em;\n    line-height: 1.5em;\n    margin: auto 0;\n  }\n\n  .message-content.text{\n    white-space: pre-wrap;\n  }\n\n  .message-action{\n    margin: auto 0 auto auto;\n    flex: none;\n  }\n\n</style>\n\n<script>\nimport {fly} from 'svelte/transition'; \nimport {flip} from \"svelte/animate\";\n\nimport Button from 'comp@Button.svelte';\n\nimport success from 'svelte-material-icons/CheckCircleOutline.svelte'\nimport error from 'svelte-material-icons/CloseCircleOutline.svelte'\nimport info from 'svelte-material-icons/InformationOutline.svelte'\nimport warning from 'svelte-material-icons/AlertOutline.svelte'\n\nconst icons = {success, error, info, warning};\n\nlet className = \"\";\nexport {className as class};\nexport let messages = [];\nexport let maxStack = 3;\nexport let duration = 3000;\n//export let variant = \"normal\";\n\n// messages[]\n// action?: {text: string, fn: (event) => void}\n// persist?: false\n// html?: html //or\n// text?: string\n// variant: \"success\" | \"error\" | \"info\" | \"warning\" | \"normal\"\n\nexport const add = (src) => {\n  \n  let message;\n\n  if(typeof src === \"string\"){\n    message = {text: stc};\n  } else {\n    message = {...src};\n  }\n\n  message.variant = message.variant || \"normal\";\n  message.duration = message.duration || duration;\n  message.persist = !!message.persist;\n  message.icon = message.icon || (message.variant === \"normal\" ? null : icons[message.variant]);\n\n  messages = [...messages, message];\n\n  if(!message.persist){\n    setTimeout(() => remove(message), message.duration);\n  }\n\n  if(messages.length > maxStack){\n    messages = messages.slice(1);\n  }\n}\n\nexport const remove = (key) => {\n  messages = messages.filter((message) => message != key);\n}\n\nexport const clear = () => {\n  messages = [];\n}\n\n</script>\n\n<div class=\"messenger {className}\">\n  {#each messages as message (message)}\n    <div \n      transition:fly={{x: -200, duration: 250}}\n      animate:flip={{duration: 200}}\n      class=\"message {message.variant}\"\n    >\n    {#if message.icon }\n      <div class=\"message-icon\">\n        <svelte:component this={message.icon} />\n      </div>\n    {/if}\n    <div class=\"message-content {message.html != null ? \"html\" : \"text\"}\">\n      {#if message.html != null }\n        {@html message.html}\n      {:else }\n        {message.text}\n      {/if}\n    </div>\n\n      {#if message.action}\n        <div class=\"message-action\">\n          <Button on:click={event => message.action.fn(event, message)}>{message.action.text}</Button>\n        </div>\n      {/if}\n    </div>\n  {/each}\n</div>",
    "<script>\n    export let user;\n\n    import { getContext } from \"svelte\";\n    const { locale: l, trans } = getContext(\"app\");\n    export let locale = $l.myAccount;\n\n    console.log(user);\n\n    $: name = user.name || \"Unnamed\";\n\n    let clientWidth = 0;\n    $: letter = name[0] || \"\";\n\n    let narrow, wide;\n    $: narrow = clientWidth < 900;\n    $: wide = !narrow;\n\n    import CircularGraph from \"comp@CircularGraph/CircularGraph.svelte\";\n    import Arc from \"comp@CircularGraph/Arc.svelte\";\n    import Menu from \"comp@Menu/Menu.svelte\";\n    import MenuItem from \"comp@Menu/MenuItem.svelte\";\n    import LockReset from \"svelte-material-icons/LockReset.svelte\";\n    import Dialog2 from \"comp@Dialog/Dialog2.svelte\";\n    import Password from \"root@comp/Password.svelte\";\n    import Button from \"root@comp/Button.svelte\";\n    import { getNotifier } from \"root@comp/Notify/notify.js\";\n    import { put } from \"root@lib/client/client.js\";\nimport ProgressButton from \"root@comp/ProgressButton.svelte\";\n\n    const GB = (size) => (size / 1024 ** 3).toFixed(2);\n\n    let passwordDialogOpen = false;\n    let updatingPassword = false;\n    let currentPassword = \"\";\n    let newPassword = \"\";\n    let confirmPassword = \"\";\n\n    const updatePassword = async () => {\n        if (updatingPassword) return;\n        updatingPassword = true;\n        try {\n            if (newPassword.length < 6)\n                throw new Error(\"Password must have 6 characters or more\");\n            if (newPassword !== confirmPassword)\n                throw new Error(\"Passwords does not match\");\n            await put(\"/users/me\", {\n                existingPassword: currentPassword,\n                password: newPassword,\n            });\n            currentPassword = \"\";\n            newPassword = \"\";\n            confirmPassword = \"\";\n            getNotifier().add({ variant: \"normal\", text: \"Password updated\" });\n            passwordDialogOpen = false;\n        } catch (e) {\n            getNotifier().add({ variant: \"error\", text: e.message });\n        } finally {\n            updatingPassword = false;\n        }\n    };\n</script>\n\n<style>\n    x-account {\n        display: flex;\n        flex-direction: column;\n        --spacing: 1.5rem;\n        background: rgba(0, 0, 0, 0.025);\n        overflow-x: hidden;\n        overflow-y: auto;\n        height: 100%;\n    }\n\n    .bottom-space {\n        height: 7em;\n        flex: none;\n    }\n\n    .main {\n        flex: none;\n        display: flex;\n        flex-direction: row;\n        align-items: center;\n        padding: var(--spacing);\n        padding-top: calc(var(--spacing) * 2);\n    }\n\n    .main > .end {\n        font-size: 1.1em;\n        display: flex;\n        flex-direction: column;\n        margin-left: 1.5em;\n    }\n\n    .main > .end > div {\n        flex: none;\n        white-space: nowrap;\n        line-height: 1.5em;\n    }\n\n    .letter {\n        font-size: 3em;\n        text-transform: uppercase;\n        width: 2em;\n        height: 2em;\n        background: var(--pc);\n        color: #fff;\n        border-radius: 50%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        flex: none;\n    }\n\n    .cols {\n        padding: 0 calc(var(--spacing) * 0.5);\n        display: flex;\n        flex: none;\n    }\n\n    .wide .cols {\n        flex-direction: column;\n    }\n\n    .narrow .cols {\n        flex-direction: column;\n    }\n\n    .narrow .col {\n        width: 100%;\n    }\n\n    .wide .col {\n        width: 100%;\n        //width: 50%;\n    }\n\n    .col {\n        box-sizing: border-box;\n        padding: 0 calc(var(--spacing) * 0.5);\n        flex: none;\n        display: flex;\n        flex-direction: column;\n    }\n\n    .box {\n        margin: calc(var(--spacing) * 0.5) 0;\n        flex: none;\n    }\n\n    .box-title {\n        display: flex;\n        flex-direction: row;\n        align-items: center;\n    }\n\n    .box-title > .comment {\n        font-size: 0.7em;\n        color: #666;\n        margin-inline-start: 0.5em;\n    }\n\n    .col-2 {\n    }\n\n    .quota {\n    }\n    .quota-body {\n        display: flex;\n        flex-direction: row;\n        flex: none;\n    }\n\n    .quota-body > :global(svg) {\n        width: 10em;\n        height: 10em;\n    }\n\n    .quota-desc {\n        flex: none;\n        align-self: center;\n    }\n\n    .quota-desc > .percent {\n        font-size: 1.5em;\n        font-weight: 500;\n        color: var(--pc);\n        margin-bottom: 0.1em;\n    }\n\n    .quota-desc > .used {\n        font-size: 1.15em;\n        color: #333;\n    }\n\n    .quota-desc > .total {\n        font-size: 1.15em;\n        color: #666;\n    }\n\n    .password-dialog {\n        padding: 1.5rem;\n    }\n\n    .password-dialog > .field {\n        margin-bottom: 1.5rem;\n    }\n\n    .send {\n        margin-top: 1rem;\n        display: flex;\n        justify-content: flex-end;\n    }\n</style>\n\n<x-account bind:clientWidth class:narrow class:wide>\n    <div class=\"main\">\n        <div class=\"letter\">{letter}</div>\n        <div class=\"end\">\n            <div class=\"name\">{name}</div>\n            <div class=\"username\">{user.username}</div>\n            <div class=\"address\">{user.address}</div>\n        </div>\n    </div>\n    <div class=\"cols\">\n        <div class=\"col col-1\">\n            <div class=\"box common-actions\">\n                <div class=\"box-title\">{locale.commonActions.title}</div>\n                <div class=\"box-content\">\n                    <Menu>\n                        <MenuItem\n                            icon={LockReset}\n                            on:click={() => (passwordDialogOpen = true)}>\n                            {locale.commonActions.updatePassword}\n                        </MenuItem>\n                    </Menu>\n                </div>\n            </div>\n\n            <div class=\"box quota storage-quota\">\n                <div class=\"box-title\">{locale.limits.storage.title}</div>\n                <div class=\"quota-body\">\n                    <CircularGraph>\n                        <Arc start={0} end={0.99} stroke=\"rgba(0,0,0,0.075)\" />\n                        <Arc\n                            start={0}\n                            end={user.limits.quota.used / user.limits.quota.allowed}\n                            stroke=\"var(--pc)\" />\n                    </CircularGraph>\n                    <div class=\"quota-desc\">\n                        <div class=\"percent\">\n                            {Math.round((user.limits.quota.used / user.limits.quota.allowed) * 100)}%\n                        </div>\n                        <div class=\"used\">\n                            {$trans('myAccount.limits.gbUsed', {\n                                gb: GB(user.limits.quota.used),\n                            })}\n                        </div>\n                        <div class=\"total\">\n                            {$trans('myAccount.limits.gbTotal', {\n                                gb: GB(user.limits.quota.allowed),\n                            })}\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"box quota imap-download-quota\">\n                <div class=\"box-title\">\n                    {locale.limits.imapDownload.title}\n                    <span\n                        class=\"comment\">{locale.limits.imapDownload.comment}</span>\n                </div>\n                <div class=\"quota-body\">\n                    <CircularGraph>\n                        <Arc start={0} end={0.99} stroke=\"rgba(0,0,0,0.075)\" />\n                        <Arc\n                            start={0}\n                            end={user.limits.imapDownload.used / user.limits.imapDownload.allowed}\n                            stroke=\"var(--pc)\" />\n                    </CircularGraph>\n                    <div class=\"quota-desc\">\n                        <div class=\"percent\">\n                            {Math.round((user.limits.imapDownload.used / user.limits.imapDownload.allowed) * 100)}%\n                        </div>\n                        <div class=\"used\">\n                            {$trans('myAccount.limits.gbUsed', {\n                                gb: GB(user.limits.imapDownload.used),\n                            })}\n                        </div>\n                        <div class=\"total\">\n                            {$trans('myAccount.limits.gbTotal', {\n                                gb: GB(user.limits.imapDownload.allowed),\n                            })}\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"box quota imap-upload-quota\">\n                <div class=\"box-title\">\n                    {locale.limits.imapUpload.title}\n                    <span\n                        class=\"comment\">{locale.limits.imapUpload.comment}</span>\n                </div>\n                <div class=\"quota-body\">\n                    <CircularGraph>\n                        <Arc start={0} end={0.99} stroke=\"rgba(0,0,0,0.075)\" />\n                        <Arc\n                            start={0}\n                            end={user.limits.imapUpload.used / user.limits.imapUpload.allowed}\n                            stroke=\"var(--pc)\" />\n                    </CircularGraph>\n                    <div class=\"quota-desc\">\n                        <div class=\"percent\">\n                            {Math.round((user.limits.imapUpload.used / user.limits.imapUpload.allowed) * 100)}%\n                        </div>\n                        <div class=\"used\">\n                            {$trans('myAccount.limits.gbUsed', {\n                                gb: GB(user.limits.imapUpload.used),\n                            })}\n                        </div>\n                        <div class=\"total\">\n                            {$trans('myAccount.limits.gbTotal', {\n                                gb: GB(user.limits.imapUpload.allowed),\n                            })}\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"box quota pop3-download-quota\">\n                <div class=\"box-title\">\n                    {locale.limits.pop3Download.title}\n                    <span\n                        class=\"comment\">{locale.limits.pop3Download.comment}</span>\n                </div>\n                <div class=\"quota-body\">\n                    <CircularGraph>\n                        <Arc start={0} end={0.99} stroke=\"rgba(0,0,0,0.075)\" />\n                        <Arc\n                            start={0}\n                            end={user.limits.pop3Download.used / user.limits.pop3Download.allowed}\n                            stroke=\"var(--pc)\" />\n                    </CircularGraph>\n                    <div class=\"quota-desc\">\n                        <div class=\"percent\">\n                            {Math.round((user.limits.pop3Download.used / user.limits.pop3Download.allowed) * 100)}%\n                        </div>\n                        <div class=\"used\">\n                            {$trans('myAccount.limits.gbUsed', {\n                                gb: GB(user.limits.pop3Download.used),\n                            })}\n                        </div>\n                        <div class=\"total\">\n                            {$trans('myAccount.limits.gbTotal', {\n                                gb: GB(user.limits.pop3Download.allowed),\n                            })}\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"box quota received-quota\">\n                <div class=\"box-title\">\n                    {locale.limits.received.title}\n                    <span\n                        class=\"comment\">{locale.limits.received.comment}</span>\n                </div>\n                <div class=\"quota-body\">\n                    <CircularGraph>\n                        <Arc start={0} end={0.99} stroke=\"rgba(0,0,0,0.075)\" />\n                        <Arc\n                            start={0}\n                            end={user.limits.received.used / user.limits.received.allowed}\n                            stroke=\"var(--pc)\" />\n                    </CircularGraph>\n                    <div class=\"quota-desc\">\n                        <div class=\"percent\">\n                            {Math.round((user.limits.received.used / user.limits.received.allowed) * 100)}%\n                        </div>\n                        <div class=\"used\">\n                            {$trans('myAccount.limits.messagesUsed', {\n                                n: user.limits.received.used,\n                            })}\n                        </div>\n                        <div class=\"total\">\n                            {$trans('myAccount.limits.messagesTotal', {\n                                n: user.limits.received.allowed,\n                            })}\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"box quota recipients-quota\">\n                <div class=\"box-title\">\n                    {locale.limits.recipients.title}\n                    <span\n                        class=\"comment\">{locale.limits.recipients.comment}</span>\n                </div>\n                <div class=\"quota-body\">\n                    <CircularGraph>\n                        <Arc start={0} end={0.99} stroke=\"rgba(0,0,0,0.075)\" />\n                        <Arc\n                            start={0}\n                            end={user.limits.recipients.used / user.limits.recipients.allowed}\n                            stroke=\"var(--pc)\" />\n                    </CircularGraph>\n                    <div class=\"quota-desc\">\n                        <div class=\"percent\">\n                            {Math.round((user.limits.recipients.used / user.limits.recipients.allowed) * 100)}%\n                        </div>\n                        <div class=\"used\">\n                            {$trans('myAccount.limits.messagesUsed', {\n                                n: user.limits.recipients.used,\n                            })}\n                        </div>\n                        <div class=\"total\">\n                            {$trans('myAccount.limits.messagesTotal', {\n                                n: user.limits.recipients.allowed,\n                            })}\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"box quota forwards-quota\">\n                <div class=\"box-title\">\n                    {locale.limits.forwards.title}\n                    <span\n                        class=\"comment\">{locale.limits.forwards.comment}</span>\n                </div>\n                <div class=\"quota-body\">\n                    <CircularGraph>\n                        <Arc start={0} end={0.99} stroke=\"rgba(0,0,0,0.075)\" />\n                        <Arc\n                            start={0}\n                            end={user.limits.forwards.used / user.limits.forwards.allowed}\n                            stroke=\"var(--pc)\" />\n                    </CircularGraph>\n                    <div class=\"quota-desc\">\n                        <div class=\"used\">\n                            {$trans('myAccount.limits.messagesUsed', {\n                                n: user.limits.forwards.used,\n                            })}\n                        </div>\n                        <div class=\"total\">\n                            {$trans('myAccount.limits.messagesTotal', {\n                                n: user.limits.forwards.allowed,\n                            })}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"bottom-space\" />\n</x-account>\n\n{#if passwordDialogOpen}\n    <Dialog2\n        bind:open={passwordDialogOpen}\n        title={locale.commonActions.updatePassword}>\n        <form class=\"password-dialog\" on:submit|preventDefault={updatePassword}>\n            <div class=\"field\">\n                <Password\n                    label={locale.commonActions.currentPassword}\n                    bind:value={currentPassword} />\n            </div>\n            <div class=\"field\">\n                <Password\n                    label={locale.commonActions.newPassword}\n                    bind:value={newPassword} />\n            </div>\n            <div class=\"field\">\n                <Password\n                    label={locale.commonActions.confirmPassword}\n                    bind:value={confirmPassword} />\n            </div>\n\n            <div class=\"send\">\n                <ProgressButton color=\"#4273e8\" progress={{size: \"1.5em\"}} raised inprogress={updatingPassword}>\n                    <span style=\"text-transform: none; font-size:1.1em\">{locale.commonActions.updatePassword}</span>\n                </ProgressButton>\n            </div>\n        </form>\n    </Dialog2>\n{/if}\n",
    "<style>\n  x-actionbar {\n    flex: none;\n    position: relative;\n    padding: 0.25em 1em 0 1em;\n    height: 2.75em;\n    border-bottom: rgba(0,0,0,0.1) 1px solid;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    z-index: 10;\n    transition: box-shadow 200ms ease;\n  }  \n\n  x-actionbar.scrolled {\n    box-shadow: rgba(0,0,0,0.3) 0 0.35em 0.15em -0.2em; \n  }\n\n  x-actionbar :global(x-action-group) {\n    display: flex;\n    flex: none;\n    flex-direction: row;\n    margin-inline-end: 0.75em;\n  }\n\n  x-actionbar :global(x-action-group:empty) {\n    display: none;\n  }\n\n  x-actionbar :global(x-action),\n  x-actionbar :global(.x-action) {\n    position: relative;\n    flex: none;\n    width: 2em;\n    height: 2em;\n    border-radius: 50%;\n    font-size: 1.4em;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    user-select: none;\n    transition: color 200ms ease;\n    color: #333;\n  }\n\n  x-actionbar :global(x-action:hover),\n  x-actionbar :global(.x-action:hover){\n    color: #111;\n  }\n \n  /*\n  @media screen and (max-width: 768px) {\n    x-actionbar > :global(x-action-group:first-child > x-action:first-child:before),\n    x-actionbar > :global(x-action-group:first-child > .x-action:first-child:before) {\n      left: 0;\n      transform: translate(0, -100%);\n    }\n\n    x-actionbar:dir(rtl) > :global(x-action-group:first-child > x-action:first-child:before),\n    x-actionbar:dir(rtl) > :global(x-action-group:first-child > .x-action:first-child:before) {\n      right: 0;\n      left: auto;\n      transform: translate(0, -100%);\n    }\n  }\n  */\n</style>\n\n<script>\n  export let scrolled = false;\n</script>\n\n<x-actionbar class:scrolled>\n  <slot />\n</x-actionbar>",
    "<style>\n    .filters {\n        margin: 2em 3em;\n    }\n\n    p {\n        margin-left: 0.5em;\n    }\n</style>\n\n<script>\n    export let user;\n    export let filters;\n\n    import {getContext} from \"svelte\";\n    const {locale: l} = getContext(\"app\");\n    export let locale = $l;\n</script>\n\n<svelte:head>\n    <title>{locale.filters.title}</title>\n</svelte:head>\n\n<div class=\"filters\">\n    <h1>{locale.filters.title}</h1>\n    <p>{locale.filters.commingSoon}</p>\n</div>",
    "<script>\n  import {getContext, setContext, onMount} from \"svelte\";\n  import {fade} from \"svelte/transition\";\n\n  import {writable} from \"../../../lib/store\";\n\n  import Item from \"./MailboxMessage.svelte\";\n  import Tab from \"../Main.svelte\";\n  import Topbar from \"../ActionBar.svelte\";\n\n  //import EmptyFolder from \"svelte-material-icons/FolderOpenOutline.svelte\";\n\n  import Refresh from \"svelte-material-icons/Refresh.svelte\";\n  import Delete from \"svelte-material-icons/DeleteOutline.svelte\";\n  import MarkUnSeen from \"svelte-material-icons/EmailOutline.svelte\";\n  import MarkSeen from \"svelte-material-icons/EmailOpenOutline.svelte\";\n  import MarkSpam from \"svelte-material-icons/AlertDecagramOutline.svelte\";\n  import UnMarkSpam from \"svelte-material-icons/EmailCheckOutline.svelte\";\n  import CheckAll from \"svelte-material-icons/CheckboxMarked.svelte\";\n  import CheckNone from \"svelte-material-icons/CheckboxBlankOutline.svelte\";\n  import CheckSome from \"svelte-material-icons/CheckboxIntermediate.svelte\";\n\n  import CheckCircle from \"svelte-material-icons/CheckCircle.svelte\";\n  import Check from \"svelte-material-icons/Check.svelte\";\n\n  import More from \"svelte-material-icons/Plus.svelte\";\n  import CircularProgress from \"../../CircularProgress.svelte\";\n\n  import {Ripple} from \"svelte-mui\";\n  import MoveTo from \"../MoveTo.svelte\";\n\n  export let mailbox;\n  export let messages;\n  export let next;\n  export let prev;\n  export let selection;\n  export let scroll;\n\n  setContext(\"mailbox-selection\", selection);\n\n  import {junk, trash, drafts, sent} from \"../../../lib/client/mailboxes\";\n  import * as mess from \"../../../lib/client/messages\";\n\n  let isJunk, isTrash, isDraft, isSent;\n  $: isJunk = mailbox === junk;\n  $: isTrash = mailbox === trash;\n  $: isDraft = mailbox === drafts;\n  $: isSent = mailbox === sent;\n\n  const handleSelection = () => {\n    selection.update($sel => {\n      if($selection.length !== $messages.length) {\n        return $messages.slice();\n      } else {\n        return [];\n      }\n    })\n  }\n\n  const onSelectionMoved = () => {\n    const selected = selection.get();\n    messages.update(ms => ms.filter(m => !selected.includes(m)));\n    selection.clear();\n    if(messages.get().length < 10) {\n      loadMore();\n    }\n  } \n  \n\n  const updateSeen = async (seen) => {\n    if($selection.length) {\n      $selection.forEach(m => m.update(m => ({...m, seen})))\n      selection.invalidate();\n      await mess.updateSeen($mailbox.id, $selection.map(i => i.get().id), seen)\n    }\n  }\n\n  const markAsSpam = async (value) => {\n    mess.markAsSpam($mailbox.id, $selection.map(i => i.get().id), value);\n    onSelectionMoved();\n  }\n\n  const del = async () => {\n    mess.del($mailbox.id, $selection.map(i => i.get().id));\n    onSelectionMoved();\n  }\n\n  import {list} from \"lib@client/messages.js\";\n  \n  let reloading = false;\n  let reloadTimes = 0;\n  const reload = async () => {\n    if (reloading)\n      return;\n    reloadTimes++;\n    reloading = true;\n    const json = await list($mailbox.id);\n    messages.set(json.messages.map(m => writable(m)))\n    prev.set(json.prev);\n    next.set(json.next);\n    selection.clear();\n    reloading = false;\n  }\n\n  let loadingMore = false;\n  const loadMore = async () => {\n    if ( !$next )\n      return;\n    \n    loadingMore = true;\n    const res = await mess.next($mailbox.id, $next);\n    messages.update(m => [...m, ...res.messages.map(m => writable(m))])\n    next.set(res.next);\n    prev.set(res.prev);\n    loadingMore = false;\n  }\n\n  const flyInsert = (node, params) => {\n    node.classList.add(\"removed\");\n    node.style.zIndex = \"1\";\n    setTimeout(() => node.classList.remove(\"removed\"), 1);\n    setTimeout(() => node.style.zIndex = null, 150)\n    return {duration: 150}\n  }\n\n  const flyRemove = (node) => {\n    node.classList.add(\"removed\");\n    return {duration: 150}\n  }\n\n  const {locale: l, trans} = getContext(\"app\");\n  export let locale = $l;\n\n  import {mailboxMeta} from \"../../../lib/util\";\n\n  let meta;\n  $: meta = mailboxMeta($mailbox, locale.mailbox.title);\n\n  // shell: You can use this from chrome console\n  const shell = {\n    matchKeys: [ \"from\", \"subject\", \"intro\" ],\n    sleep: (ms) => new Promise(resolve => setTimeout(resolve, ms)),\n    loadMore: async (n = 1) => {\n      for(let i = 0; i < n; i++) {\n        console.log(`loading page ${i + 1}`);\n        await loadMore();\n        await shell.sleep(250);\n      }\n    },\n    select: (query) => {\n      console.log(selection);\n      let count = 0;\n      for(const message of $messages) {\n        if(matchMessage(query, message.get())) {\n          count++;\n          selection.add(message);\n        }\n      }\n      console.log(`selected ${count} messages`);\n    }   \n  }\n\n  const matchMessage = (query, message) => {\n    console.log(query, message, false);\n  \n    if(query.from) {\n      if(query.from instanceof RegExp) {\n        if(query.from.test(message.from.address || \"\") || query.from.test(message.from.name || \"\")) {\n          return true;\n        }\n      } else if((message.from.address || \"\").includes(query.from) || (message.from.name || \"\").includes(query.from)) {\n        return true;\n      }\n    }\n\n    if(query.subject) {\n      if(query.subject instanceof RegExp) {\n        if(query.subject.test(message.subject)) {\n          return true;\n        }\n      } else if(message.subject.includes(query.subject)) {\n        return true;\n      }\n    }\n\n    if(query.intro) {\n      if(query.intro instanceof RegExp) {\n        if(query.intro.test(message.intro)) {\n          return true;\n        }\n      } else if(message.intro.includes(query.intro)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  onMount(() => {\n    window.mailbox = shell;\n    return () => {\n      if(window.mailbox === shell) window.mailbox = null;\n    }\n  })\n\n  console.log($messages);\n</script>\n\n<style>\n  x-tab-content {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    overflow: auto;\n    padding-bottom: 3em;\n  }\n\n  x-mailbox-empty {\n    flex: none;\n    margin: 2em auto;\n    text-align: center;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    color: #333;\n    font-size: 1.1em;\n  }\n\n  .label {\n    font-weight: 500;\n    margin-top: 1em;\n  }\n\n  .select {\n    margin-inline-start: -0.15em;\n  }\n\n  .only-when-selection {\n    flex: 1;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n  }\n\n  x-selection-info {\n    display: flex;\n    flex: none;\n    flex-direction: row-reverse;\n    align-items: center;\n    margin-inline-start: auto;\n    background: #c2dbff;\n    padding: 0.4em 0.5em;\n    border-radius: 100px;\n    color: #555;\n  }\n\n  x-selection-info > :global(svg) {\n    font-size: 1.1em;\n  }\n\n  x-selection-info > span {\n    font-size: 0.8em;\n    margin: 0 0.5em;\n  }\n\n  x-loadmore {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: var(--pc);\n    padding: 0.5em;\n    font-size: 2.5em;\n    min-height: auto;\n  }\n\n  x-loadmore-loading,\n  x-loadmore-button {\n    display: flex;\n    flex: none;\n    width: 1em;\n    height: 1em;\n    align-items: center;\n    justify-content: center;\n  }\n\n  x-loadmore-button {\n    cursor: pointer;\n    border-radius: 50%;\n  }\n\n  x-mailbox-message {\n    position: relative;\n    z-index: 2;\n    display: flex;\n    flex-direction: column;\n    flex: none;\n    justify-items: stretch;\n    align-items: stretch;\n    background: #fff;\n    transition: opacity 150ms ease, margin 150ms ease;\n  }\n\n  x-tab-content > :global(.removed) {\n    z-index: 1;\n    margin-block-end: -3.0625rem;\n    opacity: 0;\n  }\n</style>\n\n<svelte:head>\n  <title>{$mailbox.unseen ? `(${$mailbox.unseen}) ` : \"\"}{meta.label}</title>\n</svelte:head>\n\n<Tab>\n  <Topbar scrolled={$scroll !== 0}>\n    <x-action-group class=\"select\">\n      <x-action\n        class=\"btn-dark\"\n        data-tooltip={locale.actions.select}\n        on:click={handleSelection}\n      >\n        <Ripple />\n        {#if $selection.length === 0}\n          <CheckNone />\n        {:else if $selection.length === $messages.length}\n          <CheckAll />\n        {:else}\n          <CheckSome />\n        {/if}\n      </x-action>\n\n      <x-action\n        class=\"btn-dark reload\"\n        data-tooltip={locale.actions.reload}\n        on:click={reload}\n      >\n        <div\n          style=\"display: flex; transition: transform 300ms ease; transform: rotate({360 *\n            reloadTimes}deg)\"\n        >\n          <Refresh />\n        </div>\n        <Ripple />\n      </x-action>\n    </x-action-group>\n\n    {#if $selection.length !== 0}\n      <div\n        class=\"only-when-selection\"\n        transition:fade|local={{ duration: 150 }}\n      >\n        <x-action-group>\n          {#if $selection.every((m) => !m.get().seen)}\n            <x-action\n              class=\"btn-dark\"\n              data-tooltip={locale.actions.markAsRead}\n              on:click={() => updateSeen(true)}\n            >\n              <MarkSeen />\n              <Ripple />\n            </x-action>\n          {:else}\n            <x-action\n              class=\"btn-dark\"\n              data-tooltip={locale.actions.markAsUnread}\n              on:click={() => updateSeen(false)}\n            >\n              <MarkUnSeen />\n              <Ripple />\n            </x-action>\n          {/if}\n\n          {#if isJunk}\n            <x-action\n              class=\"btn-dark\"\n              data-tooltip={locale.actions.unMarkAsSpam}\n              on:click={() => markAsSpam(false)}\n            >\n              <UnMarkSpam />\n              <Ripple />\n            </x-action>\n          {:else if !isDraft && !isSent && !isTrash}\n            <x-action\n              class=\"btn-dark\"\n              data-tooltip={locale.actions.markAsSpam}\n              on:click={() => markAsSpam(true)}\n            >\n              <MarkSpam />\n              <Ripple />\n            </x-action>\n          {/if}\n\n          <x-action\n            class=\"btn-dark\"\n            data-tooltip={isTrash\n              ? locale.actions.deletePermanently\n              : isDraft\n              ? locale.actions.discardDrafts\n              : locale.actions.delete}\n            on:click={() => del()}\n          >\n            <Delete />\n            <Ripple />\n          </x-action>\n        </x-action-group>\n\n        <x-action-group>\n          <MoveTo {mailbox} {selection} on:moved={onSelectionMoved} />\n        </x-action-group>\n\n        <x-selection-info>\n          <Check />\n          <span>{$trans(\"selection.title\", { n: $selection.length })}</span>\n        </x-selection-info>\n      </div>\n    {/if}\n  </Topbar>\n\n  <x-tab-content on:scroll={(event) => ($scroll = event.target.scrollTop)}>\n    {#each $messages as message (`${$mailbox.id}-${message.get().id}`)}\n      <x-mailbox-message\n        out:flyRemove|local={{}}\n        in:flyInsert|local={{ duration: 150 }}\n      >\n        <Item {message} {mailbox} />\n      </x-mailbox-message>\n    {:else}\n      {#if !loadingMore}\n        <x-mailbox-empty>\n          <span class=\"label\">{locale.mailbox.empty}</span>\n        </x-mailbox-empty>\n      {/if}\n    {/each}\n\n    {#if loadingMore || $next}\n      <x-loadmore>\n        {#if loadingMore}\n          <x-loadmore-loading in:fade|local={{ delay: 150, duration: 150 }}>\n            <CircularProgress size=\"0.75em\" />\n          </x-loadmore-loading>\n        {:else if $next}\n          <x-loadmore-button\n            in:fade|local={{ delay: 150, duration: 150 }}\n            class=\"btn-dark\"\n            on:click={loadMore}\n          >\n            <More />\n            <Ripple />\n          </x-loadmore-button>\n        {/if}\n      </x-loadmore>\n    {/if}\n  </x-tab-content>\n</Tab>\n",
    "<style>\n  .message {\n    font: inherit;\n    text-decoration: none;\n    flex: none;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    border-top:#d8dcdf 1px solid;\n    padding: 0.25em 1em;\n  }\n\n  .show-hover {\n    display: none !important;\n  }\n\n  .message:hover .show-hover {\n    display: flex !important;\n  }\n\n  .message:hover .hide-hover {\n    display: none;\n  }\n\n\n\n  .message:last-of-type {\n    border-bottom: #d8dcdf 1px solid;\n  }\n  \n  .message:last-of-type.selected {\n    border-bottom-color: #a5bad9;\n  }\n\n  .message:first-child {\n    border-top: none;\n  }\n  \n  .selected {\n    background-color: #c2dbff;\n    border-bottom-color: #a5bad9; \n    border-top-color: #a5bad9; \n  }\n\n  .selected + .message {\n    border-top-color: #a5bad9;\n  }\n\n  x-cell {\n    flex: 1;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n\n  .icon {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex: none;\n    width: 2em;\n    height: 2em;\n    font-size: 1.25em;\n    cursor: pointer;\n    border-radius: 50%;\n    transition: color 200ms ease;\n  }\n\n  .icon > :global(svg) {\n    position: absolute;\n  }\n\n  .flagged {\n    color: #e3c066;\n  }\n  \n  .from {\n    padding: 0 1em;\n    flex: 2;\n  }\n\n  .subject-intro {\n    flex: 6;\n  }\n\n  .intro {\n    opacity: 0.5;\n    margin-inline-start: 0.5em;\n  }\n\n  .date {\n    text-align: end;\n    opacity: 0.5;\n    /*text-transform: capitalize;*/\n    flex: none;\n    margin-inline-start: 1em;\n    font-size: 0.8em;\n  }\n\n  .unseen {\n    font-weight: 700;\n  }\n\n  .from-subject-date {\n    flex: 1;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n  }\n\n  @media screen and (max-width: 700px) {\n\n    .message {\n      padding-inline-start: 0.45em;\n    }\n\n    .cell-selected {\n      margin-inline-end: -0.45em;\n    }\n\n    .from-subject-date {\n      flex-direction: column;\n      overflow: hidden;\n      margin-inline-start: 0.5em;\n      padding-top: 0.25em;\n      padding-bottom: 0.25em;\n    }\n\n   .from-subject-date > x-cell{\n      padding: 0;\n    }\n\n    .from-subject-date > x-cell + x-cell{\n      margin-top: 0.35em;\n    }\n\n    .from {\n      align-self: flex-start;\n      margin: 0;\n    }\n\n    .subject-intro {\n      align-self: flex-start;\n      flex: none;\n      width: 100%;\n    }\n\n    .date {\n      align-self: flex-start;\n      margin: 0;\n    }\n  }\n</style>\n\n<script>\n  import {writable} from \"lib@store.js\";\n  import {slide, fly} from \"svelte/transition\";\n\n  import UnFlagged from \"svelte-material-icons/StarOutline.svelte\";\n  import Flagged from \"svelte-material-icons/Star.svelte\";\n\n  import On from \"svelte-material-icons/CheckboxBlankOutline.svelte\";\n  import Off from \"svelte-material-icons/CheckboxMarked.svelte\";\n\n  import {Ripple} from \"svelte-mui\";\n\n  import {getContext, onDestroy} from \"svelte\";\n  const selection = getContext(\"mailbox-selection\");\n  const {isSelected, add, remove, toggle} = selection;\n\n  import {create} from \"comp@Compose/compose.js\";\n\n  import {drafts, sent} from \"lib@client/mailboxes.js\";\n  import * as mess from \"lib@client/messages.js\";\n\n  export let message;\n  export let mailbox;\n\n  let isDraft, isSent, selected;\n  $: isDraft = mailbox === drafts;\n  $: isSent = mailbox === sent;\n  $: selected = $isSelected(message);\n\n  const flag = e => {\n    mess.flag($mailbox.id, [$message.id], !$message.flagged);\n    message.update(m => ({...m, flagged: !m.flagged}))\n  }\n\n  let unsub;\n\n  const click = async e => {\n    if (isDraft) {\n      e.preventDefault();\n      if ( !$message.seen ) {\n        //mess.updateSeen($mailbox.id, [$message.id], true)\n        message.update(m => ({...m, seen: true}));\n      }\n      \n      const $draft = await mess.getDraft($message.id);\n      const draft = writable($draft);\n      unsub = draft.subscribe(d => {\n        message.update(m => ({...m, ...d}))\n      })\n      \n      create(draft)\n    }\n  }\n\n  onDestroy(() => unsub && unsub())\n\n  import {date} from \"lib@formatter.js\";\n\n  const {locale: l} = getContext(\"app\");\n  export let locale = $l;\n</script>\n\n<a href=\"#!/mailbox/{$mailbox.id}/message/{$message.id}\" class=\"na message\" class:selected class:unseen={!$message.seen} on:click={click}>\n  <x-cell class=\"btn-dark icon cell-selected\" on:click|preventDefault|stopPropagation={() => toggle(message)}>\n    {#if selected}\n      <Off />\n    {:else}\n      <On />\n    {/if}\n    <Ripple />\n  </x-cell>\n\n\n  <x-cell class=\"btn-dark icon\" class:flagged={$message.flagged} on:click|preventDefault|stopPropagation={flag}>\n    {#if $message.flagged}\n      <Flagged />\n    {:else}\n      <UnFlagged />\n    {/if}\n    <Ripple />\n  </x-cell>\n\n  <x-cell-group class=\"from-subject-date\">\n    <x-cell class=\"from\">\n      {#if isSent || isDraft}\n        <span class=\"for\">{locale.mailboxMessage.to} </span>{($message.to || []).map(to => to.name || to.address).filter(Boolean).join(\", \")}\n      {:else}\n        {$message.from.name || $message.from.address || \"\"}\n      {/if}\n    </x-cell>\n\n\n    <x-cell class=\"subject-intro\">\n      <span class=\"subject\">{$message.subject || \"\"}</span>\n      <span class=\"intro\">{$message.intro || \"\"}</span>\n    </x-cell>\n\n\n    <x-cell class=\"date\">\n      {$message.date && date($message.date, locale)}\n    </x-cell>\n  </x-cell-group>\n</a>",
    "<style>\n  x-tab {\n    display: flex;\n    flex-direction: column;\n    flex: 1;\n    background: #fff;\n  }\n</style>\n\n<x-tab>\n  <slot/>\n</x-tab>",
    "<style>\n  x-tab-content {\n    position: relative;\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    overflow: auto;\n    padding: 2em 3em;\n  }\n\n  x-message-title {\n    font-size: 1.5em;\n    font-weight: 600;\n    min-height: auto;\n    word-break: break-word;\n  }\n\n  x-message-content {\n    margin-top: 3em;\n    min-height: auto;\n    margin-bottom: 2em;\n  }\n\n  x-message-content :global(a) {\n    color: blue;\n    text-decoration: underline;\n  }\n\n  x-message-content :global(a:visited) {\n    color: blueviolet;\n  }\n  \n  x-message-info {\n    flex: none;\n    display: flex;\n    flex-direction: column;\n    margin-top: 2em;\n  }\n\n  x-message-from, x-message-to, x-message-date {\n    padding: 0.25em 0;\n  }\n\n  x-message-content {\n    flex-grow: 1;\n  }\n\n  .from-main{\n    font-weight: 600;\n  }\n  \n</style>\n\n<script>\n  import {writable} from \"../../../lib/store\";\n  import {getContext} from \"svelte\";\n\n  import Tab from \"../Main.svelte\";\n  import Topbar from \"../ActionBar.svelte\";\n  //import Content from \"/comp/Tab/Content.svelte\";\n\n  import Delete from \"svelte-material-icons/DeleteOutline.svelte\";\n  import MarkUnseen from \"svelte-material-icons/EmailOutline.svelte\";\n  //import MarkSeen from \"svelte-material-icons/EmailOpenOutline.svelte\";\n  //import MarkUnseen from \"svelte-material-icons/EmailMultipleOutline.svelte\";\n  //import MarkUnseen from \"svelte-material-icons/EmailMarkAsUnread.svelte\";\n  import MarkSeen from \"svelte-material-icons/EmailOpenOutline.svelte\";\n  import MarkSpam from \"svelte-material-icons/AlertDecagramOutline.svelte\";\n  import UnMarkSpam from \"svelte-material-icons/EmailCheckOutline.svelte\";\n  import Resend from \"svelte-material-icons/EmailSendOutline.svelte\";\n  import Reply from \"svelte-material-icons/EmailReceiveOutline.svelte\";\n  import GoBack from \"svelte-material-icons/ArrowLeft.svelte\";\n\n  import {Ripple} from \"svelte-mui\";\n\n  import {sanitize} from \"../../../lib/sanitize\";\n\n  import {create} from \"../../Compose/compose\";\n  \n  export let mailbox;\n  export let message;\n  export let scroll;\n\n  const handleScroll = e => scroll.set(e.target.scrollTop);\n\n  import * as messages from \"../../../lib/client/messages\"\n  import * as mailboxes from \"../../../lib/client/mailboxes\"\n\n  let isJunk = mailboxes.junk === mailbox;\n  let isTrash = mailboxes.trash === mailbox;\n  let isDraft = mailboxes.drafts === mailbox;\n  let isSent = mailboxes.sent === mailbox;\n\n  const onetime = fn => {\n    let updating = false;\n    return async () => {\n      if (updating) return;\n      updating = true;\n      try {\n        await fn();\n      } catch(e) {\n        throw e;\n      } finally {\n        updating = false;\n      }\n    }\n  }\n\n  const seen = onetime(async () => {\n    await messages.updateSeen($mailbox.id, [$message.id], !$message.seen);\n    message.update(m => ({...m, seen: !m.seen}))\n  })\n\n  const spam = onetime(async () => {\n    await messages.markAsSpam($mailbox.id, [$message.id], !isJunk);\n    location.hash = `#!/mailbox/${$mailbox.id}`;\n  })\n\n  const del = onetime(async () => {\n    await messages.del($mailbox.id, [$message.id]);\n    location.hash = `#!/mailbox/${$mailbox.id}`;\n  })\n\n  const reply = onetime(async () => {\n    const $draft = await messages.createReply($mailbox.id, $message.id);\n    create(writable($draft));\n  })\n\n  const forward = onetime(async () => {\n    const $draft = await messages.createForward($mailbox.id, $message.id);\n    create(writable($draft));\n  })\n\n  import MoveTo from \"../MoveTo.svelte\";\n  const gotoBox = () => setTimeout((() => location.hash = `#!/mailbox/${$mailbox.id}`), 250);\n\n  import Attachments from \"comp@Attachments/Attachments.svelte\";\n\n  const {locale: l} = getContext(\"app\");\n  export let locale = $l;\n</script>\n\n<svelte:head>\n  <title>{$message.subject}</title>\n</svelte:head>\n\n<Tab>\n  <Topbar scrolled={$scroll !== 0}>\n    <x-action-group>\n      <a class=\"x-action btn-dark\" href=\"#!/mailbox/{$mailbox.id}\" data-tooltip={locale.actions.backToMailbox}>\n        <GoBack />\n        <Ripple />\n      </a>\n    </x-action-group>\n\n    <x-action-group>\n      <x-action \n        class=\"btn-dark\"\n        data-tooltip={$message.seen ? locale.actions.markAsUnread : locale.actions.markAsRead}\n        on:click={seen}\n      >\n        <Ripple />\n        {#if $message.seen}\n          <MarkUnseen />\n        {:else}\n          <MarkSeen />\n        {/if}\n      </x-action>\n\n      {#if isJunk}\n        <x-action class=\"btn-dark\" data-tooltip={locale.actions.unMarkAsSpam} on:click={spam}>\n          <UnMarkSpam />\n          <Ripple />\n        </x-action>\n      {:else if !isDraft && !isSent && !isTrash}\n        <x-action class=\"btn-dark\" data-tooltip={locale.actions.markAsSpam} on:click={spam}>\n          <MarkSpam />\n          <Ripple />\n        </x-action>\n      {/if}\n\n      <x-action class=\"btn-dark\" data-tooltip={\n          isTrash ? locale.actions.deletePermanently :\n          isDraft ? locale.actions.discardDrafts :\n          locale.actions.delete\n      } on:click={del}>\n        <Delete />\n        <Ripple />\n      </x-action>\n    </x-action-group>\n\n    <x-action-group>\n      <x-action class=\"btn-dark\" data-tooltip={locale.actions.forward} on:click={forward}>\n        <Resend />\n        <Ripple />\n      </x-action>\n\n      {#if !isDraft && !isSent}\n        <x-action class=\"btn-dark\" data-tooltip={locale.actions.reply} on:click={reply}>\n          <Reply />\n          <Ripple />\n        </x-action>\n      {/if}\n    </x-action-group>\n\n    <x-action-group>\n      <MoveTo {mailbox} selection={writable([message])} on:moved={gotoBox} tooltip={locale.actions.moveTo} />\n    </x-action-group>\n\n    {#if $message.attachments && $message.attachments.length}\n      <x-action-group>\n        <Attachments {mailbox} {message} attachments={$message.attachments} tooltip={locale.actions.attachments} />\n      </x-action-group>\n    {/if}\n  </Topbar>\n\n  <x-tab-content on:scroll={handleScroll}>\n    <x-message-title>{$message.subject}</x-message-title>\n    <x-message-info>\n\n      {#if $message.from}\n        <x-message-from>       \n          {#if $message.from.name}\n            {locale.message.labels.from}\n            <span class=\"from-main\">{$message.from.name}</span>\n            {\"<\"}{$message.from.address}{\">\"}\n          {:else}\n            {locale.message.labels.from}\n            <span class=\"from-main\">\n              {$message.from.address} \n            </span>\n          {/if}\n        </x-message-from>\n      {/if}\n      \n      {#if $message.to}\n        <x-message-to>\n          {locale.message.labels.to} {$message.to.map(to => {\n              return `<${to.address}>`\n            }).join(\", \")}\n        </x-message-to>\n      {/if}\n      \n      {#if $message.date}\n        <x-message-date>\n          {locale.message.labels.date} {new Date($message.date).toLocaleString()}\n        </x-message-date>\n      {/if}\n    </x-message-info>\n\n    <x-message-content>\n      {#if $message.html && $message.html.length}\n        {@html sanitize($message.html.join(\"\"))}\n      {:else if $message.text && $message.text.trim()}\n        <pre>{$message.text}</pre>\n      {/if}\n    </x-message-content>\n\n  </x-tab-content>\n</Tab>",
    "<style>\n  .anchor {\n    position: absolute;\n    left: 0;\n    bottom: 0;\n    font-size: 1rem;\n  }\n</style>\n\n<script>\n  export let mailbox; // Writable<Mailbox>\n  export let selection; // Writable<Writable<Message>[]>\n  \n  import {createEventDispatcher} from \"svelte\";\n  const dispatch = createEventDispatcher();\n\n  import {mailboxMeta} from \"lib@util.js\";\n  import {inbox, trash, junk, sent, drafts, others} from \"lib@client/mailboxes.js\";\n  import {moveTo} from \"lib@client/messages.js\";\n  import MoveTo from \"svelte-material-icons/FolderMoveOutline.svelte\";\n\n  import {getContext} from \"svelte\";\n  const {locale: l} = getContext(\"app\");\n  export let locale = $l;\n\n  let folders = [];\n  $: {\n    if(mailbox === inbox) {\n      folders = [\n        ...$others,\n        junk,\n        trash,\n      ].filter(m => m && !!m.get())\n    } else if (mailbox === trash || mailbox === junk) {\n      folders = [\n        inbox,\n        ...$others,\n        mailbox !== trash && trash,\n        mailbox !== junk && junk\n      ].filter(m => m && !!m.get())\n    } else if ($others.includes(mailbox)) {\n      folders = [\n        inbox,\n        ...$others.filter(m => m !== mailbox)\n      ].filter(m => m && !!m.get())\n    } else {\n      folders = [];\n    }\n  }\n\n  let metas, ids;\n  $: metas = folders.map(f => mailboxMeta(f.get(), $l.mailbox.title));\n  $: ids = $selection.map(m => m.get().id);\n\n  const to = (to) => {\n    moveTo(mailbox.get().id, ids, to.get().id);\n    dispatch(\"moved\", {to, messages: $selection})\n  }\n\n  export let menuOpen = false;\n\n  import {Ripple} from \"svelte-mui\";\n  import Popup from \"comp@Popup.svelte\";\n  import Menu from \"comp@Menu/Menu.svelte\";\n  import MenuItem from \"comp@Menu/MenuItem.svelte\";\n\n  const toggle = () => menuOpen = !menuOpen;\n</script>\n\n{#if folders.length}\n  <x-action class=\"btn-dark\" class:hover={menuOpen} on:click={toggle} data-tooltip={locale.actions.moveTo}>\n    <MoveTo/>\n    <div class=\"anchor\">\n      <Popup anchor=\"top-left\" bind:open={menuOpen}>\n        <Menu>\n          {#each folders as box, i}\n            <MenuItem icon={metas[i].icon} on:click={() => to(box)}>\n              {metas[i].label}\n            </MenuItem>\n          {/each}\n        </Menu>\n      </Popup>\n    </div>\n    <Ripple />\n  </x-action>\n{/if}",
    "<style>\n  .password{\n    position: relative;\n  }\n\n  .icon{\n    position: absolute;\n    right: 0;\n    top: 0;\n    width: 2em;\n    height: 100%;\n    cursor: pointer;\n    color: rgba(0,0,0,0.4);\n    transition: color 300ms ease;\n    display: flex;\n    font-size: 1.5em;\n    user-select: none;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .icon:hover{\n    color: rgba(0,0,0,0.75);    \n  }\n</style>\n\n<script>\nimport TextField from './TextField.svelte';\nimport Button from './Button.svelte';\n\nimport VisibilityOn from 'svelte-material-icons/Eye.svelte';\nimport VisibilityOff from 'svelte-material-icons/EyeOff.svelte';\n\nlet className = \"\";\nexport {className as class};\n\nexport let value = \"\"\nexport let textFieldProps = {};\nexport let visible = false;\nexport let label = void 0;\nexport let id = void 0;\nexport let name = void 0;\n\n$: textFieldProps.type = visible ? \"text\" : \"password\";\n$: label != null && (textFieldProps.label = label);\n\n// prevent keyboard\nexport const toggle = () => visible = !visible;\n</script>\n\n<div class=\"password {className}\">\n  <TextField {...textFieldProps} bind:value \n  {id}\n  {name}\n  on:input\n  on:focus\n  on:blur\n  on:change\n  />\n  <div class=\"icon\" on:mousedown|preventDefault on:click|preventDefault={toggle}>\n    {#if visible}\n      <VisibilityOn/>\n    {:else}\n      <VisibilityOff/>\n    {/if}\n  </div>\n</div>",
    "<style>\n    .anchor {\n        position: fixed;\n        width: 0;\n        height: 0;\n    }\n\n    .popup {\n        position: relative;\n        width: max-content;\n        display: flex;\n        flex-direction: column;\n        min-width: 10em;\n        background: #fff;\n        border-radius: 3px;\n    }\n\n    .bottom-left {\n        transform: translate(0, -100%);\n    }\n\n    .bottom-center {\n        transform: translate(-50%, -100%);\n    }\n\n    .bottom-right {\n        transform: translate(-100%, -100%);\n    }\n\n    .top-left {\n        transform: translate(0, 0);\n    }\n\n    .top-center {\n        transform: translate(-50%, 0);\n    }\n\n    .top-right {\n        transform: translate(-100%, 0);\n    }\n</style>\n\n<script>\n    export let open = false;\n    export let anchor = \"top-right\";\n                        // bottom-left bottom-left bottom-center top-left top-right top-center\n\n    import {onMount, onDestroy} from \"svelte\";\n\n    const click = () => open && setTimeout(() => open = false, 5);\n    onMount(() => document.addEventListener(\"click\", click, true))\n    onDestroy(() => document.removeEventListener(\"click\", click, true))\n\n    import {fade} from \"svelte/transition\";\n\n    const accommodate = node => {\n        const rect = node.getBoundingClientRect();\n        const bound = {\n            x: 5,\n            y: 5,\n            right: window.innerWidth - 5,\n            bottom: window.innerHeight - 5\n        }\n        if(bound.right < rect.right) {\n            node.style.marginLeft = `${bound.right - rect.right}px`;\n        } else if(bound.x > rect.x){\n            node.style.marginLeft = `${rect.x - bound.x}px`\n        }\n\n        if(bound.bottom < rect.bottom) {\n            node.style.marginTop = `${bound.bottom - rect.bottom}px`;\n        } else if(bound.y > rect.y) {\n            node.style.marginTop = `${rect.y - bound.y}px`;\n        }\n    }\n</script>\n\n<div class=\"anchor\">\n    {#if open}\n        <div class=\"popup elevation-3 {anchor}\" transition:fade|local={{duration: 100}} use:accommodate>\n            <slot />\n        </div>\n    {/if}\n</div>",
    "<style>\n  .progress-button {\n    position: relative;\n  }\n\n  .button {\n    transition: opacity 300ms ease;\n  }\n\n  .inprogress > .button {\n    opacity: 0.5;\n  }\n\n  .progress{\n    display: flex;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n  }\n\n  .progress > :global(.circular-progress){\n    height: 1.25em;\n    width: 1.25em;\n  }\n\n  .progress-button-in{\n    display: flex;\n    flex-direction: row;\n  }\n</style>\n\n<script>\n  import {Button} from 'svelte-mui';\n  import CircularProgress from './CircularProgress.svelte';\n\n  export let inprogress = false;\n  export let progress = {};\n\n  $: disabled = inprogress;\n</script>\n\n<div class=\"progress-button\" class:inprogress>\n  <div class=\"button\">\n    <Button\n      disabled={inprogress}\n      {...$$props}\n      on:click\n      on:change\n      on:focus\n      on:blur\n    >\n      <span class=\"progress-button-in\">\n        <slot/>\n      </span>\n    </Button>\n  </div>\n\n  {#if inprogress}\n    <div class=\"progress\">\n      <CircularProgress {...progress} />\n    </div>\n  {/if}\n</div>",
    "<style>\n.text-field{\n  position: relative;\n  display: flex;\n}\n\ninput, textarea{\n  font: inherit;\n  box-sizing: content-box;\n  outline: none;\n  flex: 1;\n  margin: 0;\n  border: 1px rgba(0,0,0,0.23) solid;\n  border-radius: 3px;\n  padding: 0.9em 0.75em;\n  width: 100%;\n  color: inherit;\n  transition: border-color 150ms ease-in-out;\n  background-color: #fff;\n}\n\ntextarea{\n  resize: none;\n  overflow: auto;\n}\n\ninput:disabled, textarea:disabled{\n  color: rgba(0,0,0,0.5);\n}\n\ninput:focus, textarea:focus{\n  border-color: var(--pc);\n}\n\n.label{\n  position: absolute;\n  top: calc(2px + 0.9em);\n  left: calc(1px + 0.75em);\n  padding: 0 0.4em;\n  margin: 0 -0.4em;\n  pointer-events: none;\n  background: #fff;\n  color: rgba(0,0,0,0.5);\n  transition: color 150ms ease, transform 150ms ease-in-out;\n  transform-origin: top left;\n  max-width: calc(100% - 1em);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.text-field:not(.empty) > .label,\ninput:focus + .label,\ntextarea:focus + .label{\n  transform: scale(0.7) translateY(-165%);\n}\n\ninput:focus + .label,\ntextarea:focus + .label{\n  color: var(--dark);\n}\n\n</style>\n\n<script>\nlet className = \"\";\nexport {className as class};\nexport let type = \"text\";\nexport let value = \"\";\n//export let placeholder = \"\";\nexport let label = null;\nexport let disabled = false;\nexport let readonly = false;\nexport let spellcheck = null; // string\nexport let resize = null; // (none) vertical horizontal both unset initial inherit\nexport let id = null;\nexport let name = null;\nexport let step = null;\nexport let max = null;\nexport let min = null;\n\nexport let multiline = false;\nexport let minrows = 1;\nexport let maxrows = Infinity;\n\nlet rows = 1;\n$:{\n  if(multiline){\n    rows = Math.max(minrows, Math.min(maxrows, value.split(\"\\n\").length))\n  };\n}\n$: empty = value === \"\";\n\nconst handleChange = (event) => {\n  if(type === \"number\"){\n    value = parseFloat(event.target.value) || 0;\n  } else {\n    value = event.target.value;\n  }\n}\n</script>\n\n<div \n  class=\"text-field {className}\"\n  class:empty\n  class:disabled\n  class:readonly\n  class:multiline\n>\n  {#if !multiline}\n    <input \n    {id}\n    {name}\n    {type}\n    {step}\n    {max}\n    {min}\n    {value}\n    {readonly}\n    {disabled}\n    {spellcheck}\n    on:input={handleChange}\n    on:input\n    on:focus\n    on:blur\n    on:change\n    on:keypress\n    on:keydown\n    on:keyup\n    />\n    {#if label != null}\n      <span class=\"label\">{label}</span>\n    {/if}\n  {:else}\n    <textarea \n    {id}\n    {name}\n    {value}\n    {readonly}\n    {disabled}\n    {rows}\n    {spellcheck}\n    on:input={handleChange}\n    on:input\n    on:focus\n    on:blur\n    on:change\n    on:keypress\n    on:keydown\n    on:keyup\n    style={resize ? `resize: \" ${resize}` : ''}\n    />\n    {#if label != null}\n      <span class=\"label\">{label}</span>\n    {/if}\n  {/if}\n</div>",
    "<style>\n  x-file {\n    position: relative;\n    min-width: auto;\n    z-index: 2;\n    flex: 1;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    align-content: center;\n    padding: 0.5em 0;\n    flex: none;\n    background: #fff;\n  }\n\n  x-file:not(:only-child) {\n    border-bottom: var(--border-gray) 1px solid;\n  }\n\n  x-icon {\n    flex: none;\n    width: 4em;\n    height: 4em;\n    background: #ddd;\n    border-radius: 3px;\n    margin-inline-end: 1em;\n    position: relative;\n  }\n\n  x-extension {\n    font-weight: 700;\n    text-transform: uppercase;\n    padding: 0.25em 0.5em;\n    position: absolute;\n    right: -0.5em;\n    bottom: -0.5em;\n    border-radius: 0.2em;\n    background: rgba(0,0,0,0.45);\n    font-size: 0.8em;\n    color: #fff;\n    text-shadow: #000 0 0 2px;\n  }\n\n  x-name {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    margin-inline-end: 1em;\n    flex: 1;\n  }\n\n  x-progress {\n    background-color: var(--pc);\n    position: absolute;\n    height: 3px;\n    left: 0;\n    bottom: 0;\n    transition: width 300ms ease; \n  }\n\n  x-state {\n    font-size: 1.5em;\n    border-radius: 50%;\n    display: flex;\n    flex: none;\n    padding: 0.25em;\n  }\n\n  .complete {\n    color: #558b2f;\n  }\n\n  .error {\n    color: #7f0000;\n  }\n\n  .remove {\n    border-radius: 50%;\n    padding: 0.75em;\n    display: flex;\n    flex: none;\n  }\n\n  .remove:before {\n    top: 50%;\n    left: -1em;\n    transform: translate(-100%, -50%);\n  }\n\n</style>\n\n<script>\n  export let file;\n  import {upload} from \"./upload\";\n  import {getNotifier} from \"comp@Notify/notify.js\";\n\n  import {slide} from \"svelte/transition\";\n\n  import Error from \"svelte-material-icons/AlertCircle.svelte\";\n  import Success from \"svelte-material-icons/CheckCircleOutline.svelte\";\n  import Remove from \"svelte-material-icons/Close.svelte\";  \n\n  import {Ripple} from \"svelte-mui\";\n\n  import {url, extname} from \"lib@fileIcons.js\";\n\n  import {getContext} from \"svelte\";\n  const {remove} = getContext(\"upload\");\n\n  import {quadOut} from \"svelte/easing\"; \n\n  $: ext = extname($file.filename);\n\n  const out = (node, params) => {\n    const h = node.clientHeight;\n    return {\n      easing: quadOut,\n      ...params,\n      css: (t, u) => {\n        return `z-index: 1; margin-top: -${u * h}px; opacity: ${t};`\n      }\n    }\n  }\n\n  export let removeTooltip;\n</script>\n\n\n<x-file out:out|local={{duration: 150}}>\n  <x-icon>\n    <img src={url($file.filename)} alt=\"\" width=\"100%\" height=\"100%\">\n    {#if ext}\n      <x-extension>{ext}</x-extension>\n    {/if}\n  </x-icon>\n  <x-name>{$file.filename}</x-name>\n  {#if $file.state === \"uploading\"}\n    <x-progress style=\"width: {($file.loaded / $file.size) * 100}%\"/>\n  {:else if $file.state === \"complete\"}\n    <x-state class=\"complete\">\n      <Success />\n    </x-state>\n  {:else if $file.state === \"error\"}\n    <x-state class=\"error\" data-tooltip={$file.errorMessage}>\n      <Error />\n    </x-state>\n  {/if}\n  <x-action class=\"remove btn-dark\" data-tooltip={removeTooltip} on:click={() => remove(file)}>\n    <Remove />\n    <Ripple />\n  </x-action>\n</x-file>",
    "<script context=\"module\">\n  export const contexts = new WeakMap();\n</script>\n\n<style>\n  x-upload {\n    display: flex;\n    position: relative;\n  }\n  \n  x-action {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 3em;\n    height: 3em;\n    border-radius: 50%;\n    color: #444;\n  }\n\n  x-action:hover {\n    color: #111;\n  }\n\n  x-action > :global(svg) {\n    font-size: 1.5em;\n  }\n\n  input {\n    display: none;\n  }\n\n  x-bubble {\n    position: absolute;\n    background: var(--pc);\n    border-radius: 50%;\n    width: 1rem;\n    height: 1rem;\n    font-size: 0.7em;\n    color: #fff;\n    box-shadow: rgba(0,0,0,0.4) 0 0 3px 0;\n    top: 0;\n    right: 0.2rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  x-popup {\n    filter: drop-shadow(rgba(0,0,0,0.4) 0 0 3px);\n    transform: translate(0, 0.4em);\n  }\n\n  x-popup-body {\n    position: absolute;\n    top: -0.75em;\n    right: -6em;\n    width: 20rem;\n    max-height: 70vh;\n    background: #fff;\n    border-radius: 3px;\n    display: flex;\n    max-width: 80vw;\n    transform: translate(0, -100%);\n    flex-direction: column;\n  }\n\n  x-popup-top {\n    position: relative;\n    display: flex;\n    flex-direction: row;\n    padding: 0.5em;\n    flex: none;\n  }\n  \n  x-label {\n    flex: 1;\n    margin: 0.5em;\n  }\n\n  x-scroll {\n    padding: 0 0.5em;\n    flex-direction: column;\n    overflow-y: auto;\n    overflow-x: hidden;\n  }\n\n  .arrow {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 1.25em;\n    height: 0.75em;\n    margin-top: -0.8em;\n    margin-left: -2.2em;\n  }\n\n  x-loading {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    pointer-events: none;\n  }\n\n</style>\n\n<script>\n  export let files;\n  export let input;\n  export let open = false;\n  export let loading = false;\n\n  import {setContext, getContext} from \"svelte\";\n  import {fly, scale} from \"svelte/transition\";\n  import FileItem from \"./FileItem.svelte\";\n  import CircularProgress from \"comp@CircularProgress.svelte\";\n  import Clip from \"svelte-material-icons/Paperclip.svelte\"\n  import {Button, Ripple} from \"svelte-mui\";\n  import {createContext} from \"./upload\";\n\n  const change = (e) => {\n    \n    for(const file of input.files) {\n      ctx.add(file)\n    }\n\n    if (input.files.length) {\n      ctx.open.set(true);\n    }\n\n    input.value = null;\n  }\n\n  const {key} = getContext(\"compose\");\n  \n  let ctx;\n  if(contexts.has(key)) {\n    ctx = contexts.get(key);\n  } else {\n    ctx = createContext({files, open, loading});\n    contexts.set(key, ctx);\n  }\n\n  ctx.open.subscribe(v => open = v);\n  ctx.loading.subscribe(v => loading = v)\n  ctx.files.subscribe(fs => {\n    files = fs.map(f => {\n      const {filename, id, contentType, size} = f.get();\n      return {filename, id, contentType, size};\n    })\n  })\n\n  let ctxFiles = ctx.files;\n\n  setContext(\"upload\", ctx);\n\n  const click = e => {\n    if (files.length === 0) {\n      input.click();\n    } else {\n      ctx.open.update(o => !o);\n    }\n  }\n\n  export let locale;\n</script>\n\n<x-upload>\n  \n  <input bind:this={input} on:change={change} type=\"file\" name=\"0-upload\" id=\"0-upload\" multiple>\n  \n  <x-action class=\"upload btn-dark\" data-tooltip={open ? null : locale.tooltip} on:click={click}>\n    <Clip/>\n    <Ripple />\n    {#if loading}\n      <x-loading>\n        <CircularProgress size=\"100%\"/>\n      </x-loading>\n    {/if}\n    {#if $ctxFiles.length}\n      <x-bubble transition:scale={{duration: 200}}>\n        {$ctxFiles.length}\n      </x-bubble>\n    {/if}\n  </x-action>\n\n  {#if open}\n    <x-popup transition:fly={{x: 0, y: 20, duration: 250}}>\n      <svg class=\"arrow\" viewBox=\"0 0 24 24\" preserveAspectRatio=\"none\">\n        <path d=\"M0 0 L24 0 L12 24 L 0 0\" fill=\"#fff\"/>\n      </svg>\n      <x-popup-body>\n        <x-scroll>\n          {#each $ctxFiles as file (file)}\n            <FileItem {file} removeTooltip={locale.remove} />\n          {/each}\n        </x-scroll>\n        <x-popup-top>\n          <x-label></x-label>\n          <Button on:click={() => input.click()}>{locale.add}</Button>\n        </x-popup-top>\n      </x-popup-body>\n    </x-popup>\n  {/if}\n</x-upload>\n  \n\n",
    "<style>\n    .progress {\n        position: fixed;\n        top: 0;\n        left: 0;\n        z-index: 1000000;\n        width: calc(var(--progress) * 100%);\n        will-change: width;\n        height: var(--preloading-height, 3px);\n        background-color: var(--preloading-color, #f5bc05);\n        transition: width 200ms ease, opacity 450ms ease 600ms;\n        pointer-events: none;\n        opacity: 0;\n    }\n\n    .show {\n        opacity: 1;\n        transition: width 100ms ease, opacity 250ms;\n    }\n</style>\n\n<script>\n    export let preloading;\n\n    let progress = 0;\n\n    let timer;\n    let incrementInterval = 350;\n    let stepMin = 0.05;\n    let stepMax = 0.15;\n    let max = 0.9;\n    let min = 0.15;\n\n    const rand = () => {\n        return stepMin + Math.random() * stepMax - stepMin;\n    }\n\n    let show = preloading;\n    const enter = () => {\n        clearTimeout(timer);\n        progress = min;\n        show = true;\n        timer = setInterval(() => {\n            progress = Math.min(max, progress + rand());\n        }, incrementInterval);\n    }\n\n    const leave = () => {\n        clearInterval(timer);\n        progress = 1;\n        show = false;\n        timer = setTimeout(() => progress = 0, 1050)\n    }\n\n    $: $preloading ? enter() : leave();\n\n    // prevent first show\n    let mounted = false;\n    import {onMount} from \"svelte\";\n    onMount(() => {\n        setTimeout(() => {\n            mounted = true;\n        }, 1000)\n    })\n\n</script>\n\n<div class=\"progress\" class:show={mounted && show} style=\"--progress: {progress};\"></div>",
    "<style>\n  form{\n    box-sizing: border-box; \n    border-top: 4px solid var(--pc);\n    border-radius: 3px;\n    box-shadow: 0 2px 4px 0 rgba(0,0,0,.2);\n    background: #fff;\n    padding: 3em;\n    width: 90%;\n    max-width: 400px;\n    margin: 0 auto;\n  }\n  \n  .field{\n    margin-bottom: 3em;\n  }\n\n  .button{\n    display: flex;\n    flex-direction: row-reverse;\n  }\n\n  h1 {\n    text-align: center;\n    margin: 2em 0;\n  }\n</style>\n\n<script>\n  import {getContext} from \"svelte\"; \n\n  //import Page from \"/comp/Page.svelte\";\n  import TextField from \"comp@TextField.svelte\";\n  import Password from \"comp@Password.svelte\";\n  //import Button from \"comp@Button.svelte\";\n  import {Button} from \"svelte-mui\";\n\n  import {getNotifier} from \"comp@Notify/notify.js\";\n\n  let username = \"\";\n  let password = \"\";\n\n  import {login} from \"lib@client/client.js\"\n\n  const handleSubmit = async event => {\n    \n    event.preventDefault();\n    \n    try {\n      const user = await fetch(\"/login\", {\n        method: \"POST\", \n        headers: {\"content-type\": \"application/json\"},\n        body: JSON.stringify({username, password})\n      }).then(res => res.json());\n\n      if(user.error) {\n        throw new Error(user.error.message);\n      }\n      location.href = \"/\";\n    } catch (e) {\n      getNotifier().add({variant: \"error\", text: e.message});\n    }\n  }\n\n  const {locale: l} = getContext(\"app\");\n  export let locale = $l.login;\n\n</script>\n\n<svelte:head>\n  <title>{locale.title}</title>\n</svelte:head>\n\n<h1>{locale.title}</h1>\n<form action=\"#!/login\" method=\"post\" on:submit={handleSubmit}>\n  <div class=\"field\">\n    <TextField bind:value={username} name=\"username\" label={locale.labels.username}/>\n  </div>\n  <div class=\"field\">\n    <Password bind:value={password} name=\"password\" label={locale.labels.password}/>\n  </div>\n  <div class=\"button\">\n    <Button color=\"var(--pc)\" raised>\n      {locale.action}\n    </Button>\n  </div>\n</form>"
  ],
  "names": [],
  "mappings": "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"
}